var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function u(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function l(t){return null==t?"":t}function c(t,e,n){return t.set(n),e}const h="undefined"!=typeof window;let f=h?()=>window.performance.now():()=>Date.now(),d=h?t=>requestAnimationFrame(t):t;const p=new Set;function g(t){p.forEach((e=>{e.c(t)||(p.delete(e),e.f())})),0!==p.size&&d(g)}function m(t){let e;return 0===p.size&&d(g),{promise:new Promise((n=>{p.add(e={c:t,f:n})})),abort(){p.delete(e)}}}const D="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function v(t,e){t.appendChild(e)}function y(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function w(t){const e=E("style");return function(t,e){v(t.head||t,e),e.sheet}(y(t),e),e.sheet}function x(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode&&t.parentNode.removeChild(t)}function A(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function E(t){return document.createElement(t)}function F(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function C(t){return document.createTextNode(t)}function _(){return C(" ")}function M(){return C("")}function N(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function B(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t){return""===t?null:+t}function S(t,e){e=""+e,t.data!==e&&(t.data=e)}function T(t,e){t.value=null==e?"":e}function k(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}const z=new Map;let O,q=0;function I(t,e,n,r,i,o,u,a=0){const s=16.666/r;let l="{\n";for(let t=0;t<=1;t+=s){const r=e+(n-e)*o(t);l+=100*t+`%{${u(r,1-r)}}\n`}const c=l+`100% {${u(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(c)}_${a}`,f=y(t),{stylesheet:d,rules:p}=z.get(f)||function(t,e){const n={stylesheet:w(e),rules:{}};return z.set(t,n),n}(f,t);p[h]||(p[h]=!0,d.insertRule(`@keyframes ${h} ${c}`,d.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${h} ${r}ms linear ${i}ms 1 both`,q+=1,h}function j(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),q-=i,q||d((()=>{q||(z.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&b(e)})),z.clear())})))}function R(t){O=t}function P(t){(function(){if(!O)throw new Error("Function called outside component initialization");return O})().$$.on_mount.push(t)}const W=[],L=[];let V=[];const H=[],U=Promise.resolve();let Z=!1;function Y(t){V.push(t)}const X=new Set;let Q,J=0;function G(){if(0!==J)return;const t=O;do{try{for(;J<W.length;){const t=W[J];J++,R(t),K(t.$$)}}catch(t){throw W.length=0,J=0,t}for(R(null),W.length=0,J=0;L.length;)L.pop()();for(let t=0;t<V.length;t+=1){const e=V[t];X.has(e)||(X.add(e),e())}V.length=0}while(W.length);for(;H.length;)H.pop()();Z=!1,X.clear(),R(t)}function K(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}function tt(t,e,n){t.dispatchEvent(function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}(`${e?"intro":"outro"}${n}`))}const et=new Set;let nt;function rt(){nt={r:0,c:[],p:nt}}function it(){nt.r||o(nt.c),nt=nt.p}function ot(t,e){t&&t.i&&(et.delete(t),t.i(e))}function ut(t,e,n,r){if(t&&t.o){if(et.has(t))return;et.add(t),nt.c.push((()=>{et.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}const at={duration:0};function st(n,r,i,a){const s={direction:"both"};let l=r(n,i,s),c=a?0:1,h=null,d=null,p=null;function g(){p&&j(n,p)}function D(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function v(r){const{delay:i=0,duration:u=300,easing:a=e,tick:s=t,css:v}=l||at,y={start:f()+i,b:r};r||(y.group=nt,nt.r+=1),h||d?d=y:(v&&(g(),p=I(n,c,r,u,i,a,v)),r&&s(0,1),h=D(y,u),Y((()=>tt(n,r,"start"))),m((t=>{if(d&&t>d.start&&(h=D(d,u),d=null,tt(n,h.b,"start"),v&&(g(),p=I(n,c,h.b,h.duration,0,a,l.css))),h)if(t>=h.end)s(c=h.b,1-c),tt(n,h.b,"end"),d||(h.b?g():--h.group.r||o(h.group.c)),h=null;else if(t>=h.start){const e=t-h.start;c=h.a+h.d*a(e/h.duration),s(c,1-c)}return!(!h&&!d)})))}return{run(t){u(l)?(Q||(Q=Promise.resolve(),Q.then((()=>{Q=null}))),Q).then((()=>{l=l(s),v(t)})):v(t)},end(){g(),h=d=null}}}function lt(t){t&&t.c()}function ct(t,e,n,i){const{fragment:a,after_update:s}=t.$$;a&&a.m(e,n),i||Y((()=>{const e=t.$$.on_mount.map(r).filter(u);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),s.forEach(Y)}function ht(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];V.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),V=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ft(t,e){-1===t.$$.dirty[0]&&(W.push(t),Z||(Z=!0,U.then(G)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function dt(e,n,r,u,a,s,l,c=[-1]){const h=O;R(e);const f=e.$$={fragment:null,ctx:[],props:s,update:t,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:i(),dirty:c,skip_bound:!1,root:n.target||h.$$.root};l&&l(f.root);let d=!1;if(f.ctx=r?r(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),d&&ft(e,t)),n})):[],f.update(),d=!0,o(f.before_update),f.fragment=!!u&&u(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(b)}else f.fragment&&f.fragment.c();n.intro&&ot(e.$$.fragment),ct(e,n.target,n.anchor,n.customElement),G()}R(h)}class pt{$destroy(){ht(this,1),this.$destroy=t}$on(e,n){if(!u(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function gt(e){let n,r,i,o,u,a,s,l,c,h,f,d,p,g,m,D;return{c(){n=E("div"),r=E("a"),i=F("svg"),o=F("g"),u=F("g"),a=F("path"),s=F("path"),l=F("path"),c=F("path"),h=F("g"),f=F("path"),d=F("defs"),p=F("clipPath"),g=F("rect"),m=_(),D=E("h2"),D.innerHTML='MLU-EXPL<span id="ai" class="svelte-htd26v">AI</span>N',B(a,"id","Vector"),B(a,"d","M90.6641 83.1836C96.8828 83.1836 101.941 78.1289 101.941 71.8906V71.8242C101.941 65.5898 96.8945 60.5312 90.6641 60.5312C84.4453 60.5312 79.3828 65.5898 79.3828 71.8242V71.8906C79.3828 78.1289 84.4336 83.1836 90.6641 83.1836Z"),B(a,"fill",e[1]),B(s,"id","Vector_2"),B(s,"d","M143.305 83.1836C149.523 83.1836 154.586 78.1289 154.586 71.8906V71.8242C154.586 65.5898 149.535 60.5312 143.305 60.5312C137.09 60.5312 132.027 65.5898 132.027 71.8242V71.8906C132.027 78.1289 137.078 83.1836 143.305 83.1836Z"),B(s,"fill",e[1]),B(l,"id","Vector_3"),B(l,"d","M163.586 159.402H173.609V122.641H163.586V159.402Z"),B(l,"fill",e[1]),B(c,"id","Vector_4"),B(c,"d","M60.3594 159.402H70.3867V122.641H60.3594V159.402Z"),B(c,"fill",e[1]),B(f,"id","Vector_5"),B(f,"d","M182.16 30.0781H51.8047V10.0234H182.16V30.0781ZM182.16 103.609H51.8047V40.1055H182.16V103.609ZM144.559 168.789H89.4062V113.641H144.559V168.789ZM0 0V10.0234H15.8789V46.7891H25.9023V10.0234H41.7812V113.641H79.3867V178.816H96.9297V215.578H106.957V178.816H127.016V215.578H137.039V178.816H154.586V113.641H192.188V10.0234H233.969V0"),B(f,"fill",e[1]),B(h,"id","Group"),B(o,"id","mlu_robot 1"),B(o,"clip-path","url(#clip0)"),B(g,"width","233.97"),B(g,"height","215.58"),B(g,"fill","black"),B(p,"id","clip0"),B(i,"width","30"),B(i,"height","30"),B(i,"viewBox","0 0 234 216"),B(D,"class","logo svelte-htd26v"),B(r,"href","https://house-of-wisdom-edu.github.io/Machine-learning/"),B(r,"class","svelte-htd26v"),B(n,"id","intro-icon"),k(n,"--ai-color",e[0]),B(n,"class","svelte-htd26v")},m(t,e){x(t,n,e),v(n,r),v(r,i),v(i,o),v(o,u),v(u,a),v(u,s),v(u,l),v(u,c),v(u,h),v(h,f),v(i,d),v(d,p),v(p,g),v(r,m),v(r,D)},p(t,[e]){2&e&&B(a,"fill",t[1]),2&e&&B(s,"fill",t[1]),2&e&&B(l,"fill",t[1]),2&e&&B(c,"fill",t[1]),2&e&&B(f,"fill",t[1]),1&e&&k(n,"--ai-color",t[0])},i:t,o:t,d(t){t&&b(n)}}}function mt(t,e,n){let{aiLogoColor:r="black"}=e,{robotLogoColor:i="black"}=e;return t.$$set=t=>{"aiLogoColor"in t&&n(0,r=t.aiLogoColor),"robotLogoColor"in t&&n(1,i=t.robotLogoColor)},[r,i]}class Dt extends pt{constructor(t){super(),dt(this,t,mt,gt,a,{aiLogoColor:0,robotLogoColor:1})}}function vt(e){let n;return{c(){n=E("section"),n.innerHTML='<h1 id="intro-hed" class="svelte-qiih5n">Reinforcement Learning</h1> \n  <h1 class="intro-sub svelte-qiih5n">A Gentle Introduction To Learning From Decisions</h1> \n  <h3 id="intro__date" class="svelte-qiih5n"><a href="https://erinbugbee.com">Erin Bugbee</a>, <a href="https://www.linkedin.com/in/anand-kamat/">Anand Kamat</a>, &amp;\n    <a href="https://twitter.com/jdwlbr">Jared Wilber</a></h3>',B(n,"id","intro"),B(n,"class","svelte-qiih5n")},m(t,e){x(t,n,e)},p:t,i:t,o:t,d(t){t&&b(n)}}}class yt extends pt{constructor(t){super(),dt(this,t,null,vt,a,{})}}function wt(e){let n;return{c(){n=E("section"),n.innerHTML='<p class="body-text">In many situations, we learn by interacting with our environment. We observe\n    the current situation, take actions, and observe outcomes, and then reflect\n    on these previous occurrences when we take our next action. The field of\n    psychology has historically studied the human ability to learn from the\n    reinforcement of behaviors, and this influenced the development of an area\n    of machine learning: <span class="bold">reinforcement learning</span>. Reinforcement learning (RL)\n    is an area of machine learning that focuses on how learning from interacting\n    with an environment can occur effectively for intelligent agents.\n    <br/><br/>\n    The goal of RL problems is to learn which actions to take and when to take them\n    to maximize cumulative reward over time. This differs from supervised learning,\n    as the decision maker is not told what is the correct action in the current situation\n    and instead must learn from the consequences of its own actions. It is also different\n    from unsupervised learning, as the goal is not to find structure in unlabeled\n    data but instead to maximize reward.</p>'},m(t,e){x(t,n,e)},p:t,i:t,o:t,d(t){t&&b(n)}}}class xt extends pt{constructor(t){super(),dt(this,t,null,wt,a,{})}}function bt(e){let n;return{c(){n=E("section"),n.innerHTML='<h1 class="body-header">Problem Structure</h1> \n\n  <p class="body-text">In reinforcement learning problems, there is an <span class="bold">agent</span>\n    who makes decisions and learns how to achieve a goal. This agent interacts\n    with the <span class="bold">environment</span>\n    by taking <span class="bold">actions</span>. The environment produces\n    <span class="bold">rewards</span>\n    as a result of the actions taken, and these rewards provide insight into the\n    overall <span class="bold">value</span> of taking an action in a particular\n    state. Actions may affect the environment, leading to changes in\n    <span class="bold">state</span>, which the agent observes. This process\n    continues with the agent taking actions and observing the resulting reward.\n    The agent uses this information to learn what actions it should take\n    depending on the circumstance. This mapping from states to actions governing \n    the agent&#39;s behavior is called a <span class="bold">policy</span>. The agent also learns a\n    <span class="bold">value function</span> which it uses to estimate how\n    desirable the states are when behaving according to the policy. The learning in\n    reinforcement learning comes from the agent changing its policy and updating\n    its value function as a result of its experiences in the environment.\n    <br/><br/>\n    Typically, the agent interacts with the environment over time. At each time step,\n    an action is taken based on the agent’s policy, a reward is obtained, and the\n    next state is observed. The sequence of transitions experienced by the agent\n    starting from the intitial state until the final state is called a trial or an\n    episode.</p>'},m(t,e){x(t,n,e)},p:t,i:t,o:t,d(t){t&&b(n)}}}class At extends pt{constructor(t){super(),dt(this,t,null,bt,a,{})}}const Et=Math.PI,Ft=2*Et,Ct=1e-6,_t=Ft-Ct;function Mt(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Nt(){return new Mt}function Bt(t){return function(){return t}}function $t(t){this._context=t}function St(t){return new $t(t)}function Tt(t){return t[0]}function kt(t){return t[1]}function zt(t,e){var n=Bt(!0),r=null,i=St,o=null;function u(u){var a,s,l,c=(u=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(u)).length,h=!1;for(null==r&&(o=i(l=Nt())),a=0;a<=c;++a)!(a<c&&n(s=u[a],a,u))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(s,a,u),+e(s,a,u));if(l)return o=null,l+""||null}return t="function"==typeof t?t:void 0===t?Tt:Bt(t),e="function"==typeof e?e:void 0===e?kt:Bt(e),u.x=function(e){return arguments.length?(t="function"==typeof e?e:Bt(+e),u):t},u.y=function(t){return arguments.length?(e="function"==typeof t?t:Bt(+t),u):e},u.defined=function(t){return arguments.length?(n="function"==typeof t?t:Bt(!!t),u):n},u.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),u):i},u.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),u):r},u}function Ot(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function qt(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>Ot(t(e),n)}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const u=r(t,n,i,o-1);return u>i&&e(t[u-1],n)>-e(t[u],n)?u-1:u},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}Mt.prototype=Nt.prototype={constructor:Mt,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,u=this._y1,a=n-t,s=r-e,l=o-t,c=u-e,h=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Ct)if(Math.abs(c*a-s*l)>Ct&&i){var f=n-o,d=r-u,p=a*a+s*s,g=f*f+d*d,m=Math.sqrt(p),D=Math.sqrt(h),v=i*Math.tan((Et-Math.acos((p+h-g)/(2*m*D)))/2),y=v/D,w=v/m;Math.abs(y-1)>Ct&&(this._+="L"+(t+y*l)+","+(e+y*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*d)+","+(this._x1=t+w*a)+","+(this._y1=e+w*s)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var u=(n=+n)*Math.cos(r),a=n*Math.sin(r),s=t+u,l=e+a,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>Ct||Math.abs(this._y1-l)>Ct)&&(this._+="L"+s+","+l),n&&(h<0&&(h=h%Ft+Ft),h>_t?this._+="A"+n+","+n+",0,1,"+c+","+(t-u)+","+(e-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):h>Ct&&(this._+="A"+n+","+n+",0,"+ +(h>=Et)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},$t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};const It=qt(Ot).right;qt((function(t){return null===t?NaN:+t})).center;var jt=It,Rt=Math.sqrt(50),Pt=Math.sqrt(10),Wt=Math.sqrt(2);function Lt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Rt?10:o>=Pt?5:o>=Wt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Rt?10:o>=Pt?5:o>=Wt?2:1)}function Vt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Ht(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ut(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Zt(){}var Yt=.7,Xt=1/Yt,Qt="\\s*([+-]?\\d+)\\s*",Jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kt=/^#([0-9a-f]{3,8})$/,te=new RegExp(`^rgb\\(${Qt},${Qt},${Qt}\\)$`),ee=new RegExp(`^rgb\\(${Gt},${Gt},${Gt}\\)$`),ne=new RegExp(`^rgba\\(${Qt},${Qt},${Qt},${Jt}\\)$`),re=new RegExp(`^rgba\\(${Gt},${Gt},${Gt},${Jt}\\)$`),ie=new RegExp(`^hsl\\(${Jt},${Gt},${Gt}\\)$`),oe=new RegExp(`^hsla\\(${Jt},${Gt},${Gt},${Jt}\\)$`),ue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ae(){return this.rgb().formatHex()}function se(){return this.rgb().formatRgb()}function le(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Kt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ce(e):3===n?new de(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?he(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?he(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=te.exec(t))?new de(e[1],e[2],e[3],1):(e=ee.exec(t))?new de(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ne.exec(t))?he(e[1],e[2],e[3],e[4]):(e=re.exec(t))?he(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ie.exec(t))?ye(e[1],e[2]/100,e[3]/100,1):(e=oe.exec(t))?ye(e[1],e[2]/100,e[3]/100,e[4]):ue.hasOwnProperty(t)?ce(ue[t]):"transparent"===t?new de(NaN,NaN,NaN,0):null}function ce(t){return new de(t>>16&255,t>>8&255,255&t,1)}function he(t,e,n,r){return r<=0&&(t=e=n=NaN),new de(t,e,n,r)}function fe(t,e,n,r){return 1===arguments.length?((i=t)instanceof Zt||(i=le(i)),i?new de((i=i.rgb()).r,i.g,i.b,i.opacity):new de):new de(t,e,n,null==r?1:r);var i}function de(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function pe(){return`#${ve(this.r)}${ve(this.g)}${ve(this.b)}`}function ge(){const t=me(this.opacity);return`${1===t?"rgb(":"rgba("}${De(this.r)}, ${De(this.g)}, ${De(this.b)}${1===t?")":`, ${t})`}`}function me(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function De(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ve(t){return((t=De(t))<16?"0":"")+t.toString(16)}function ye(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new xe(t,e,n,r)}function we(t){if(t instanceof xe)return new xe(t.h,t.s,t.l,t.opacity);if(t instanceof Zt||(t=le(t)),!t)return new xe;if(t instanceof xe)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),u=NaN,a=o-i,s=(o+i)/2;return a?(u=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=s<.5?o+i:2-o-i,u*=60):a=s>0&&s<1?0:u,new xe(u,a,s,t.opacity)}function xe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function be(t){return(t=(t||0)%360)<0?t+360:t}function Ae(t){return Math.max(0,Math.min(1,t||0))}function Ee(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Ht(Zt,le,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ae,formatHex:ae,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return we(this).formatHsl()},formatRgb:se,toString:se}),Ht(de,fe,Ut(Zt,{brighter(t){return t=null==t?Xt:Math.pow(Xt,t),new de(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Yt:Math.pow(Yt,t),new de(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new de(De(this.r),De(this.g),De(this.b),me(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pe,formatHex:pe,formatHex8:function(){return`#${ve(this.r)}${ve(this.g)}${ve(this.b)}${ve(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ge,toString:ge})),Ht(xe,(function(t,e,n,r){return 1===arguments.length?we(t):new xe(t,e,n,null==r?1:r)}),Ut(Zt,{brighter(t){return t=null==t?Xt:Math.pow(Xt,t),new xe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Yt:Math.pow(Yt,t),new xe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new de(Ee(t>=240?t-240:t+120,i,r),Ee(t,i,r),Ee(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new xe(be(this.h),Ae(this.s),Ae(this.l),me(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=me(this.opacity);return`${1===t?"hsl(":"hsla("}${be(this.h)}, ${100*Ae(this.s)}%, ${100*Ae(this.l)}%${1===t?")":`, ${t})`}`}}));var Fe=t=>()=>t;function Ce(t){return 1==(t=+t)?_e:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Fe(isNaN(e)?n:e)}}function _e(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Fe(isNaN(t)?e:t)}var Me=function t(e){var n=Ce(e);function r(t,e){var r=n((t=fe(t)).r,(e=fe(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),u=_e(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=u(e),t+""}}return r.gamma=t,r}(1);function Ne(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Be(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(n=0;n<i;++n)o[n]=qe(t[n],e[n]);for(;n<r;++n)u[n]=e[n];return function(t){for(n=0;n<i;++n)u[n]=o[n](t);return u}}function $e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Se(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Te(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=qe(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var ke=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ze=new RegExp(ke.source,"g");function Oe(t,e){var n,r,i,o=ke.lastIndex=ze.lastIndex=0,u=-1,a=[],s=[];for(t+="",e+="";(n=ke.exec(t))&&(r=ze.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(n=n[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,s.push({i:u,x:Se(n,r)})),o=ze.lastIndex;return o<e.length&&(i=e.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)a[(n=s[r]).i]=n.x(t);return a.join("")})}function qe(t,e){var n,r=typeof e;return null==e||"boolean"===r?Fe(e):("number"===r?Se:"string"===r?(n=le(e))?(e=n,Me):Oe:e instanceof le?Me:e instanceof Date?$e:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Ne:Array.isArray(e)?Be:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Te:Se)(t,e)}function Ie(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function je(t){return+t}var Re=[0,1];function Pe(t){return t}function We(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Le(t,e,n){var r=t[0],i=t[1],o=e[0],u=e[1];return i<r?(r=We(i,r),o=n(u,o)):(r=We(r,i),o=n(o,u)),function(t){return o(r(t))}}function Ve(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<r;)i[u]=We(t[u],t[u+1]),o[u]=n(e[u],e[u+1]);return function(e){var n=jt(t,e,1,r)-1;return o[n](i[n](e))}}function He(){var t,e,n,r,i,o,u=Re,a=Re,s=qe,l=Pe;function c(){var t,e,n,s=Math.min(u.length,a.length);return l!==Pe&&(t=u[0],e=u[s-1],t>e&&(n=t,t=e,e=n),l=function(n){return Math.max(t,Math.min(e,n))}),r=s>2?Ve:Le,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(u.map(t),a,s)))(t(l(e)))}return h.invert=function(n){return l(e((o||(o=r(a,u.map(t),Se)))(n)))},h.domain=function(t){return arguments.length?(u=Array.from(t,je),c()):u.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),c()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),s=Ie,c()},h.clamp=function(t){return arguments.length?(l=!!t||Pe,c()):l!==Pe},h.interpolate=function(t){return arguments.length?(s=t,c()):s},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}function Ue(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ze(t){return(t=Ue(Math.abs(t)))?t[1]:NaN}var Ye,Xe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qe(t){if(!(e=Xe.exec(t)))throw new Error("invalid format: "+t);var e;return new Je({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Je(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ge(t,e){var n=Ue(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Qe.prototype=Je.prototype,Je.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ke={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ge(100*t,e),r:Ge,s:function(t,e){var n=Ue(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ye=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ue(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function tn(t){return t}var en,nn,rn,on=Array.prototype.map,un=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function an(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?tn:(e=on.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],u=0,a=e[0],s=0;i>0&&a>0&&(s+a+1>r&&(a=Math.max(1,r-s)),o.push(t.substring(i-=a,i+a)),!((s+=a+1)>r));)a=e[u=(u+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?tn:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(on.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Qe(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,D=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Ke[v]||(void 0===m&&(m=12),D=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var y="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===f?o:/[%p]/.test(v)?s:"",x=Ke[v],b=/[defgprs%]/.test(v);function A(t){var i,o,s,f=y,A=w;if("c"===v)A=x(t)+A,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),m),D&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),E&&0==+t&&"+"!==h&&(E=!1),f=(E?"("===h?h:l:"-"===h||"("===h?"":h)+f,A=("s"===v?un[8+Ye/3]:"")+A+(E&&"("===h?")":""),b)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){A=(46===s?u+t.slice(i+1):t.slice(i))+A,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var F=f.length+t.length+A.length,C=F<p?new Array(p-F+1).join(e):"";switch(g&&d&&(t=r(C+t,C.length?p-A.length:1/0),C=""),n){case"<":t=f+t+A+C;break;case"=":t=f+C+t+A;break;case"^":t=C.slice(0,F=C.length>>1)+f+t+A+C.slice(F);break;default:t=C+f+t+A}return a(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),A.toString=function(){return t+""},A}return{format:h,formatPrefix:function(t,e){var n=h(((t=Qe(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ze(e)/3))),i=Math.pow(10,-r),o=un[8+r/3];return function(t){return n(i*t)+o}}}}function sn(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Rt?i*=10:o>=Pt?i*=5:o>=Wt&&(i*=2),e<t?-i:i}(t,e,n);switch((r=Qe(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ze(e)/3)))-Ze(Math.abs(t)))}(o,u))||(r.precision=i),rn(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ze(e)-Ze(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Ze(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return nn(r)}function ln(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,u,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(u=Lt(t,e,n))||!isFinite(u))return[];if(u>0){let n=Math.round(t/u),r=Math.round(e/u);for(n*u<t&&++n,r*u>e&&--r,o=new Array(i=r-n+1);++a<i;)o[a]=(n+a)*u}else{u=-u;let n=Math.round(t*u),r=Math.round(e*u);for(n/u<t&&++n,r/u>e&&--r,o=new Array(i=r-n+1);++a<i;)o[a]=(n+a)/u}return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return sn(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),u=0,a=o.length-1,s=o[u],l=o[a],c=10;for(l<s&&(i=s,s=l,l=i,i=u,u=a,a=i);c-- >0;){if((i=Lt(s,l,n))===r)return o[u]=s,o[a]=l,e(o);if(i>0)s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function cn(){var t=He()(Pe,Pe);return t.copy=function(){return e=t,cn().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());var e},Vt.apply(t,arguments),ln(t)}en=an({thousands:",",grouping:[3],currency:["$",""]}),nn=en.format,rn=en.formatPrefix;const hn=[];function fn(e,n=t){let r;const i=new Set;function o(t){if(a(e,t)&&(e=t,r)){const t=!hn.length;for(const t of i)t[1](),hn.push(t,e);if(t){for(let t=0;t<hn.length;t+=2)hn[t][0](hn[t+1]);hn.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(u,a=t){const s=[u,a];return i.add(s),1===i.size&&(r=n(o)||t),u(e),()=>{i.delete(s),0===i.size&&r&&(r(),r=null)}}}}function dn(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function pn(t){return"[object Date]"===Object.prototype.toString.call(t)}function gn(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>gn(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(pn(t)&&pn(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=gn(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function mn(t,r={}){const i=fn(t);let o,u=t;function a(a,s){if(null==t)return i.set(t=a),Promise.resolve();u=a;let l=o,c=!1,{delay:h=0,duration:d=400,easing:p=e,interpolate:g=gn}=n(n({},r),s);if(0===d)return l&&(l.abort(),l=null),i.set(t=u),Promise.resolve();const D=f()+h;let v;return o=m((e=>{if(e<D)return!0;c||(v=g(t,a),"function"==typeof d&&(d=d(t,a)),c=!0),l&&(l.abort(),l=null);const n=e-D;return n>d?(i.set(t=a),!1):(i.set(t=v(p(n/d))),!0)})),o.promise}return{set:a,update:(e,n)=>a(e(u,t),n),subscribe:i.subscribe}}const Dn=fn({top:0,bottom:0,left:0,right:0}),vn=fn(.2),yn=fn(.5),wn=fn(.5),xn=fn(500),bn=fn(500),An=fn({top:8,bottom:12,left:16,right:0}),En=fn(125),Fn=fn({top:8,bottom:20,left:16,right:0}),Cn=fn(430),_n=fn(200),Mn=fn(.22),Nn=fn(.13),Bn=fn(.09),$n=mn({x:.5,y:.5},{duration:200,easing:dn}),Sn=mn({x:3.5,y:.5},{duration:200,easing:dn}),Tn=mn({x:.5,y:1.5},{duration:200,easing:dn}),kn=fn(0),zn=fn(25),On=fn([[0,0],[3,3],[3,1],[3,0],[3,0]]),qn=fn([[2,3],[0,0],[0,2],[0,2],[0,1]]),In=fn([[2,2],[3,1],[2,2],[1,2],[1,1]]),jn=fn([[0,1],[3,2],[3,2],[3,1],[3,3]]),Rn=fn([{x:3.5,y:.5}]),Pn=fn([{x:3.5,y:1.5}]),Wn=fn([{episodeNumber:[1,2,3],left:[2,4,6],right:[1,2,3],maxDirection:[1,1,1]}]),Ln=fn(15),Vn=fn([{episodeNumber:[0],left:[0],right:[0],maxDirection:["left"]},{episodeNumber:[0],left:[0],right:[0],maxDirection:["left"]},{episodeNumber:[0],left:[0],right:[0],maxDirection:["left"]},{episodeNumber:[0],left:[0],right:[0],maxDirection:["left"]},{episodeNumber:[0],left:[0],right:[0],maxDirection:["left"]},{episodeNumber:[0],left:[0],right:[0],maxDirection:["left"]},{episodeNumber:[0],left:[0],right:[0],maxDirection:["left"]},{episodeNumber:[0],left:[0],right:[0],maxDirection:["left"]}]),Hn=fn([{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]},{episodeNumber:[],up:[],down:[],left:[],right:[],maxDirection:[]}]);function Un(t,e,n){const r=t.slice();return r[10]=e[n],r}function Zn(t,e,n){const r=t.slice();return r[10]=e[n],r}function Yn(t){let e,n,r,i,o=(t[10]%t[2]==0?t[7](t[10]):"")+"";return{c(){e=F("g"),n=F("text"),r=C(o),B(n,"class","axis-text svelte-nbmex2"),B(n,"y","17"),B(n,"text-anchor","middle"),B(e,"transform",i=`translate(${t[1](t[10])+0} ${Gn-t[6].bottom})`)},m(t,i){x(t,e,i),v(e,n),v(n,r)},p(t,n){6&n&&o!==(o=(t[10]%t[2]==0?t[7](t[10]):"")+"")&&S(r,o),2&n&&i!==(i=`translate(${t[1](t[10])+0} ${Gn-t[6].bottom})`)&&B(e,"transform",i)},d(t){t&&b(e)}}}function Xn(t){let e,n,r,i,o,u,a=(t[10]%2==0?t[7](t[10]):"")+"";return{c(){e=F("g"),n=F("text"),r=C(a),o=F("line"),u=F("line"),B(n,"class","axis-text svelte-nbmex2"),B(n,"y","0"),B(n,"dx","1"),B(n,"text-anchor","end"),B(n,"dominant-baseline","middle"),B(e,"transform",i=`translate(${t[6].left-5} ${t[0](t[10])+0})`),B(o,"class","axis-line svelte-nbmex2"),B(o,"x1",t[6].left),B(o,"x2",t[6].left),B(o,"y1",t[6].top),B(o,"y2",Gn-t[6].bottom),B(o,"stroke","black"),B(u,"class","axis-line svelte-nbmex2"),B(u,"x1",t[6].left),B(u,"x2",Jn-t[6].right),B(u,"y1",Gn-t[6].bottom),B(u,"y2",Gn-t[6].bottom),B(u,"stroke","black")},m(t,i){x(t,e,i),v(e,n),v(n,r),x(t,o,i),x(t,u,i)},p(t,n){1&n&&a!==(a=(t[10]%2==0?t[7](t[10]):"")+"")&&S(r,a),1&n&&i!==(i=`translate(${t[6].left-5} ${t[0](t[10])+0})`)&&B(e,"transform",i)},d(t){t&&b(e),t&&b(o),t&&b(u)}}}function Qn(t){let e,n,r,i,o,u,a,s,l,c,h,f,d,p=t[1].ticks(),g=[];for(let e=0;e<p.length;e+=1)g[e]=Yn(Zn(t,p,e));let m=t[0].ticks(),D=[];for(let e=0;e<m.length;e+=1)D[e]=Xn(Un(t,m,e));return{c(){e=F("svg"),n=F("path"),o=F("path");for(let t=0;t<g.length;t+=1)g[t].c();s=F("text"),l=C("Number of Actions"),c=F("text"),h=C("Q-Value");for(let t=0;t<D.length;t+=1)D[t].c();B(n,"class","pathLeft-line path svelte-nbmex2"),B(n,"d",r=t[3](t[5])),B(o,"class","pathRight-line path svelte-nbmex2"),B(o,"d",u=t[3](t[4])),B(s,"class","bandit-axis-label svelte-nbmex2"),B(s,"y",Gn-7),B(s,"x",Jn/2),B(s,"text-anchor","middle"),B(c,"class","bandit-axis-label svelte-nbmex2"),B(c,"y",t[6].left/3),B(c,"x",f=-t[0](1)),B(c,"text-anchor","middle"),B(c,"transform","rotate(-90)"),B(e,"width",Jn),B(e,"height",Gn)},m(t,r){x(t,e,r),v(e,n),v(e,o);for(let t=0;t<g.length;t+=1)g[t]&&g[t].m(e,null);v(e,s),v(s,l),v(e,c),v(c,h);for(let t=0;t<D.length;t+=1)D[t]&&D[t].m(e,null);d=!0},p(t,[i]){if((!d||40&i&&r!==(r=t[3](t[5])))&&B(n,"d",r),(!d||24&i&&u!==(u=t[3](t[4])))&&B(o,"d",u),198&i){let n;for(p=t[1].ticks(),n=0;n<p.length;n+=1){const r=Zn(t,p,n);g[n]?g[n].p(r,i):(g[n]=Yn(r),g[n].c(),g[n].m(e,s))}for(;n<g.length;n+=1)g[n].d(1);g.length=p.length}if((!d||1&i&&f!==(f=-t[0](1)))&&B(c,"x",f),193&i){let n;for(m=t[0].ticks(),n=0;n<m.length;n+=1){const r=Un(t,m,n);D[n]?D[n].p(r,i):(D[n]=Xn(r),D[n].c(),D[n].m(e,null))}for(;n<D.length;n+=1)D[n].d(1);D.length=m.length}},i(t){d||(Y((()=>{d&&(i||(i=st(n,draw,{duration:400},!0)),i.run(1))})),Y((()=>{d&&(a||(a=st(o,draw,{duration:400},!0)),a.run(1))})),d=!0)},o(t){i||(i=st(n,draw,{duration:400},!1)),i.run(0),a||(a=st(o,draw,{duration:400},!1)),a.run(0),d=!1},d(t){t&&b(e),t&&i&&i.end(),t&&a&&a.end(),A(g,t),A(D,t)}}}let Jn=300,Gn=260;function Kn(t,e,n){let r,i,o,u,a,l,c,h;s(t,Wn,(t=>n(9,h=t)));const f={top:10,right:40,bottom:40,left:40},d=nn(".2d");return t.$$.update=()=>{512&t.$$.dirty&&n(8,r=h[0].left.length),256&t.$$.dirty&&n(1,i=cn().domain([0,r+1]).range([f.left,Jn-f.right])),512&t.$$.dirty&&n(5,u=h[0].left.map(((t,e)=>({x:e,y:t})))),512&t.$$.dirty&&n(4,a=h[0].right.map(((t,e)=>({x:e,y:t})))),3&t.$$.dirty&&n(3,l=zt().x((t=>i(t.x))).y((t=>o(t.y)))),512&t.$$.dirty&&n(2,c=h[0].left.length>100?50:h[0].right.length>40?20:5)},n(0,o=cn().domain([-1,7]).range([Gn-f.bottom,f.top])),[o,i,c,l,a,u,f,d,r,h]}class tr extends pt{constructor(t){super(),dt(this,t,Kn,Qn,a,{})}}function er(e){let n,r;return n=new tr({}),{c(){lt(n.$$.fragment)},m(t,e){ct(n,t,e),r=!0},p:t,i(t){r||(ot(n.$$.fragment,t),r=!0)},o(t){ut(n.$$.fragment,t),r=!1},d(t){ht(n,t)}}}class nr extends pt{constructor(t){super(),dt(this,t,null,er,a,{})}}var rr="http://www.w3.org/1999/xhtml",ir={svg:"http://www.w3.org/2000/svg",xhtml:rr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function or(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ir.hasOwnProperty(e)?{space:ir[e],local:t}:t}function ur(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===rr&&e.documentElement.namespaceURI===rr?e.createElement(t):e.createElementNS(n,t)}}function ar(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function sr(t){var e=or(t);return(e.local?ar:ur)(e)}function lr(){}function cr(t){return null==t?lr:function(){return this.querySelector(t)}}function hr(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function fr(){return[]}function dr(t){return function(e){return e.matches(t)}}var pr=Array.prototype.find;function gr(){return this.firstElementChild}var mr=Array.prototype.filter;function Dr(){return this.children}function vr(t){return new Array(t.length)}function yr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function wr(t,e,n,r,i,o){for(var u,a=0,s=e.length,l=o.length;a<l;++a)(u=e[a])?(u.__data__=o[a],r[a]=u):n[a]=new yr(t,o[a]);for(;a<s;++a)(u=e[a])&&(i[a]=u)}function xr(t,e,n,r,i,o,u){var a,s,l,c=new Map,h=e.length,f=o.length,d=new Array(h);for(a=0;a<h;++a)(s=e[a])&&(d[a]=l=u.call(s,s.__data__,a,e)+"",c.has(l)?i[a]=s:c.set(l,s));for(a=0;a<f;++a)l=u.call(t,o[a],a,o)+"",(s=c.get(l))?(r[a]=s,s.__data__=o[a],c.delete(l)):n[a]=new yr(t,o[a]);for(a=0;a<h;++a)(s=e[a])&&c.get(d[a])===s&&(i[a]=s)}function br(t){return t.__data__}function Ar(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Er(t){return function(){this.removeAttribute(t)}}function Fr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Cr(t,e){return function(){this.setAttribute(t,e)}}function _r(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Mr(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Nr(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Br(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function $r(t){return function(){this.style.removeProperty(t)}}function Sr(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Tr(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function kr(t){return function(){delete this[t]}}function zr(t,e){return function(){this[t]=e}}function Or(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function qr(t){return t.trim().split(/^|\s+/)}function Ir(t){return t.classList||new jr(t)}function jr(t){this._node=t,this._names=qr(t.getAttribute("class")||"")}function Rr(t,e){for(var n=Ir(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Pr(t,e){for(var n=Ir(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Wr(t){return function(){Rr(this,t)}}function Lr(t){return function(){Pr(this,t)}}function Vr(t,e){return function(){(e.apply(this,arguments)?Rr:Pr)(this,t)}}function Hr(){this.textContent=""}function Ur(t){return function(){this.textContent=t}}function Zr(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Yr(){this.innerHTML=""}function Xr(t){return function(){this.innerHTML=t}}function Qr(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Jr(){this.nextSibling&&this.parentNode.appendChild(this)}function Gr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Kr(){return null}function ti(){var t=this.parentNode;t&&t.removeChild(this)}function ei(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ni(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ri(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function ii(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function oi(t,e,n){var r=Br(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ui(t,e){return function(){return oi(this,t,e)}}function ai(t,e){return function(){return oi(this,t,e.apply(this,arguments))}}yr.prototype={constructor:yr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},jr.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var si=[null];function li(t,e){this._groups=t,this._parents=e}function ci(t){return"string"==typeof t?new li([[document.querySelector(t)]],[document.documentElement]):new li([[t]],si)}function hi(t){return"string"==typeof t?new li([document.querySelectorAll(t)],[document.documentElement]):new li([null==t?[]:hr(t)],si)}li.prototype={constructor:li,select:function(t){"function"!=typeof t&&(t=cr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u,a=e[i],s=a.length,l=r[i]=new Array(s),c=0;c<s;++c)(o=a[c])&&(u=t.call(o,o.__data__,c,a))&&("__data__"in o&&(u.__data__=o.__data__),l[c]=u);return new li(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:hr(e)}}(t):function(t){return null==t?fr:function(){return this.querySelectorAll(t)}}(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var u,a=e[o],s=a.length,l=0;l<s;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new li(r,i)},selectChild:function(t){return this.select(null==t?gr:function(t){return function(){return pr.call(this.children,t)}}("function"==typeof t?t:dr(t)))},selectChildren:function(t){return this.selectAll(null==t?Dr:function(t){return function(){return mr.call(this.children,t)}}("function"==typeof t?t:dr(t)))},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u=e[i],a=u.length,s=r[i]=[],l=0;l<a;++l)(o=u[l])&&t.call(o,o.__data__,l,u)&&s.push(o);return new li(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,br);var n=e?xr:wr,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,u=new Array(o),a=new Array(o),s=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,d=hr(t.call(c,c&&c.__data__,l,r)),p=d.length,g=a[l]=new Array(p),m=u[l]=new Array(p);n(c,h,g,m,s[l]=new Array(f),d,e);for(var D,v,y=0,w=0;y<p;++y)if(D=g[y]){for(y>=w&&(w=y+1);!(v=m[w])&&++w<p;);D._next=v||null}}return(u=new li(u,r))._enter=a,u._exit=s,u},enter:function(){return new li(this._enter||this._groups.map(vr),this._parents)},exit:function(){return new li(this._exit||this._groups.map(vr),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof li))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,l=e[a],c=n[a],h=l.length,f=u[a]=new Array(h),d=0;d<h;++d)(s=l[d]||c[d])&&(f[d]=s);for(;a<r;++a)u[a]=e[a];return new li(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Ar);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var u,a=n[o],s=a.length,l=i[o]=new Array(s),c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new li(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,e){var n=or(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Fr:Er:"function"==typeof e?n.local?Nr:Mr:n.local?_r:Cr)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?$r:"function"==typeof e?Tr:Sr)(t,e,null==n?"":n)):function(t,e){return t.style.getPropertyValue(e)||Br(t).getComputedStyle(t,null).getPropertyValue(e)}(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?kr:"function"==typeof e?Or:zr)(t,e)):this.node()[t]},classed:function(t,e){var n=qr(t+"");if(arguments.length<2){for(var r=Ir(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Vr:e?Wr:Lr)(n,e))},text:function(t){return arguments.length?this.each(null==t?Hr:("function"==typeof t?Zr:Ur)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Yr:("function"==typeof t?Qr:Xr)(t)):this.node().innerHTML},raise:function(){return this.each(Jr)},lower:function(){return this.each(Gr)},append:function(t){var e="function"==typeof t?t:sr(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:sr(t),r=null==e?Kr:"function"==typeof e?e:cr(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ti)},clone:function(t){return this.select(t?ni:ei)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),u=o.length;if(!(arguments.length<2)){for(a=e?ii:ri,r=0;r<u;++r)this.each(a(o[r],e,n));return this}var a=this.node().__on;if(a)for(var s,l=0,c=a.length;l<c;++l)for(r=0,s=a[l];r<u;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?ai:ui)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,u=i.length;o<u;++o)(r=i[o])&&(yield r)}};const fi=["m350 560-245-245h140v-315h210v315h140z"],di="M0.000 10.526 C 0.000 18.246,3.509 21.053,13.158 21.053 C 25.598 21.053,26.316 22.632,26.316 50.000 C 26.316 75.439,27.592 78.947,36.842 78.947 C 46.093 78.947,47.368 75.439,47.368 50.000 C 47.368 24.561,48.644 21.053,57.895 21.053 C 67.968 21.053,68.421 24.561,68.421 102.632 L 68.421 184.211 100.000 184.211 L 131.579 184.211 131.579 236.842 L 131.579 289.474 147.368 289.474 C 162.998 289.474,163.158 289.766,163.158 318.421 C 163.158 343.860,164.434 347.368,173.684 347.368 C 182.935 347.368,184.211 343.860,184.211 318.421 C 184.211 289.766,184.370 289.474,200.000 289.474 C 215.630 289.474,215.789 289.766,215.789 318.421 C 215.789 343.860,217.065 347.368,226.316 347.368 C 235.566 347.368,236.842 343.860,236.842 318.421 C 236.842 289.766,237.002 289.474,252.632 289.474 L 268.421 289.474 268.421 236.842 L 268.421 184.211 300.000 184.211 L 331.579 184.211 331.579 102.632 L 331.579 21.053 365.789 21.053 C 396.491 21.053,400.000 19.973,400.000 10.526 C 400.000 0.185,396.491 0.000,200.000 0.000 C 3.509 0.000,0.000 0.185,0.000 10.526 M310.526 34.211 L 310.526 47.368 200.000 47.368 L 89.474 47.368 89.474 34.211 L 89.474 21.053 200.000 21.053 L 310.526 21.053 310.526 34.211 M310.526 115.789 L 310.526 163.158 200.000 163.158 L 89.474 163.158 89.474 115.789 L 89.474 68.421 200.000 68.421 L 310.526 68.421 310.526 115.789 M137.046 104.882 C 126.932 123.780,144.323 141.720,165.048 133.767 C 176.310 129.445,176.546 102.225,165.359 97.932 C 150.912 92.388,142.647 94.416,137.046 104.882 M226.501 104.917 C 219.455 118.083,219.539 118.787,229.323 128.571 C 242.236 141.484,268.421 132.923,268.421 115.789 C 268.421 97.233,235.222 88.622,226.501 104.917 M242.105 226.316 L 242.105 268.421 197.368 268.421 L 152.632 268.421 152.632 226.316 L 152.632 184.211 197.368 184.211 L 242.105 184.211 242.105 226.316 M100.000 226.316 C 100.000 254.386,101.170 257.895,110.526 257.895 C 119.883 257.895,121.053 254.386,121.053 226.316 C 121.053 198.246,119.883 194.737,110.526 194.737 C 101.170 194.737,100.000 198.246,100.000 226.316 M278.947 226.316 C 278.947 254.386,280.117 257.895,289.474 257.895 C 298.830 257.895,300.000 254.386,300.000 226.316 C 300.000 198.246,298.830 194.737,289.474 194.737 C 280.117 194.737,278.947 198.246,278.947 226.316 ",pi=["m471.13 63.785c-0.11328 0.054688-0.28125 0.16797-0.39062 0.22266h-0.44922c0.27734-0.054687 0.55859-0.11328 0.83984-0.22266z","m593.15 192.98c4.5352 13.273 5.9375 27.441 6.2734 41.551 0.33594 15.289-1.1211 30.465-4.7031 45.305-2.3516 9.8555-5.4883 19.543-8.7344 29.176-2.4648 7.2812-5.0977 14.617-8.625 21.336-4.9297 9.3516-10.414 18.48-16.352 27.273-5.8789 8.625-12.098 17.078-19.039 24.863-7.7266 8.6797-16.129 16.855-24.754 24.695-7.8398 7.1133-16.184 13.777-24.754 20.105-7.4492 5.4883-15.457 10.305-23.297 15.289-6.3828 4.0312-12.938 7.8945-19.488 11.648-3.4727 1.9609-7 3.7539-10.695 5.2656-12.32 5.207-24.641 10.414-36.961 15.566-9.1289 3.8086-18.258 7.5586-27.441 11.199-7.7266 3.0781-15.961 4.9844-24.137 6.6094-12.152 2.4062-24.414 4.3672-36.68 5.9375-4.8711 0.61719-10.137 0.44922-14.895-0.72656-6.2148-1.5664-11.199-5.4336-15.008-10.922-7-10.137-6.3828-20.551-1.9023-31.191 0.054687-0.16797 0.11328-0.28125 0.22266-0.44922 0.67188-1.5117 1.457-2.9102 2.2969-4.2578 1.0078-1.5664 2.1836-3.0234 3.4727-4.4258 2.3516-2.6328 5.0977-4.9297 7.8945-7.1133 8.9609-6.832 18.199-13.383 27.328-20.047 14.391-10.473 28.895-20.832 43.121-31.473 6.0469-4.4805 12.039-9.0156 18.031-13.551 6.5508-4.9844 13.105-10.137 19.434-15.344 10.863-8.9609 21.504-18.199 31.414-28.168 14.281-14.391 26.879-30.297 36.625-48.16 5.6562-10.359 11.367-20.832 15.512-31.809 6.1055-16.238 11.648-32.762 13.832-50.176 1.5117-12.32 2.4648-24.586 0.054688-36.902-1.0078-5.3203-2.3516-10.586-3.6953-15.848-0.16797-0.61719-0.28125-1.2305-0.44922-1.793-1.2305-4.8164-1.9609-9.9102-4.2578-14.223-4.0312-7.6172-7.5039-15.68-14.281-21.672-2.1836-1.9609-4.5352-3.6953-6.8867-5.3203-3.9766-2.6328-8.1758-4.7617-12.711-6.4961-4.4258-1.6797-6.5508-6.0469-5.0977-10.473 2.8555-8.793 7.6719-16.406 14.672-22.512 0.72656-0.67188 1.5664-1.2305 2.4062-1.7344 0.11328-0.054688 0.22266-0.16797 0.39062-0.22266 1.457-0.89453 3.0234-1.793 4.8164-2.9102 0.67188 5.0391 0.89453 9.4062 1.9023 13.609 0.054688 0.28125 0.16797 0.61719 0.22266 0.89453 0.89453 3.3047 2.1289 6.7188 4.0898 9.4062 0.78516 1.0625 1.625 2.1836 2.4062 3.2461 6.2148 8.3438 12.656 16.52 19.266 24.586 5.4336 6.6094 11.703 12.32 20.945 12.434 4.3125 0.054687 8.625-1.0078 12.992-1.2891 10.078-0.55859 18.258 4.0898 24.473 11.258 5.6562 6.6094 10.809 13.887 14.785 21.617 5.9414 11.809 11.707 23.848 15.965 36.336z"],gi=["m203.56 376.99c-5.3203 2.2383-11.816 5.4336-17.246 10.809-1.9023-0.22266-3.8086-0.44922-5.7695-0.72656-8.2305-1.0625-16.406-3.3594-24.359-5.9375-11.816-3.7539-23.465-8.0078-35-12.543-4.5352-1.793-9.0703-4.5352-12.656-7.8398-4.6484-4.3672-7.168-10.137-7.8398-16.855-1.2305-12.266 4.3672-21.055 13.441-28.223 5.7695-4.5938 12.824-6.4414 19.992-7.4492 11.145-1.625 22.398-2.9102 33.602-4.3125 17.695-2.2383 35.336-4.2578 52.977-6.6641 15.625-2.1289 31.305-4.3125 46.816-7.168 13.832-2.5742 27.609-5.4883 41.105-9.4648 19.434-5.7109 38.191-13.496 55.383-24.414 9.9688-6.3281 19.992-12.711 28.953-20.328 13.215-11.258 26.039-23.016 36.398-37.238 7.2812-10.023 14.055-20.328 17.922-32.258 1.8477-5.7695 3.3594-11.594 4.8711-17.473 1.2305-4.8164 3.0781-9.6328 3.1914-14.504 0.16797-8.625 1.0078-17.359-2.0156-25.871-0.054688-0.22266-0.16797-0.39062-0.22266-0.61719 2.2969 2.3516 4.3672 4.8711 6.1602 7.5586 3.4727 5.1523 4.9297 11.48 6.3828 18.199 0.28125 1.2305 0.55859 2.5195 0.83984 3.7539 0.61719 2.5195 0.50391 5.7109 0.39062 9.0703-0.054688 1.2891-0.054688 2.6328-0.054688 3.9766v0.16797c0 5.7695 0 11.762-0.33594 17.473-0.72656 11.594-4.6484 22.848-8.7344 33.32-6.2734 15.848-15.734 30.297-25.031 43.512-6.3281 9.0156-14.281 17.473-21.895 25.703l-0.39062 0.39062c-12.488 13.383-27.441 25.145-45.809 36.062-10.191 6.1055-21.504 11.984-36.734 19.039-8.0625 3.7539-16.801 7.5586-28.223 12.375-4.7617 1.9609-9.3516 3.8633-14.895 6.1602-11.145 4.5938-22.566 9.0703-33.656 13.383-5.207 2.0703-10.641 4.1445-15.902 6.2734-2.8008 1.1211-5.6562 2.2383-8.457 3.3594-7 2.7422-14.223 5.6016-21.336 8.5664z","m488.43 144.48c0.28125 1.2891 0.55859 2.5742 0.89453 3.8633l0.054687 0.16797c1.457 5.6016 2.9102 11.367 4.0312 17.023 2.1836 11.367 1.2305 23.297-0.16797 34.441-2.0703 16.91-7.6719 33.266-13.383 48.383-3.9219 10.305-9.4648 20.496-14.785 30.352l-0.28125 0.44922c-8.7344 16.07-20.328 31.246-35.336 46.367-8.3438 8.457-17.863 16.969-30.801 27.609-12.152 10.023-24.863 19.543-37.184 28.672-0.28125 0.16797-0.50391 0.39062-0.78516 0.55859-9.4062 7-19.098 14-28.449 20.777-4.5352 3.3047-9.2383 6.6641-13.832 10.023-2.4648 1.793-4.9297 3.5859-7.3906 5.375-6.6094 4.7617-13.441 9.7422-20.047 14.785-4.5938 3.5273-10.078 8.1758-14 14.785-1.9023 0.22266-3.8633 0.50391-5.7695 0.72656-8.2305 1.0078-16.688 0.83984-25.031 0.33594-12.375-0.72656-24.754-1.8477-37.016-3.4141-4.8711-0.61719-9.9102-2.1289-14.223-4.4258-5.6016-3.0781-9.4648-8.0078-11.816-14.336-4.2578-11.594-1.0078-21.504 5.9375-30.633 2.2383-2.9688 5.0391-5.375 8.0625-7.3359 2.9688-1.9609 6.1602-3.5273 9.4648-4.8711l1.7344-0.72656c9.8555-4.0898 19.77-7.8945 29.68-11.816 16.52-6.5508 33.152-12.938 49.617-19.711 4.9844-2.0703 9.9688-4.0898 14.953-6.1602 9.5742-3.9766 19.152-8.0625 28.559-12.488 12.711-5.9375 25.367-12.266 37.465-19.434 17.414-10.359 33.602-22.625 47.488-37.465 8.0625-8.625 16.184-17.305 22.961-26.938 9.9688-14.168 19.488-28.84 25.93-45.137 4.5352-11.535 8.5117-23.238 9.2969-35.672 0.39062-6.0469 0.39062-12.098 0.39062-18.145 0-4.9297 0.55859-10.078-0.55859-14.785-1.9609-8.3984-3.3594-17.078-8.3984-24.527-0.11328-0.16797-0.22266-0.33594-0.39062-0.50391 2.8008 1.6797 5.4336 3.6406 7.8945 5.8242 0.054687 0.054688 0.11328 0.11328 0.16797 0.16797 4.5352 4.0898 7.4492 9.8008 10.527 15.848 0.61719 1.1758 1.1758 2.2969 1.793 3.4727 1.2852 2.1875 2.0117 5.2656 2.7422 8.5156z","m471.13 63.785c-0.11328 0.054688-0.28125 0.16797-0.39062 0.22266h-0.44922c0.27734-0.054687 0.55859-0.11328 0.83984-0.22266z","m593.15 192.98c4.5352 13.273 5.9375 27.441 6.2734 41.551 0.33594 15.289-1.1211 30.465-4.7031 45.305-2.3516 9.8555-5.4883 19.543-8.7344 29.176-2.4648 7.2812-5.0977 14.617-8.625 21.336-4.9297 9.3516-10.414 18.48-16.352 27.273-5.8789 8.625-12.098 17.078-19.039 24.863-7.7266 8.6797-16.129 16.855-24.754 24.695-7.8398 7.1133-16.184 13.777-24.754 20.105-7.4492 5.4883-15.457 10.305-23.297 15.289-6.3828 4.0312-12.938 7.8945-19.488 11.648-3.4727 1.9609-7 3.7539-10.695 5.2656-12.32 5.207-24.641 10.414-36.961 15.566-9.1289 3.8086-18.258 7.5586-27.441 11.199-7.7266 3.0781-15.961 4.9844-24.137 6.6094-12.152 2.4062-24.414 4.3672-36.68 5.9375-4.8711 0.61719-10.137 0.44922-14.895-0.72656-6.2148-1.5664-11.199-5.4336-15.008-10.922-7-10.137-6.3828-20.551-1.9023-31.191 0.054687-0.16797 0.11328-0.28125 0.22266-0.44922 0.67188-1.5117 1.457-2.9102 2.2969-4.2578 1.0078-1.5664 2.1836-3.0234 3.4727-4.4258 2.3516-2.6328 5.0977-4.9297 7.8945-7.1133 8.9609-6.832 18.199-13.383 27.328-20.047 14.391-10.473 28.895-20.832 43.121-31.473 6.0469-4.4805 12.039-9.0156 18.031-13.551 6.5508-4.9844 13.105-10.137 19.434-15.344 10.863-8.9609 21.504-18.199 31.414-28.168 14.281-14.391 26.879-30.297 36.625-48.16 5.6562-10.359 11.367-20.832 15.512-31.809 6.1055-16.238 11.648-32.762 13.832-50.176 1.5117-12.32 2.4648-24.586 0.054688-36.902-1.0078-5.3203-2.3516-10.586-3.6953-15.848-0.16797-0.61719-0.28125-1.2305-0.44922-1.793-1.2305-4.8164-1.9609-9.9102-4.2578-14.223-4.0312-7.6172-7.5039-15.68-14.281-21.672-2.1836-1.9609-4.5352-3.6953-6.8867-5.3203-3.9766-2.6328-8.1758-4.7617-12.711-6.4961-4.4258-1.6797-6.5508-6.0469-5.0977-10.473 2.8555-8.793 7.6719-16.406 14.672-22.512 0.72656-0.67188 1.5664-1.2305 2.4062-1.7344 0.11328-0.054688 0.22266-0.16797 0.39062-0.22266 1.457-0.89453 3.0234-1.793 4.8164-2.9102 0.67188 5.0391 0.89453 9.4062 1.9023 13.609 0.054688 0.28125 0.16797 0.61719 0.22266 0.89453 0.89453 3.3047 2.1289 6.7188 4.0898 9.4062 0.78516 1.0625 1.625 2.1836 2.4062 3.2461 6.2148 8.3438 12.656 16.52 19.266 24.586 5.4336 6.6094 11.703 12.32 20.945 12.434 4.3125 0.054687 8.625-1.0078 12.992-1.2891 10.078-0.55859 18.258 4.0898 24.473 11.258 5.6562 6.6094 10.809 13.887 14.785 21.617 5.9414 11.809 11.707 23.848 15.965 36.336z"],mi=["m393.48 551.3c-40 13.914-73.043 12.176-106.09-6.957l-10.434-175.65c-15.652 6.957-26.086 10.434-38.262 12.176l12.176 13.914-17.391-12.176c-10.434 1.7383-22.609 0-34.781-6.957-13.914-6.957-24.348-20.871-33.043-38.262l-19.129-3.4766 17.391-1.7383c-12.176-26.086-15.652-60.871-13.914-93.914l-24.348-5.2188h24.348c1.7383-15.652 3.4766-29.566 6.957-43.477l-17.391-8.6953 19.129 3.4766c6.957-20.871 15.652-38.262 27.824-48.695l-5.2188-24.348 10.434 19.129c10.434-6.957 24.348-10.434 41.738-5.2188 3.4766 1.7383 8.6953 5.2188 12.176 6.957l6.957-13.914-3.4766 17.391c17.391 15.652 19.129 43.477 15.652 73.043l5.2188-1.7383-5.2188 1.7383c-5.2188 52.176-27.824 104.35-3.4766 92.176 3.4766 0 8.6953-1.7383 12.176-3.4766-1.7383-60.871-5.2188-196.52 17.391-240 13.914-24.348 31.305-40 50.434-48.695v-8.6953l1.7383 8.6953c27.824-10.434 57.391-3.4766 80 20.871l13.914-17.391-10.434 22.609c15.652 19.129 24.348 45.219 27.824 81.738h17.391l-17.391 5.2188v15.652c0 15.652 0 31.305-1.7383 48.695l22.609 5.2188h-22.609c-5.2188 66.086-19.129 139.13-29.566 194.78l-5.2188 20.871c48.695 26.086 29.566 6.957 34.781-64.348v-5.2188l-3.4766-1.7383 3.4766 1.7383c3.4766-31.305 15.652-52.176 31.305-60.871v-17.391l3.4766 13.914c15.652-8.6953 34.781-5.2188 48.695 10.434l12.176-15.652-8.6953 19.129c8.6953 12.176 13.914 29.566 15.652 52.176l17.391-1.7383-17.391 5.2188c0 12.176 0 26.086-3.4766 40l22.609 6.957-22.609-1.7383c-1.7383 10.434-5.2188 19.129-8.6953 29.566-5.2188 20.871-13.914 38.262-26.086 52.176l19.129 5.2188h-22.609c-12.176 12.176-27.824 20.871-48.695 22.609-8.6953 0-17.391-1.7383-26.086-6.957l-13.914 6.957 10.434-8.6953c-8.6953-3.4766-17.391-10.434-26.086-15.652l-1.7383-1.7383-10.434 80h-3.4766z"];function Di(t,e,n){const r=t.slice();return r[14]=e[n],r}function vi(t,e,n){const r=t.slice();return r[14]=e[n],r}function yi(t,e,n){const r=t.slice();return r[19]=e[n],r}function wi(t,e,n){const r=t.slice();return r[19]=e[n],r}function xi(t,e,n){const r=t.slice();return r[24]=e[n],r}function bi(t){let e,n;return{c(){e=F("g"),B(e,"transform",n="translate("+t[3](t[24])+", "+t[2](0)+")")},m(t,n){x(t,e,n)},p(t,r){12&r&&n!==(n="translate("+t[3](t[24])+", "+t[2](0)+")")&&B(e,"transform",n)},d(t){t&&b(e)}}}function Ai(t){let e;return{c(){e=F("path"),B(e,"class","bananaPath svelte-1zvjfd"),B(e,"d",t[19]),k(e,"transform","scale("+t[9]+")")},m(t,n){x(t,e,n)},p(t,n){512&n&&k(e,"transform","scale("+t[9]+")")},d(t){t&&b(e)}}}function Ei(t){let e;return{c(){e=F("path"),B(e,"class","bananaPath svelte-1zvjfd"),B(e,"d",t[19]),k(e,"transform","scale("+t[9]+")")},m(t,n){x(t,e,n)},p(t,n){512&n&&k(e,"transform","scale("+t[9]+")")},d(t){t&&b(e)}}}function Fi(t){let e,n;return{c(){e=F("path"),B(e,"d",t[14]),B(e,"class",l("arrow-left arrow")+" svelte-1zvjfd"),B(e,"stroke-width",0),B(e,"transform",n=`rotate(${t[12].left}) scale(${t[10]})`)},m(t,n){x(t,e,n)},p(t,r){1024&r&&n!==(n=`rotate(${t[12].left}) scale(${t[10]})`)&&B(e,"transform",n)},d(t){t&&b(e)}}}function Ci(t){let e,n;return{c(){e=F("path"),B(e,"d",t[14]),B(e,"class",l("arrow-right arrow")+" svelte-1zvjfd"),B(e,"stroke-width",0),B(e,"transform",n=`rotate(${t[12].right}) scale(${t[10]})`)},m(t,n){x(t,e,n)},p(t,r){1024&r&&n!==(n=`rotate(${t[12].right}) scale(${t[10]})`)&&B(e,"transform",n)},d(t){t&&b(e)}}}function _i(e){let n,r,i,o,u,a,s,l,c,h,f,d,p=[...Array(Mi).keys()],g=[];for(let t=0;t<p.length;t+=1)g[t]=bi(xi(e,p,t));let m=pi,D=[];for(let t=0;t<m.length;t+=1)D[t]=Ai(wi(e,m,t));let y=gi,w=[];for(let t=0;t<y.length;t+=1)w[t]=Ei(yi(e,y,t));let E=fi,C=[];for(let t=0;t<E.length;t+=1)C[t]=Fi(vi(e,E,t));let _=fi,M=[];for(let t=0;t<_.length;t+=1)M[t]=Ci(Di(e,_,t));return{c(){n=F("svg");for(let t=0;t<g.length;t+=1)g[t].c();r=F("g");for(let t=0;t<D.length;t+=1)D[t].c();o=F("g");for(let t=0;t<w.length;t+=1)w[t].c();a=F("g");for(let t=0;t<C.length;t+=1)C[t].c();l=F("g");for(let t=0;t<M.length;t+=1)M[t].c();h=F("g"),f=F("path"),B(r,"id","reward-1-bandit"),B(r,"transform",i="translate("+(e[3](0)-e[6].width)+", "+(e[2](0)-e[6].height/2-7.5)+")"),B(o,"id","reward-3-bandit"),B(o,"transform",u="translate("+(e[3](Mi-1)-e[5].width/2-10)+", "+(e[2](0)-e[5].height/2-7.5)+")"),B(a,"transform",s="translate("+(e[3](e[11].left)+e[4].height/2+5.5)+", "+(e[2](0)-e[4].width/2-5)+")"),B(l,"transform",c="translate("+(e[3](e[11].right)-e[4].height/2)+", "+(e[2](0)+e[4].width/2+5)+")"),B(f,"d",di),k(f,"transform","scale(0.22)"),B(f,"stroke","white"),B(f,"stroke-width","1"),B(f,"fill","black"),B(h,"id","agent-g-bandit"),B(h,"transform",d="translate("+(e[3](4)-e[8]/2+5)+", "+(e[2](0)-e[7]/2)+")"),B(n,"width",e[1]),B(n,"height",e[0]),B(n,"class","svelte-1zvjfd")},m(t,e){x(t,n,e);for(let t=0;t<g.length;t+=1)g[t]&&g[t].m(n,null);v(n,r);for(let t=0;t<D.length;t+=1)D[t]&&D[t].m(r,null);v(n,o);for(let t=0;t<w.length;t+=1)w[t]&&w[t].m(o,null);v(n,a);for(let t=0;t<C.length;t+=1)C[t]&&C[t].m(a,null);v(n,l);for(let t=0;t<M.length;t+=1)M[t]&&M[t].m(l,null);v(n,h),v(h,f)},p(t,[e]){if(12&e){let i;for(p=[...Array(Mi).keys()],i=0;i<p.length;i+=1){const o=xi(t,p,i);g[i]?g[i].p(o,e):(g[i]=bi(o),g[i].c(),g[i].m(n,r))}for(;i<g.length;i+=1)g[i].d(1);g.length=p.length}if(512&e){let n;for(m=pi,n=0;n<m.length;n+=1){const i=wi(t,m,n);D[n]?D[n].p(i,e):(D[n]=Ai(i),D[n].c(),D[n].m(r,null))}for(;n<D.length;n+=1)D[n].d(1);D.length=m.length}if(76&e&&i!==(i="translate("+(t[3](0)-t[6].width)+", "+(t[2](0)-t[6].height/2-7.5)+")")&&B(r,"transform",i),512&e){let n;for(y=gi,n=0;n<y.length;n+=1){const r=yi(t,y,n);w[n]?w[n].p(r,e):(w[n]=Ei(r),w[n].c(),w[n].m(o,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=y.length}if(44&e&&u!==(u="translate("+(t[3](Mi-1)-t[5].width/2-10)+", "+(t[2](0)-t[5].height/2-7.5)+")")&&B(o,"transform",u),5120&e){let n;for(E=fi,n=0;n<E.length;n+=1){const r=vi(t,E,n);C[n]?C[n].p(r,e):(C[n]=Fi(r),C[n].c(),C[n].m(a,null))}for(;n<C.length;n+=1)C[n].d(1);C.length=E.length}if(28&e&&s!==(s="translate("+(t[3](t[11].left)+t[4].height/2+5.5)+", "+(t[2](0)-t[4].width/2-5)+")")&&B(a,"transform",s),5120&e){let n;for(_=fi,n=0;n<_.length;n+=1){const r=Di(t,_,n);M[n]?M[n].p(r,e):(M[n]=Ci(r),M[n].c(),M[n].m(l,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=_.length}28&e&&c!==(c="translate("+(t[3](t[11].right)-t[4].height/2)+", "+(t[2](0)+t[4].width/2+5)+")")&&B(l,"transform",c),396&e&&d!==(d="translate("+(t[3](4)-t[8]/2+5)+", "+(t[2](0)-t[7]/2)+")")&&B(h,"transform",d),2&e&&B(n,"width",t[1]),1&e&&B(n,"height",t[0])},i:t,o:t,d(t){t&&b(n),A(g,t),A(D,t),A(w,t),A(C,t),A(M,t)}}}let Mi=9;function Ni(t,e,n){let r,i,o,u,a,l,c,h,f,d,p;s(t,_n,(t=>n(0,h=t))),s(t,Cn,(t=>n(1,f=t))),s(t,Nn,(t=>n(9,d=t))),s(t,Bn,(t=>n(10,p=t)));return P((()=>{const t=ci("#agent-g-bandit").node().getBoundingClientRect();n(8,u=t.width),n(7,a=t.height),n(6,i=ci("#reward-1-bandit").node().getBoundingClientRect()),n(5,o=ci("#reward-3-bandit").node().getBoundingClientRect()),n(4,r=ci("path.arrow-left").node().getBoundingClientRect()),ci("path.arrow-right").node().getBoundingClientRect()})),t.$$.update=()=>{2&t.$$.dirty&&n(3,l=cn().domain([-1,Mi]).range([0,f])),1&t.$$.dirty&&n(2,c=cn().domain([-1,2]).range([0,h]))},n(4,r={height:0,width:0,x:105,y:0}),n(6,i={height:0,width:0,x:0,y:0}),n(5,o={height:30,width:0,x:0,y:0}),n(8,u=20),n(7,a=20),[h,f,c,l,r,o,i,a,u,d,p,{left:2,right:6},{left:90,right:270}]}class Bi extends pt{constructor(t){super(),dt(this,t,Ni,_i,a,{})}}function $i(){return $i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$i.apply(this,arguments)}var Si={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Ti(t){return"number"==typeof t}function ki(t){return!(!t||"object"!=typeof t||"function"!=typeof t.constructor)&&(!0===t.isBigNumber&&"object"==typeof t.constructor.prototype&&!0===t.constructor.prototype.isBigNumber||"function"==typeof t.constructor.isDecimal&&!0===t.constructor.isDecimal(t))}function zi(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isComplex||!1}function Oi(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isFraction||!1}function qi(t){return t&&!0===t.constructor.prototype.isUnit||!1}function Ii(t){return"string"==typeof t}var ji=Array.isArray;function Ri(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function Pi(t){return Array.isArray(t)||Ri(t)}function Wi(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function Li(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function Vi(t){return t&&!0===t.constructor.prototype.isRange||!1}function Hi(t){return t&&!0===t.constructor.prototype.isIndex||!1}function Ui(t){return"boolean"==typeof t}function Zi(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function Yi(t){return t&&!0===t.constructor.prototype.isHelp||!1}function Xi(t){return"function"==typeof t}function Qi(t){return t instanceof Date}function Ji(t){return t instanceof RegExp}function Gi(t){return!(!t||"object"!=typeof t||t.constructor!==Object||zi(t)||Oi(t))}function Ki(t){return null===t}function to(t){return void 0===t}function eo(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function no(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function ro(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function io(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function oo(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function uo(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function ao(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function so(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function lo(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function co(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function ho(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function fo(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function po(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function go(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function mo(t){return t&&!0===t.isRelationalNode&&!0===t.constructor.prototype.isNode||!1}function Do(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function vo(t){return t&&!0===t.constructor.prototype.isChain||!1}function yo(t){var e=typeof t;return"object"===e?null===t?"null":ki(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function wo(t){var e=typeof t;if("number"===e||"string"===e||"boolean"===e||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return wo(t)}));if(t instanceof Date)return new Date(t.valueOf());if(ki(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return function(t,e){var n={};for(var r in t)bo(t,r)&&(n[r]=e(t[r]));return n}(t,wo)}function xo(t,e){var n,r,i;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(r=0,i=t.length;r<i;r++)if(!xo(t[r],e[r]))return!1;return!0}if("function"==typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in t)if(!(n in e)||!xo(t[n],e[n]))return!1;for(n in e)if(!(n in t))return!1;return!0}return t===e}function bo(t,e){return t&&Object.hasOwnProperty.call(t,e)}var Ao=function(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(Si)};$i(Ao,Si,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Eo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Fo(t){var e={exports:{}};return t(e,e.exports),e.exports}var Co=Fo((function(t,e){t.exports=function(){function t(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=e(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,u=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw u}}}}function e(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){return!0}function o(){return!1}function u(){}var a="Argument is not a typed-function.";function s(){function e(t){return"object"===r(t)&&null!==t&&t.constructor===Object}var n,l,c=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],h={name:"any",test:i,isAny:!0},f=0,d={createCount:0};function p(e){var r=n.get(e);if(r)return r;var i,o,u='Unknown type "'+e+'"',a=e.toLowerCase(),s=t(l);try{for(s.s();!(o=s.n()).done;)if((i=o.value).toLowerCase()===a){u+='. Did you mean "'+i+'" ?';break}}catch(t){s.e(t)}finally{s.f()}throw new TypeError(u)}function g(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any",r=e?p(e).index:l.length,i=[],o=0;o<t.length;++o){if(!t[o]||"string"!=typeof t[o].name||"function"!=typeof t[o].test)throw new TypeError("Object with properties {name: string, test: function} expected");var u=t[o].name;if(n.has(u))throw new TypeError('Duplicate type name "'+u+'"');i.push(u),n.set(u,{name:u,test:t[o].test,isAny:t[o].isAny,index:r+o,conversionsTo:[]})}var a=l.slice(r);l=l.slice(0,r).concat(i).concat(a);for(var s=r+i.length;s<l.length;++s)n.get(l[s]).index=s}function m(){n=new Map,l=[],f=0,g([h],!1)}function D(){var e,r,i=t(l);try{for(i.s();!(r=i.n()).done;)e=r.value,n.get(e).conversionsTo=[]}catch(t){i.e(t)}finally{i.f()}f=0}function v(t){var e=l.filter((function(e){var r=n.get(e);return!r.isAny&&r.test(t)}));return e.length?e:["any"]}function y(t){return t&&"function"==typeof t&&"_typedFunctionData"in t}function w(e,n,r){if(!y(e))throw new TypeError(a);var i=r&&r.exact,o=_(Array.isArray(n)?n.join(","):n),u=A(o);if(!i||u in e.signatures){var s=e._typedFunctionData.signatureMap.get(u);if(s)return s}var l,c,h,f=o.length;if(i)for(c in l=[],e.signatures)l.push(e._typedFunctionData.signatureMap.get(c));else l=e._typedFunctionData.signatures;for(var d=0;d<f;++d){var p,g=o[d],m=[],D=void 0,v=t(l);try{for(v.s();!(p=v.n()).done;){var w=$((D=p.value).params,d);if(w&&(!g.restParam||w.restParam)){if(!w.hasAny&&"continue"===function(){var t=C(w);if(g.types.some((function(e){return!t.has(e.name)})))return"continue"}())continue;m.push(D)}}}catch(t){v.e(t)}finally{v.f()}if(0===(l=m).length)break}var x,b=t(l);try{for(b.s();!(x=b.n()).done;)if((h=x.value).params.length<=f)return h}catch(t){b.e(t)}finally{b.f()}throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+A(o,", ")+"))")}function x(t,e,n){return w(t,e,n).implementation}function b(t,e){var n=p(e);if(n.test(t))return t;var r=n.conversionsTo;if(0===r.length)throw new Error("There are no conversions to "+e+" defined.");for(var i=0;i<r.length;i++)if(p(r[i].from).test(t))return r[i].convert(t);throw new Error("Cannot convert "+t+" to "+e)}function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return t.map((function(t){return t.name})).join(e)}function E(t){var e=0===t.indexOf("..."),n=(e?t.length>3?t.slice(3):"any":t).split("|").map((function(t){return p(t.trim())})),r=!1,i=e?"...":"";return{types:n.map((function(t){return r=t.isAny||r,i+=t.name+"|",{name:t.name,typeIndex:t.index,test:t.test,isAny:t.isAny,conversion:null,conversionIndex:-1}})),name:i.slice(0,-1),hasAny:r,hasConversion:!1,restParam:e}}function F(t){var e=R(t.types.map((function(t){return t.name}))),n=t.hasAny,r=t.name,i=e.map((function(t){var e=p(t.from);return n=e.isAny||n,r+="|"+t.from,{name:t.from,typeIndex:e.index,test:e.test,isAny:e.isAny,conversion:t,conversionIndex:t.index}}));return{types:t.types.concat(i),name:r,hasAny:n,hasConversion:i.length>0,restParam:t.restParam}}function C(t){return t.typeSet||(t.typeSet=new Set,t.types.forEach((function(e){return t.typeSet.add(e.name)}))),t.typeSet}function _(t){var e=[];if("string"!=typeof t)throw new TypeError("Signatures must be strings");var n=t.trim();if(""===n)return e;for(var r=n.split(","),i=0;i<r.length;++i){var o=E(r[i].trim());if(o.restParam&&i!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+r[i]+'": only allowed for the last parameter');if(0===o.types.length)return null;e.push(o)}return e}function M(t){var e=G(t);return!!e&&e.restParam}function N(t){if(t&&0!==t.types.length){if(1===t.types.length)return p(t.types[0].name).test;if(2===t.types.length){var e=p(t.types[0].name).test,n=p(t.types[1].name).test;return function(t){return e(t)||n(t)}}var r=t.types.map((function(t){return p(t.name).test}));return function(t){for(var e=0;e<r.length;e++)if(r[e](t))return!0;return!1}}return i}function B(t){var e,n,r;if(M(t)){var i=(e=J(t).map(N)).length,o=N(G(t)),u=function(t){for(var e=i;e<t.length;e++)if(!o(t[e]))return!1;return!0};return function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return u(t)&&t.length>=i+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(n=N(t[0]),function(t){return n(t[0])&&1===t.length}):2===t.length?(n=N(t[0]),r=N(t[1]),function(t){return n(t[0])&&r(t[1])&&2===t.length}):(e=t.map(N),function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return t.length===e.length})}function $(t,e){return e<t.length?t[e]:M(t)?G(t):null}function S(t,e){var n=$(t,e);return n?C(n):new Set}function T(t){return null===t.conversion||void 0===t.conversion}function k(e,n){var r=new Set;return e.forEach((function(e){var i,o,u=t(S(e.params,n));try{for(u.s();!(o=u.n()).done;)i=o.value,r.add(i)}catch(t){u.e(t)}finally{u.f()}})),r.has("any")?["any"]:Array.from(r)}function z(t,e,n){var i,o,u,a=t||"unnamed",s=n,l=function(){var t=[];if(s.forEach((function(n){var r=N($(n.params,u));(u<n.params.length||M(n.params))&&r(e[u])&&t.push(n)})),0===t.length){if((o=k(s,u)).length>0){var n=v(e[u]);return(i=new TypeError("Unexpected type of argument in function "+a+" (expected: "+o.join(" or ")+", actual: "+n.join(" | ")+", index: "+u+")")).data={category:"wrongType",fn:a,index:u,actual:n,expected:o},{v:i}}}else s=t};for(u=0;u<e.length;u++){var c=l();if("object"===r(c))return c.v}var h=s.map((function(t){return M(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,h))return o=k(s,u),(i=new TypeError("Too few arguments in function "+a+" (expected: "+o.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:o},i;var f=Math.max.apply(null,h);if(e.length>f)return(i=new TypeError("Too many arguments in function "+a+" (expected: "+f+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:f},i;for(var d=[],p=0;p<e.length;++p)d.push(v(e[p]).join("|"));return(i=new TypeError('Arguments of type "'+d.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:d},i}function O(t){for(var e=l.length+1,n=0;n<t.types.length;n++)T(t.types[n])&&(e=Math.min(e,t.types[n].typeIndex));return e}function q(t){for(var e=f+1,n=0;n<t.types.length;n++)T(t.types[n])||(e=Math.min(e,t.types[n].conversionIndex));return e}function I(t,e){if(t.hasAny){if(!e.hasAny)return 1}else if(e.hasAny)return-1;if(t.restParam){if(!e.restParam)return 1}else if(e.restParam)return-1;if(t.hasConversion){if(!e.hasConversion)return 1}else if(e.hasConversion)return-1;var n=O(t)-O(e);if(n<0)return-1;if(n>0)return 1;var r=q(t)-q(e);return r<0?-1:r>0?1:0}function j(e,n){var r=e.params,i=n.params,o=G(r),u=G(i),a=M(r),s=M(i);if(a&&o.hasAny){if(!s||!u.hasAny)return 1}else if(s&&u.hasAny)return-1;var l,c,h=0,f=0,d=t(r);try{for(d.s();!(c=d.n()).done;)(l=c.value).hasAny&&++h,l.hasConversion&&++f}catch(t){d.e(t)}finally{d.f()}var p,g=0,m=0,D=t(i);try{for(D.s();!(p=D.n()).done;)(l=p.value).hasAny&&++g,l.hasConversion&&++m}catch(t){D.e(t)}finally{D.f()}if(h!==g)return h-g;if(a&&o.hasConversion){if(!s||!u.hasConversion)return 1}else if(s&&u.hasConversion)return-1;if(f!==m)return f-m;if(a){if(!s)return 1}else if(s)return-1;var v=(r.length-i.length)*(a?-1:1);if(0!==v)return v;for(var y,w=[],x=0,b=0;b<r.length;++b){var A=I(r[b],i[b]);w.push(A),x+=A}if(0!==x)return x;for(var E=0,F=w;E<F.length;E++)if(0!==(y=F[E]))return y;return 0}function R(e){if(0===e.length)return[];var n=e.map(p);e.length>1&&n.sort((function(t,e){return t.index-e.index}));var r=n[0].conversionsTo;if(1===e.length)return r;r=r.concat([]);for(var i=new Set(e),o=1;o<n.length;++o){var u,a=void 0,s=t(n[o].conversionsTo);try{for(s.s();!(u=s.n()).done;)a=u.value,i.has(a.from)||(r.push(a),i.add(a.from))}catch(t){s.e(t)}finally{s.f()}}return r}function P(t,e){var n=e;if(t.some((function(t){return t.hasConversion}))){var r=M(t),i=t.map(W);n=function(){for(var t=[],n=r?arguments.length-1:arguments.length,o=0;o<n;o++)t[o]=i[o](arguments[o]);return r&&(t[n]=arguments[n].map(i[n])),e.apply(this,t)}}var o=n;if(M(t)){var u=t.length-1;o=function(){return n.apply(this,K(arguments,0,u).concat([K(arguments,u)]))}}return o}function W(t){var e,n,r,i,o=[],u=[];switch(t.types.forEach((function(t){t.conversion&&(o.push(p(t.conversion.from).test),u.push(t.conversion.convert))})),u.length){case 0:return function(t){return t};case 1:return e=o[0],r=u[0],function(t){return e(t)?r(t):t};case 2:return e=o[0],n=o[1],r=u[0],i=u[1],function(t){return e(t)?r(t):n(t)?i(t):t};default:return function(t){for(var e=0;e<u.length;e++)if(o[e](t))return u[e](t);return t}}}function L(t){function e(t,n,r){if(n<t.length){var i=t[n],o=[];if(i.restParam){var u=i.types.filter(T);u.length<i.types.length&&o.push({types:u,name:"..."+u.map((function(t){return t.name})).join("|"),hasAny:u.some((function(t){return t.isAny})),hasConversion:!1,restParam:!0}),o.push(i)}else o=i.types.map((function(t){return{types:[t],name:t.name,hasAny:t.isAny,hasConversion:t.conversion,restParam:!1}}));return et(o,(function(i){return e(t,n+1,r.concat([i]))}))}return[r]}return e(t,0,[])}function V(e,n){for(var r=Math.max(e.length,n.length),i=0;i<r;i++){var o,u=S(e,i),a=!1,s=void 0,l=t(S(n,i));try{for(l.s();!(o=l.n()).done;)if(s=o.value,u.has(s)){a=!0;break}}catch(t){l.e(t)}finally{l.f()}if(!a)return!1}var c=e.length,h=n.length,f=M(e),d=M(n);return f?d?c===h:h>=c:d?c>=h:c===h}function H(t){return t.map((function(t){return ut(t)?it(t.referToSelf.callback):ot(t)?rt(t.referTo.references,t.referTo.callback):t}))}function U(e,n,r){var i,o,u=[],a=t(e);try{for(a.s();!(o=a.n()).done;){var s=r[i=o.value];if("number"!=typeof s)throw new TypeError('No definition for referenced signature "'+i+'"');if("function"!=typeof(s=n[s]))return!1;u.push(s)}}catch(t){a.e(t)}finally{a.f()}return u}function Z(t,e,n){for(var r=H(t),i=new Array(r.length).fill(!1),o=!0;o;){o=!1;for(var u=!0,a=0;a<r.length;++a)if(!i[a]){var s=r[a];if(ut(s))r[a]=s.referToSelf.callback(n),r[a].referToSelf=s.referToSelf,i[a]=!0,u=!1;else if(ot(s)){var l=U(s.referTo.references,r,e);l?(r[a]=s.referTo.callback.apply(this,l),r[a].referTo=s.referTo,i[a]=!0,u=!1):o=!0}}if(u&&o)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return r}function Y(t){var e=/\bthis(\(|\.signatures\b)/;Object.keys(t).forEach((function(n){var r=t[n];if(e.test(r.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")}))}function X(e,n){if(d.createCount++,0===Object.keys(n).length)throw new SyntaxError("No signatures provided");d.warnAgainstDeprecatedThis&&Y(n);var r,i=[],a=[],s={},l=[],c=function(){if(!Object.prototype.hasOwnProperty.call(n,r))return"continue";var e=_(r);if(!e)return"continue";i.forEach((function(t){if(V(t,e))throw new TypeError('Conflicting signatures "'+A(t)+'" and "'+A(e)+'".')})),i.push(e);var o=a.length;a.push(n[r]);var u,c=void 0,h=t(L(e.map(F)));try{for(h.s();!(u=h.n()).done;){var f=A(c=u.value);l.push({params:c,name:f,fn:o}),c.every((function(t){return!t.hasConversion}))&&(s[f]=o)}}catch(t){h.e(t)}finally{h.f()}};for(r in n)c();l.sort(j);var h,f=Z(a,s,pt);for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(s[h]=f[s[h]]);for(var p=[],g=new Map,m=0,D=l;m<D.length;m++)h=D[m],g.has(h.name)||(h.fn=f[h.fn],p.push(h),g.set(h.name,h));for(var v=p[0]&&p[0].params.length<=2&&!M(p[0].params),y=p[1]&&p[1].params.length<=2&&!M(p[1].params),w=p[2]&&p[2].params.length<=2&&!M(p[2].params),x=p[3]&&p[3].params.length<=2&&!M(p[3].params),b=p[4]&&p[4].params.length<=2&&!M(p[4].params),E=p[5]&&p[5].params.length<=2&&!M(p[5].params),C=v&&y&&w&&x&&b&&E,$=0;$<p.length;++$)p[$].test=B(p[$].params);for(var S=v?N(p[0].params[0]):o,T=y?N(p[1].params[0]):o,k=w?N(p[2].params[0]):o,z=x?N(p[3].params[0]):o,O=b?N(p[4].params[0]):o,q=E?N(p[5].params[0]):o,I=v?N(p[0].params[1]):o,R=y?N(p[1].params[1]):o,W=w?N(p[2].params[1]):o,H=x?N(p[3].params[1]):o,U=b?N(p[4].params[1]):o,X=E?N(p[5].params[1]):o,Q=0;Q<p.length;++Q)p[Q].implementation=P(p[Q].params,p[Q].fn);var J=v?p[0].implementation:u,G=y?p[1].implementation:u,K=w?p[2].implementation:u,tt=x?p[3].implementation:u,et=b?p[4].implementation:u,nt=E?p[5].implementation:u,rt=v?p[0].params.length:-1,it=y?p[1].params.length:-1,ot=w?p[2].params.length:-1,ut=x?p[3].params.length:-1,at=b?p[4].params.length:-1,st=E?p[5].params.length:-1,lt=C?6:0,ct=p.length,ht=p.map((function(t){return t.test})),ft=p.map((function(t){return t.implementation})),dt=function(){for(var t=lt;t<ct;t++)if(ht[t](arguments))return ft[t].apply(this,arguments);return d.onMismatch(e,arguments,p)};function pt(t,e){return arguments.length===rt&&S(t)&&I(e)?J.apply(this,arguments):arguments.length===it&&T(t)&&R(e)?G.apply(this,arguments):arguments.length===ot&&k(t)&&W(e)?K.apply(this,arguments):arguments.length===ut&&z(t)&&H(e)?tt.apply(this,arguments):arguments.length===at&&O(t)&&U(e)?et.apply(this,arguments):arguments.length===st&&q(t)&&X(e)?nt.apply(this,arguments):dt.apply(this,arguments)}try{Object.defineProperty(pt,"name",{value:e})}catch(t){}return pt.signatures=s,pt._typedFunctionData={signatures:p,signatureMap:g},pt}function Q(t,e,n){throw z(t,e,n)}function J(t){return K(t,0,t.length-1)}function G(t){return t[t.length-1]}function K(t,e,n){return Array.prototype.slice.call(t,e,n)}function tt(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function et(t,e){return Array.prototype.concat.apply([],t.map(e))}function nt(){var t=J(arguments).map((function(t){return A(_(t))})),e=G(arguments);if("function"!=typeof e)throw new TypeError("Callback function expected as last argument");return rt(t,e)}function rt(t,e){return{referTo:{references:t,callback:e}}}function it(t){if("function"!=typeof t)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:t}}}function ot(t){return t&&"object"===r(t.referTo)&&Array.isArray(t.referTo.references)&&"function"==typeof t.referTo.callback}function ut(t){return t&&"object"===r(t.referToSelf)&&"function"==typeof t.referToSelf.callback}function at(t,e){if(!t)return e;if(e&&e!==t){var n=new Error("Function names do not match (expected: "+t+", actual: "+e+")");throw n.data={actual:e,expected:t},n}return t}function st(t){var e;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(y(t[n])||"string"==typeof t[n].signature)&&(e=at(e,t[n].name));return e}function lt(t,e){var n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(n in t&&e[n]!==t[n]){var r=new Error('Signature "'+n+'" is defined twice');throw r.data={signature:n,sourceFunction:e[n],destFunction:t[n]},r}t[n]=e[n]}}m(),g(c);var ct=d;function ht(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(t.to===t.from)throw new SyntaxError('Illegal to define conversion from "'+t.from+'" to itself.')}return d=function(t){for(var n="string"==typeof t,r=n?t:"",i={},o=n?1:0;o<arguments.length;++o){var u=arguments[o],a={},s=void 0;if("function"==typeof u?(s=u.name,"string"==typeof u.signature?a[u.signature]=u:y(u)&&(a=u.signatures)):e(u)&&(a=u,n||(s=st(u))),0===Object.keys(a).length){var l=new TypeError("Argument to 'typed' at index "+o+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw l.data={index:o,argument:u},l}n||(r=at(r,s)),lt(i,a)}return X(r||"",i)},d.create=s,d.createCount=ct.createCount,d.onMismatch=Q,d.throwMismatchError=Q,d.createError=z,d.clear=m,d.clearConversions=D,d.addTypes=g,d._findType=p,d.referTo=nt,d.referToSelf=it,d.convert=b,d.findSignature=w,d.find=x,d.isTypedFunction=y,d.warnAgainstDeprecatedThis=!0,d.addType=function(t,e){var r="any";!1!==e&&n.has("Object")&&(r="Object"),d.addTypes([t],r)},d.addConversion=function(t){ht(t);var e=p(t.to);if(!e.conversionsTo.every((function(e){return e.from!==t.from})))throw new Error('There is already a conversion from "'+t.from+'" to "'+e.name+'"');e.conversionsTo.push({from:t.from,convert:t.convert,index:f++})},d.addConversions=function(t){t.forEach(d.addConversion)},d.removeConversion=function(t){ht(t);var e=p(t.to),n=tt(e.conversionsTo,(function(e){return e.from===t.from}));if(!n)throw new Error("Attempt to remove nonexistent conversion from "+t.from+" to "+t.to);if(n.convert!==t.convert)throw new Error("Conversion to remove does not match existing conversion");var r=e.conversionsTo.indexOf(n);e.conversionsTo.splice(r,1)},d.resolve=function(t,e){if(!y(t))throw new TypeError(a);for(var n=t._typedFunctionData.signatures,r=0;r<n.length;++r)if(n[r].test(e))return n[r];return null},d}var l=s();return l}()}));function _o(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}function Mo(t,e,n){var r={2:"0b",8:"0o",16:"0x"}[e],i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!_o(n))throw new Error("size must be an integer");if(t>2**(n-1)-1||t<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!_o(t))throw new Error("Value must be an integer");t<0&&(t+=2**n),i="i".concat(n)}var o="";return t<0&&(t=-t,o="-"),"".concat(o).concat(r).concat(t.toString(e)).concat(i)}function No(t,e){if("function"==typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var n,r,i="auto";if(e&&(e.notation&&(i=e.notation),Ti(e)?n=e:Ti(e.precision)&&(n=e.precision),e.wordSize&&"number"!=typeof(r=e.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=Bo(t),r="number"==typeof e?So(n,n.exponent+1+e):n,i=r.coefficients,o=r.exponent+1,u=o+(e||0);i.length<u&&(i=i.concat(To(u-i.length)));o<0&&(i=To(1-o).concat(i),o=1);o<i.length&&i.splice(o,0,0===o?"0.":".");return r.sign+i.join("")}(t,n);case"exponential":return $o(t,n);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=Bo(t),r=So(n,e),i=r.exponent,o=r.coefficients,u=i%3==0?i:i<0?i-3-i%3:i-i%3;if(Ti(e))for(;e>o.length||i-u+1>o.length;)o.push(0);else for(var a=Math.abs(i-u)-(o.length-1),s=0;s<a;s++)o.push(0);var l=Math.abs(i-u),c=1;for(;l>0;)c++,l--;var h=o.slice(c).join(""),f=Ti(e)&&h.length||h.match(/[1-9]/)?"."+h:"",d=o.slice(0,c).join("")+f+"e"+(i>=0?"+":"")+u.toString();return r.sign+d}(t,n);case"bin":return Mo(t,2,r);case"oct":return Mo(t,8,r);case"hex":return Mo(t,16,r);case"auto":return function(t,e,n){if(isNaN(t)||!isFinite(t))return String(t);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,i=n&&void 0!==n.upperExp?n.upperExp:5,o=Bo(t),u=e?So(o,e):o;if(u.exponent<r||u.exponent>=i)return $o(t,e);var a=u.coefficients,s=u.exponent;a.length<e&&(a=a.concat(To(e-a.length))),a=a.concat(To(s-a.length+1+(a.length<e?e-a.length:0)));var l=s>0?s:0;return l<(a=To(-s).concat(a)).length-1&&a.splice(l+1,0,"."),u.sign+a.join("")}(t,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Bo(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=-1!==o?o-1:r.length-1;var u=r.replace(".","").replace(/^0*/,(function(t){return i-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===u.length&&(u.push(0),i++),{sign:n,coefficients:u,exponent:i}}function $o(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=Bo(t),r=e?So(n,e):n,i=r.coefficients,o=r.exponent;i.length<e&&(i=i.concat(To(e-i.length)));var u=i.shift();return r.sign+u+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function So(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var i=e-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function To(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}var ko=Number.EPSILON||2220446049250313e-31;function zo(t,e,n){if(null==n)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var r=Math.abs(t-e);return r<ko||r<=Math.max(Math.abs(t),Math.abs(e))*n}return!1}function Oo(t,e,n){var r=new(0,t.constructor)(2),i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!_o(n))throw new Error("size must be an integer");if(t.greaterThan(r.pow(n-1).sub(1))||t.lessThan(r.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(r.pow(n))),i="i".concat(n)}switch(e){case 2:return"".concat(t.toBinary()).concat(i);case 8:return"".concat(t.toOctal()).concat(i);case 16:return"".concat(t.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(e," not supported "))}}function qo(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n,r,i="auto";if(void 0!==e&&(e.notation&&(i=e.notation),"number"==typeof e?n=e:void 0!==e.precision&&(n=e.precision),e.wordSize&&"number"!=typeof(r=e.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return function(t,e){return t.toFixed(e)}(t,n);case"exponential":return Io(t,n);case"engineering":return function(t,e){var n=t.e,r=n%3==0?n:n<0?n-3-n%3:n-n%3,i=t.mul(Math.pow(10,-r)),o=i.toPrecision(e);if(-1!==o.indexOf("e")){o=new(0,t.constructor)(o).toFixed()}return o+"e"+(n>=0?"+":"")+r.toString()}(t,n);case"bin":return Oo(t,2,r);case"oct":return Oo(t,8,r);case"hex":return Oo(t,16,r);case"auto":var o=e&&void 0!==e.lowerExp?e.lowerExp:-3,u=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return"0";var a=t.toSignificantDigits(n),s=a.e;return(s>=o&&s<u?a.toFixed():Io(t,n)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Io(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function jo(t,e){var n=function(t,e){if("number"==typeof t)return No(t,e);if(ki(t))return qo(t,e);if(function(t){return t&&"object"==typeof t&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t))return e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return Ro(t,e);if(Ii(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"==typeof t){return"function"==typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((n=>'"'+n+'": '+jo(t[n],e))).join(", ")+"}"}return String(t)}(t,e);return e&&"object"==typeof e&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function Ro(t,e){if(Array.isArray(t)){for(var n="[",r=t.length,i=0;i<r;i++)0!==i&&(n+=", "),n+=Ro(t[i],e);return n+="]"}return jo(t,e)}function Po(t,e,n){if(!(this instanceof Po))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function Wo(t,e,n){if(!(this instanceof Wo))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function Lo(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function Vo(t,e,n){var r,i=t.length;if(i!==e[n])throw new Po(i,e[n]);if(n<e.length-1){var o=n+1;for(r=0;r<i;r++){var u=t[r];if(!Array.isArray(u))throw new Po(e.length-1,e.length,"<");Vo(t[r],e,o)}}else for(r=0;r<i;r++)if(Array.isArray(t[r]))throw new Po(e.length+1,e.length,">")}function Ho(t,e){if(0===e.length){if(Array.isArray(t))throw new Po(t.length,0)}else Vo(t,e,0)}function Uo(t,e){if(void 0!==t){if(!Ti(t)||!_o(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new Wo(t,e)}}function Zo(t,e,n){if(!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!Ti(t)||!_o(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+jo(e)+")")})),(Ti(t)||ki(t))&&(t=[t]),Yo(t,e,0,void 0!==n?n:0),t}function Yo(t,e,n,r){var i,o,u=t.length,a=e[n],s=Math.min(u,a);if(t.length=a,n<e.length-1){var l=n+1;for(i=0;i<s;i++)o=t[i],Array.isArray(o)||(o=[o],t[i]=o),Yo(o,e,l,r);for(i=s;i<a;i++)o=[],t[i]=o,Yo(o,e,l,r)}else{for(i=0;i<s;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=s;i<a;i++)t[i]=r}}function Xo(t,e){var n=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(n){Array.isArray(n)?n.forEach(t):e.push(n)})),e}(t),r=n.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Po(0,r,"!=");var i=Jo(e=Qo(e,r));if(r!==i)throw new Po(i,r,"!=");try{return function(t,e){for(var n,r=t,i=e.length-1;i>0;i--){var o=e[i];n=[];for(var u=r.length/o,a=0;a<u;a++)n.push(r.slice(a*o,(a+1)*o));r=n}return r}(n,e)}catch(t){if(t instanceof Po)throw new Po(i,r,"!=");throw t}}function Qo(t,e){var n=Jo(t),r=t.slice(),i=t.indexOf(-1);if(t.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(!(e%n==0))throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);r[i]=-e/n}return r}function Jo(t){return t.reduce(((t,e)=>t*e),1)}function Go(t,e,n,r){var i=r||Lo(t);if(n)for(var o=0;o<n;o++)t=[t],i.unshift(1);for(t=Ko(t,e,0);i.length<e;)i.push(1);return t}function Ko(t,e,n){var r,i;if(Array.isArray(t)){var o=n+1;for(r=0,i=t.length;r<i;r++)t[r]=Ko(t[r],e,o)}else for(var u=n;u<e;u++)t=[t];return t}function tu(t,e){for(var n,r=0,i=0;i<t.length;i++){var o=t[i],u=Array.isArray(o);if(0===i&&u&&(r=o.length),u&&o.length!==r)return;var a=u?tu(o,e):e(o);if(void 0===n)n=a;else if(n!==a)return"mixed"}return n}function eu(t,e,n,r){if(r<n){if(t.length!==e.length)throw new Po(t.length,e.length);for(var i=[],o=0;o<t.length;o++)i[o]=eu(t[o],e[o],n,r+1);return i}return t.concat(e)}function nu(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(1===t.length)return t[0];if(t.length>1)return t.slice(1).reduce((function(t,n){return eu(t,n,e,0)}),t[0]);throw new Error("Wrong number of arguments in function concat")}function ru(t,e){for(var n=e.length,r=t.length,i=0;i<r;i++){var o=n-r+i;if(t[i]<e[o]&&t[i]>1||t[i]>e[o])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(r," with size ").concat(t[i]," to size ").concat(e[o]))}}function iu(t,e){var n=Lo(t);if(xo(n,e))return t;ru(n,e);var r,i,o,u=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.map((t=>t.length)),i=Math.max(...r),o=new Array(i).fill(null),u=0;u<e.length;u++)for(var a=e[u],s=r[u],l=0;l<s;l++){var c=i-s+l;a[l]>o[c]&&(o[c]=a[l])}for(var h=0;h<e.length;h++)ru(e[h],o);return o}(n,e),a=u.length,s=[...Array(a-n.length).fill(1),...n],l=function(t){return $i([],t)}(t);n.length<a&&(n=Lo(l=Xo(l,s)));for(var c=0;c<a;c++)n[c]<u[c]&&(r=l,i=u[c],o=c,n=Lo(l=nu(...Array(i).fill(r),o)));return l}function ou(t,e,n,r){function i(r){var i=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r],o=t[i];void 0!==o&&(n[i]=o)}return n}(r,e.map(uu));return function(t,e,n){var r=e.filter((t=>!function(t){return t&&"?"===t[0]}(t))).every((t=>void 0!==n[t]));if(!r){var i=e.filter((t=>void 0===n[t]));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map((t=>'"'.concat(t,'"'))).join(", "),"."))}}(t,e,r),n(i)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function uu(t){return t&&"?"===t[0]?t.slice(1):t}function au(t,e){if(lu(t)&&su(t,e))return t[e];if("function"==typeof t[e]&&function(t,e){if(null==t||"function"!=typeof t[e])return!1;if(bo(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t))return!1;if(bo(hu,e))return!0;if(e in Object.prototype)return!1;if(e in Function.prototype)return!1;return!0}(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')}function su(t,e){return!(!t||"object"!=typeof t)&&(!!bo(cu,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function lu(t){return"object"==typeof t&&t&&t.constructor===Object}Po.prototype=new RangeError,Po.prototype.constructor=RangeError,Po.prototype.name="DimensionError",Po.prototype.isDimensionError=!0,Wo.prototype=new RangeError,Wo.prototype.constructor=RangeError,Wo.prototype.name="IndexError",Wo.prototype.isIndexError=!0;var cu={length:!0,name:!0},hu={toString:!0,valueOf:!0,toLocaleString:!0};class fu{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return au(this.wrappedObject,t)}set(t,e){return function(t,e,n){if(lu(t)&&su(t,e))return t[e]=n,n;throw new Error('No access to property "'+e+'"')}(this.wrappedObject,t,e),this}has(t){return function(t,e){return e in t}(this.wrappedObject,t)}}function du(t){return!!t&&(t instanceof Map||t instanceof fu||"function"==typeof t.set&&"function"==typeof t.get&&"function"==typeof t.keys&&"function"==typeof t.has)}var pu=function(){return pu=Co.create,Co},gu=ou("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var{BigNumber:e,Complex:n,DenseMatrix:r,Fraction:i}=t,o=pu();return o.clear(),o.addTypes([{name:"number",test:Ti},{name:"Complex",test:zi},{name:"BigNumber",test:ki},{name:"Fraction",test:Oi},{name:"Unit",test:qi},{name:"identifier",test:t=>Ii&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(t)},{name:"string",test:Ii},{name:"Chain",test:vo},{name:"Array",test:ji},{name:"Matrix",test:Ri},{name:"DenseMatrix",test:Wi},{name:"SparseMatrix",test:Li},{name:"Range",test:Vi},{name:"Index",test:Hi},{name:"boolean",test:Ui},{name:"ResultSet",test:Zi},{name:"Help",test:Yi},{name:"function",test:Xi},{name:"Date",test:Qi},{name:"RegExp",test:Ji},{name:"null",test:Ki},{name:"undefined",test:to},{name:"AccessorNode",test:eo},{name:"ArrayNode",test:no},{name:"AssignmentNode",test:ro},{name:"BlockNode",test:io},{name:"ConditionalNode",test:oo},{name:"ConstantNode",test:uo},{name:"FunctionNode",test:so},{name:"FunctionAssignmentNode",test:ao},{name:"IndexNode",test:lo},{name:"Node",test:co},{name:"ObjectNode",test:ho},{name:"OperatorNode",test:fo},{name:"ParenthesisNode",test:po},{name:"RangeNode",test:go},{name:"RelationalNode",test:mo},{name:"SymbolNode",test:Do},{name:"Map",test:du},{name:"Object",test:Gi}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(t){if(e||mu(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return n||Du(t),new n(t,0)}},{from:"BigNumber",to:"Complex",convert:function(t){return n||Du(t),new n(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return n||Du(t),new n(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){i||vu(t);var e=new i(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||mu(t);try{return new e(t)}catch(e){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){i||vu(t);try{return new i(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){n||Du(t);try{return new n(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||mu(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return i||vu(t),new i(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}]),o.onMismatch=(t,e,n)=>{var r=o.createError(t,e,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===e.length&&Pi(e[0])&&n.some((t=>!t.params.includes(",")))){var i=new TypeError("Function '".concat(t,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(t,")'."));throw i.data=r.data,i}throw r},o.onMismatch=(t,e,n)=>{var r=o.createError(t,e,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===e.length&&Pi(e[0])&&n.some((t=>!t.params.includes(",")))){var i=new TypeError("Function '".concat(t,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(t,")'."));throw i.data=r.data,i}throw r},o}));function mu(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function Du(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function vu(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}
/*!
     *  decimal.js v10.4.3
     *  An arbitrary-precision Decimal type for JavaScript.
     *  https://github.com/MikeMcl/decimal.js
     *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
     *  MIT Licence
     */var yu,wu,xu=9e15,bu=1e9,Au="0123456789abcdef",Eu="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Fu="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Cu={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-xu,maxE:xu,crypto:!1},_u=!0,Mu="[DecimalError] ",Nu=Mu+"Invalid argument: ",Bu=Mu+"Precision limit exceeded",$u=Mu+"crypto unavailable",Su="[object Decimal]",Tu=Math.floor,ku=Math.pow,zu=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Ou=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,qu=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Iu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ju=1e7,Ru=7,Pu=Eu.length-1,Wu=Fu.length-1,Lu={toStringTag:Su};function Vu(t){var e,n,r,i=t.length-1,o="",u=t[0];if(i>0){for(o+=u,e=1;e<i;e++)r=t[e]+"",(n=Ru-r.length)&&(o+=ea(n)),o+=r;u=t[e],(n=Ru-(r=u+"").length)&&(o+=ea(n))}else if(0===u)return"0";for(;u%10==0;)u/=10;return o+u}function Hu(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Nu+t)}function Uu(t,e,n,r){var i,o,u,a;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=Ru,i=0):(i=Math.ceil((e+1)/Ru),e%=Ru),o=ku(10,Ru-e),a=t[i]%o|0,null==r?e<3?(0==e?a=a/100|0:1==e&&(a=a/10|0),u=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):u=(n<4&&a+1==o||n>3&&a+1==o/2)&&(t[i+1]/o/100|0)==ku(10,e-2)-1||(a==o/2||0==a)&&0==(t[i+1]/o/100|0):e<4?(0==e?a=a/1e3|0:1==e?a=a/100|0:2==e&&(a=a/10|0),u=(r||n<4)&&9999==a||!r&&n>3&&4999==a):u=((r||n<4)&&a+1==o||!r&&n>3&&a+1==o/2)&&(t[i+1]/o/1e3|0)==ku(10,e-3)-1,u}function Zu(t,e,n){for(var r,i,o=[0],u=0,a=t.length;u<a;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=Au.indexOf(t.charAt(u++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}Lu.absoluteValue=Lu.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Xu(t)},Lu.ceil=function(){return Xu(new this.constructor(this),this.e+1,2)},Lu.clampedTo=Lu.clamp=function(t,e){var n=this,r=n.constructor;if(t=new r(t),e=new r(e),!t.s||!e.s)return new r(NaN);if(t.gt(e))throw Error(Nu+e);return n.cmp(t)<0?t:n.cmp(e)>0?e:new r(n)},Lu.comparedTo=Lu.cmp=function(t){var e,n,r,i,o=this,u=o.d,a=(t=new o.constructor(t)).d,s=o.s,l=t.s;if(!u||!a)return s&&l?s!==l?s:u===a?0:!u^s<0?1:-1:NaN;if(!u[0]||!a[0])return u[0]?s:a[0]?-l:0;if(s!==l)return s;if(o.e!==t.e)return o.e>t.e^s<0?1:-1;for(e=0,n=(r=u.length)<(i=a.length)?r:i;e<n;++e)if(u[e]!==a[e])return u[e]>a[e]^s<0?1:-1;return r===i?0:r>i^s<0?1:-1},Lu.cosine=Lu.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+Ru,r.rounding=1,n=function(t,e){var n,r,i;if(e.isZero())return e;r=e.d.length,r<32?i=(1/ha(4,n=Math.ceil(r/3))).toString():(n=16,i="2.3283064365386962890625e-10");t.precision+=n,e=ca(t,1,e.times(i),new t(1));for(var o=n;o--;){var u=e.times(e);e=u.times(u).minus(u).times(8).plus(1)}return t.precision-=n,e}(r,fa(r,n)),r.precision=t,r.rounding=e,Xu(2==wu||3==wu?n.neg():n,t,e,!0)):new r(1):new r(NaN)},Lu.cubeRoot=Lu.cbrt=function(){var t,e,n,r,i,o,u,a,s,l,c=this,h=c.constructor;if(!c.isFinite()||c.isZero())return new h(c);for(_u=!1,(o=c.s*ku(c.s*c,1/3))&&Math.abs(o)!=1/0?r=new h(o.toString()):(n=Vu(c.d),(o=((t=c.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=ku(n,1/3),t=Tu((t+1)/3)-(t%3==(t<0?-1:2)),(r=new h(n=o==1/0?"5e"+t:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=c.s),u=(t=h.precision)+3;;)if(l=(s=(a=r).times(a).times(a)).plus(c),r=Yu(l.plus(c).times(a),l.plus(s),u+2,1),Vu(a.d).slice(0,u)===(n=Vu(r.d)).slice(0,u)){if("9999"!=(n=n.slice(u-3,u+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(Xu(r,t+1,1),e=!r.times(r).times(r).eq(c));break}if(!i&&(Xu(a,t+1,0),a.times(a).times(a).eq(c))){r=a;break}u+=4,i=1}return _u=!0,Xu(r,t,h.rounding,e)},Lu.decimalPlaces=Lu.dp=function(){var t,e=this.d,n=NaN;if(e){if(n=((t=e.length-1)-Tu(this.e/Ru))*Ru,t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},Lu.dividedBy=Lu.div=function(t){return Yu(this,new this.constructor(t))},Lu.dividedToIntegerBy=Lu.divToInt=function(t){var e=this.constructor;return Xu(Yu(this,new e(t),0,1,1),e.precision,e.rounding)},Lu.equals=Lu.eq=function(t){return 0===this.cmp(t)},Lu.floor=function(){return Xu(new this.constructor(this),this.e+1,3)},Lu.greaterThan=Lu.gt=function(t){return this.cmp(t)>0},Lu.greaterThanOrEqualTo=Lu.gte=function(t){var e=this.cmp(t);return 1==e||0===e},Lu.hyperbolicCosine=Lu.cosh=function(){var t,e,n,r,i,o=this,u=o.constructor,a=new u(1);if(!o.isFinite())return new u(o.s?1/0:NaN);if(o.isZero())return a;n=u.precision,r=u.rounding,u.precision=n+Math.max(o.e,o.sd())+4,u.rounding=1,(i=o.d.length)<32?e=(1/ha(4,t=Math.ceil(i/3))).toString():(t=16,e="2.3283064365386962890625e-10"),o=ca(u,1,o.times(e),new u(1),!0);for(var s,l=t,c=new u(8);l--;)s=o.times(o),o=a.minus(s.times(c.minus(s.times(c))));return Xu(o,u.precision=n,u.rounding=r,!0)},Lu.hyperbolicSine=Lu.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=ca(o,2,i,i,!0);else{t=(t=1.4*Math.sqrt(r))>16?16:0|t,i=ca(o,2,i=i.times(1/ha(5,t)),i,!0);for(var u,a=new o(5),s=new o(16),l=new o(20);t--;)u=i.times(i),i=i.times(a.plus(u.times(s.times(u).plus(l))))}return o.precision=e,o.rounding=n,Xu(i,e,n,!0)},Lu.hyperbolicTangent=Lu.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,Yu(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},Lu.inverseCosine=Lu.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?e.isNeg()?Ku(n,i,o):new n(0):new n(NaN):e.isZero()?Ku(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=Ku(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))},Lu.inverseHyperbolicCosine=Lu.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,_u=!1,n=n.times(n).minus(1).sqrt().plus(n),_u=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},Lu.inverseHyperbolicSine=Lu.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,_u=!1,n=n.times(n).plus(1).sqrt().plus(n),_u=!0,r.precision=t,r.rounding=e,n.ln())},Lu.inverseHyperbolicTangent=Lu.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?Xu(new o(i),t,e,!0):(o.precision=n=r-i.e,i=Yu(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)},Lu.inverseSine=Lu.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==e?0===e?((t=Ku(o,n+4,r).times(.5)).s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},Lu.inverseTangent=Lu.atan=function(){var t,e,n,r,i,o,u,a,s,l=this,c=l.constructor,h=c.precision,f=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&h+4<=Wu)return(u=Ku(c,h+4,f).times(.25)).s=l.s,u}else{if(!l.s)return new c(NaN);if(h+4<=Wu)return(u=Ku(c,h+4,f).times(.5)).s=l.s,u}for(c.precision=a=h+10,c.rounding=1,t=n=Math.min(28,a/Ru+2|0);t;--t)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(_u=!1,e=Math.ceil(a/Ru),r=1,s=l.times(l),u=new c(l),i=l;-1!==t;)if(i=i.times(s),o=u.minus(i.div(r+=2)),i=i.times(s),void 0!==(u=o.plus(i.div(r+=2))).d[e])for(t=e;u.d[t]===o.d[t]&&t--;);return n&&(u=u.times(2<<n-1)),_u=!0,Xu(u,c.precision=h,c.rounding=f,!0)},Lu.isFinite=function(){return!!this.d},Lu.isInteger=Lu.isInt=function(){return!!this.d&&Tu(this.e/Ru)>this.d.length-2},Lu.isNaN=function(){return!this.s},Lu.isNegative=Lu.isNeg=function(){return this.s<0},Lu.isPositive=Lu.isPos=function(){return this.s>0},Lu.isZero=function(){return!!this.d&&0===this.d[0]},Lu.lessThan=Lu.lt=function(t){return this.cmp(t)<0},Lu.lessThanOrEqualTo=Lu.lte=function(t){return this.cmp(t)<1},Lu.logarithm=Lu.log=function(t){var e,n,r,i,o,u,a,s,l=this,c=l.constructor,h=c.precision,f=c.rounding;if(null==t)t=new c(10),e=!0;else{if(n=(t=new c(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(n=l.d,l.s<0||!n||!n[0]||l.eq(1))return new c(n&&!n[0]?-1/0:1!=l.s?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(i=n[0];i%10==0;)i/=10;o=1!==i}if(_u=!1,u=ua(l,a=h+5),r=e?Gu(c,a+10):ua(t,a),Uu((s=Yu(u,r,a,1)).d,i=h,f))do{if(u=ua(l,a+=10),r=e?Gu(c,a+10):ua(t,a),s=Yu(u,r,a,1),!o){+Vu(s.d).slice(i+1,i+15)+1==1e14&&(s=Xu(s,h+1,0));break}}while(Uu(s.d,i+=10,f));return _u=!0,Xu(s,h,f)},Lu.minus=Lu.sub=function(t){var e,n,r,i,o,u,a,s,l,c,h,f,d=this,p=d.constructor;if(t=new p(t),!d.d||!t.d)return d.s&&t.s?d.d?t.s=-t.s:t=new p(t.d||d.s!==t.s?d:NaN):t=new p(NaN),t;if(d.s!=t.s)return t.s=-t.s,d.plus(t);if(l=d.d,f=t.d,a=p.precision,s=p.rounding,!l[0]||!f[0]){if(f[0])t.s=-t.s;else{if(!l[0])return new p(3===s?-0:0);t=new p(d)}return _u?Xu(t,a,s):t}if(n=Tu(t.e/Ru),c=Tu(d.e/Ru),l=l.slice(),o=c-n){for((h=o<0)?(e=l,o=-o,u=f.length):(e=f,n=c,u=l.length),o>(r=Math.max(Math.ceil(a/Ru),u)+2)&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for((h=(r=l.length)<(u=f.length))&&(u=r),r=0;r<u;r++)if(l[r]!=f[r]){h=l[r]<f[r];break}o=0}for(h&&(e=l,l=f,f=e,t.s=-t.s),u=l.length,r=f.length-u;r>0;--r)l[u++]=0;for(r=f.length;r>o;){if(l[--r]<f[r]){for(i=r;i&&0===l[--i];)l[i]=ju-1;--l[i],l[r]+=ju}l[r]-=f[r]}for(;0===l[--u];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=Ju(l,n),_u?Xu(t,a,s):t):new p(3===s?-0:0)},Lu.modulo=Lu.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?Xu(new r(n),r.precision,r.rounding):(_u=!1,9==r.modulo?(e=Yu(n,t.abs(),0,3,1)).s*=t.s:e=Yu(n,t,0,r.modulo,1),e=e.times(t),_u=!0,n.minus(e))},Lu.naturalExponential=Lu.exp=function(){return oa(this)},Lu.naturalLogarithm=Lu.ln=function(){return ua(this)},Lu.negated=Lu.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Xu(t)},Lu.plus=Lu.add=function(t){var e,n,r,i,o,u,a,s,l,c,h=this,f=h.constructor;if(t=new f(t),!h.d||!t.d)return h.s&&t.s?h.d||(t=new f(t.d||h.s===t.s?h:NaN)):t=new f(NaN),t;if(h.s!=t.s)return t.s=-t.s,h.minus(t);if(l=h.d,c=t.d,a=f.precision,s=f.rounding,!l[0]||!c[0])return c[0]||(t=new f(h)),_u?Xu(t,a,s):t;if(o=Tu(h.e/Ru),r=Tu(t.e/Ru),l=l.slice(),i=o-r){for(i<0?(n=l,i=-i,u=c.length):(n=c,r=o,u=l.length),i>(u=(o=Math.ceil(a/Ru))>u?o+1:u+1)&&(i=u,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((u=l.length)-(i=c.length)<0&&(i=u,n=c,c=l,l=n),e=0;i;)e=(l[--i]=l[i]+c[i]+e)/ju|0,l[i]%=ju;for(e&&(l.unshift(e),++r),u=l.length;0==l[--u];)l.pop();return t.d=l,t.e=Ju(l,r),_u?Xu(t,a,s):t},Lu.precision=Lu.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(Nu+t);return n.d?(e=ta(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},Lu.round=function(){var t=this,e=t.constructor;return Xu(new e(t),t.e+1,e.rounding)},Lu.sine=Lu.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+Ru,r.rounding=1,n=function(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:ca(t,2,e,e);n=(n=1.4*Math.sqrt(r))>16?16:0|n,e=e.times(1/ha(5,n)),e=ca(t,2,e,e);for(var i,o=new t(5),u=new t(16),a=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(u.times(i).minus(a))));return e}(r,fa(r,n)),r.precision=t,r.rounding=e,Xu(wu>2?n.neg():n,t,e,!0)):new r(NaN)},Lu.squareRoot=Lu.sqrt=function(){var t,e,n,r,i,o,u=this,a=u.d,s=u.e,l=u.s,c=u.constructor;if(1!==l||!a||!a[0])return new c(!l||l<0&&(!a||a[0])?NaN:a?u:1/0);for(_u=!1,0==(l=Math.sqrt(+u))||l==1/0?(((e=Vu(a)).length+s)%2==0&&(e+="0"),l=Math.sqrt(e),s=Tu((s+1)/2)-(s<0||s%2),r=new c(e=l==1/0?"5e"+s:(e=l.toExponential()).slice(0,e.indexOf("e")+1)+s)):r=new c(l.toString()),n=(s=c.precision)+3;;)if(r=(o=r).plus(Yu(u,o,n+2,1)).times(.5),Vu(o.d).slice(0,n)===(e=Vu(r.d)).slice(0,n)){if("9999"!=(e=e.slice(n-3,n+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(Xu(r,s+1,1),t=!r.times(r).eq(u));break}if(!i&&(Xu(o,s+1,0),o.times(o).eq(u))){r=o;break}n+=4,i=1}return _u=!0,Xu(r,s,c.rounding,t)},Lu.tangent=Lu.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,(n=n.sin()).s=1,n=Yu(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,Xu(2==wu||4==wu?n.neg():n,t,e,!0)):new r(NaN)},Lu.times=Lu.mul=function(t){var e,n,r,i,o,u,a,s,l,c=this,h=c.constructor,f=c.d,d=(t=new h(t)).d;if(t.s*=c.s,!(f&&f[0]&&d&&d[0]))return new h(!t.s||f&&!f[0]&&!d||d&&!d[0]&&!f?NaN:f&&d?0*t.s:t.s/0);for(n=Tu(c.e/Ru)+Tu(t.e/Ru),(s=f.length)<(l=d.length)&&(o=f,f=d,d=o,u=s,s=l,l=u),o=[],r=u=s+l;r--;)o.push(0);for(r=l;--r>=0;){for(e=0,i=s+r;i>r;)a=o[i]+d[r]*f[i-r-1]+e,o[i--]=a%ju|0,e=a/ju|0;o[i]=(o[i]+e)%ju|0}for(;!o[--u];)o.pop();return e?++n:o.shift(),t.d=o,t.e=Ju(o,n),_u?Xu(t,h.precision,h.rounding):t},Lu.toBinary=function(t,e){return da(this,2,t,e)},Lu.toDecimalPlaces=Lu.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(Hu(t,0,bu),void 0===e?e=r.rounding:Hu(e,0,8),Xu(n,t+n.e+1,e))},Lu.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=Qu(r,!0):(Hu(t,0,bu),void 0===e?e=i.rounding:Hu(e,0,8),n=Qu(r=Xu(new i(r),t+1,e),!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},Lu.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return void 0===t?n=Qu(i):(Hu(t,0,bu),void 0===e?e=o.rounding:Hu(e,0,8),n=Qu(r=Xu(new o(i),t+i.e+1,e),!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},Lu.toFraction=function(t){var e,n,r,i,o,u,a,s,l,c,h,f,d=this,p=d.d,g=d.constructor;if(!p)return new g(d);if(l=n=new g(1),r=s=new g(0),u=(o=(e=new g(r)).e=ta(p)-d.e-1)%Ru,e.d[0]=ku(10,u<0?Ru+u:u),null==t)t=o>0?e:l;else{if(!(a=new g(t)).isInt()||a.lt(l))throw Error(Nu+a);t=a.gt(e)?o>0?e:l:a}for(_u=!1,a=new g(Vu(p)),c=g.precision,g.precision=o=p.length*Ru*2;h=Yu(a,e,0,1,1),1!=(i=n.plus(h.times(r))).cmp(t);)n=r,r=i,i=l,l=s.plus(h.times(i)),s=i,i=e,e=a.minus(h.times(i)),a=i;return i=Yu(t.minus(n),r,0,1,1),s=s.plus(i.times(l)),n=n.plus(i.times(r)),s.s=l.s=d.s,f=Yu(l,r,o,1).minus(d).abs().cmp(Yu(s,n,o,1).minus(d).abs())<1?[l,r]:[s,n],g.precision=c,_u=!0,f},Lu.toHexadecimal=Lu.toHex=function(t,e){return da(this,16,t,e)},Lu.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0===e?e=r.rounding:Hu(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(_u=!1,n=Yu(n,t,0,e,1).times(t),_u=!0,Xu(n)):(t.s=n.s,n=t),n},Lu.toNumber=function(){return+this},Lu.toOctal=function(t,e){return da(this,8,t,e)},Lu.toPower=Lu.pow=function(t){var e,n,r,i,o,u,a=this,s=a.constructor,l=+(t=new s(t));if(!(a.d&&t.d&&a.d[0]&&t.d[0]))return new s(ku(+a,l));if((a=new s(a)).eq(1))return a;if(r=s.precision,o=s.rounding,t.eq(1))return Xu(a,r,o);if((e=Tu(t.e/Ru))>=t.d.length-1&&(n=l<0?-l:l)<=9007199254740991)return i=na(s,a,n,r),t.s<0?new s(1).div(i):Xu(i,r,o);if((u=a.s)<0){if(e<t.d.length-1)return new s(NaN);if(0==(1&t.d[e])&&(u=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=u,a}return(e=0!=(n=ku(+a,l))&&isFinite(n)?new s(n+"").e:Tu(l*(Math.log("0."+Vu(a.d))/Math.LN10+a.e+1)))>s.maxE+1||e<s.minE-1?new s(e>0?u/0:0):(_u=!1,s.rounding=a.s=1,n=Math.min(12,(e+"").length),(i=oa(t.times(ua(a,r+n)),r)).d&&Uu((i=Xu(i,r+5,1)).d,r,o)&&(e=r+10,+Vu((i=Xu(oa(t.times(ua(a,e+n)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=Xu(i,r+1,0))),i.s=u,_u=!0,s.rounding=o,Xu(i,r,o))},Lu.toPrecision=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=Qu(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Hu(t,1,bu),void 0===e?e=i.rounding:Hu(e,0,8),n=Qu(r=Xu(new i(r),t,e),t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},Lu.toSignificantDigits=Lu.toSD=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(Hu(t,1,bu),void 0===e?e=n.rounding:Hu(e,0,8)),Xu(new n(this),t,e)},Lu.toString=function(){var t=this,e=t.constructor,n=Qu(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},Lu.truncated=Lu.trunc=function(){return Xu(new this.constructor(this),this.e+1,1)},Lu.valueOf=Lu.toJSON=function(){var t=this,e=t.constructor,n=Qu(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var Yu=function(){function t(t,e,n){var r,i=0,o=t.length;for(t=t.slice();o--;)r=t[o]*e+i,t[o]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,u,a,s){var l,c,h,f,d,p,g,m,D,v,y,w,x,b,A,E,F,C,_,M,N=r.constructor,B=r.s==i.s?1:-1,$=r.d,S=i.d;if(!($&&$[0]&&S&&S[0]))return new N(r.s&&i.s&&($?!S||$[0]!=S[0]:S)?$&&0==$[0]||!S?0*B:B/0:NaN);for(s?(d=1,c=r.e-i.e):(s=ju,d=Ru,c=Tu(r.e/d)-Tu(i.e/d)),_=S.length,F=$.length,v=(D=new N(B)).d=[],h=0;S[h]==($[h]||0);h++);if(S[h]>($[h]||0)&&c--,null==o?(b=o=N.precision,u=N.rounding):b=a?o+(r.e-i.e)+1:o,b<0)v.push(1),p=!0;else{if(b=b/d+2|0,h=0,1==_){for(f=0,S=S[0],b++;(h<F||f)&&b--;h++)A=f*s+($[h]||0),v[h]=A/S|0,f=A%S|0;p=f||h<F}else{for((f=s/(S[0]+1)|0)>1&&(S=t(S,f,s),$=t($,f,s),_=S.length,F=$.length),E=_,w=(y=$.slice(0,_)).length;w<_;)y[w++]=0;(M=S.slice()).unshift(0),C=S[0],S[1]>=s/2&&++C;do{f=0,(l=e(S,y,_,w))<0?(x=y[0],_!=w&&(x=x*s+(y[1]||0)),(f=x/C|0)>1?(f>=s&&(f=s-1),1==(l=e(g=t(S,f,s),y,m=g.length,w=y.length))&&(f--,n(g,_<m?M:S,m,s))):(0==f&&(l=f=1),g=S.slice()),(m=g.length)<w&&g.unshift(0),n(y,g,w,s),-1==l&&(l=e(S,y,_,w=y.length))<1&&(f++,n(y,_<w?M:S,w,s)),w=y.length):0===l&&(f++,y=[0]),v[h++]=f,l&&y[0]?y[w++]=$[E]||0:(y=[$[E]],w=1)}while((E++<F||void 0!==y[0])&&b--);p=void 0!==y[0]}v[0]||v.shift()}if(1==d)D.e=c,yu=p;else{for(h=1,f=v[0];f>=10;f/=10)h++;D.e=h+c*d-1,Xu(D,a?o+D.e+1:o,u,p)}return D}}();function Xu(t,e,n,r){var i,o,u,a,s,l,c,h,f,d=t.constructor;t:if(null!=e){if(!(h=t.d))return t;for(i=1,a=h[0];a>=10;a/=10)i++;if((o=e-i)<0)o+=Ru,u=e,s=(c=h[f=0])/ku(10,i-u-1)%10|0;else if((f=Math.ceil((o+1)/Ru))>=(a=h.length)){if(!r)break t;for(;a++<=f;)h.push(0);c=s=0,i=1,u=(o%=Ru)-Ru+1}else{for(c=a=h[f],i=1;a>=10;a/=10)i++;s=(u=(o%=Ru)-Ru+i)<0?0:c/ku(10,i-u-1)%10|0}if(r=r||e<0||void 0!==h[f+1]||(u<0?c:c%ku(10,i-u-1)),l=n<4?(s||r)&&(0==n||n==(t.s<0?3:2)):s>5||5==s&&(4==n||r||6==n&&(o>0?u>0?c/ku(10,i-u):0:h[f-1])%10&1||n==(t.s<0?8:7)),e<1||!h[0])return h.length=0,l?(e-=t.e+1,h[0]=ku(10,(Ru-e%Ru)%Ru),t.e=-e||0):h[0]=t.e=0,t;if(0==o?(h.length=f,a=1,f--):(h.length=f+1,a=ku(10,Ru-o),h[f]=u>0?(c/ku(10,i-u)%ku(10,u)|0)*a:0),l)for(;;){if(0==f){for(o=1,u=h[0];u>=10;u/=10)o++;for(u=h[0]+=a,a=1;u>=10;u/=10)a++;o!=a&&(t.e++,h[0]==ju&&(h[0]=1));break}if(h[f]+=a,h[f]!=ju)break;h[f--]=0,a=1}for(o=h.length;0===h[--o];)h.pop()}return _u&&(t.e>d.maxE?(t.d=null,t.e=NaN):t.e<d.minE&&(t.e=0,t.d=[0])),t}function Qu(t,e,n){if(!t.isFinite())return aa(t);var r,i=t.e,o=Vu(t.d),u=o.length;return e?(n&&(r=n-u)>0?o=o.charAt(0)+"."+o.slice(1)+ea(r):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+ea(-i-1)+o,n&&(r=n-u)>0&&(o+=ea(r))):i>=u?(o+=ea(i+1-u),n&&(r=n-i-1)>0&&(o=o+"."+ea(r))):((r=i+1)<u&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-u)>0&&(i+1===u&&(o+="."),o+=ea(r))),o}function Ju(t,e){var n=t[0];for(e*=Ru;n>=10;n/=10)e++;return e}function Gu(t,e,n){if(e>Pu)throw _u=!0,n&&(t.precision=n),Error(Bu);return Xu(new t(Eu),e,1,!0)}function Ku(t,e,n){if(e>Wu)throw Error(Bu);return Xu(new t(Fu),e,n,!0)}function ta(t){var e=t.length-1,n=e*Ru+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function ea(t){for(var e="";t--;)e+="0";return e}function na(t,e,n,r){var i,o=new t(1),u=Math.ceil(r/Ru+4);for(_u=!1;;){if(n%2&&pa((o=o.times(e)).d,u)&&(i=!0),0===(n=Tu(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}pa((e=e.times(e)).d,u)}return _u=!0,o}function ra(t){return 1&t.d[t.d.length-1]}function ia(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;){if(!(r=new t(e[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function oa(t,e){var n,r,i,o,u,a,s,l=0,c=0,h=0,f=t.constructor,d=f.rounding,p=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(_u=!1,s=p):s=e,a=new f(.03125);t.e>-2;)t=t.times(a),h+=5;for(s+=r=Math.log(ku(2,h))/Math.LN10*2+5|0,n=o=u=new f(1),f.precision=s;;){if(o=Xu(o.times(t),s,1),n=n.times(++c),Vu((a=u.plus(Yu(o,n,s,1))).d).slice(0,s)===Vu(u.d).slice(0,s)){for(i=h;i--;)u=Xu(u.times(u),s,1);if(null!=e)return f.precision=p,u;if(!(l<3&&Uu(u.d,s-r,d,l)))return Xu(u,f.precision=p,d,_u=!0);f.precision=s+=10,n=o=a=new f(1),c=0,l++}u=a}}function ua(t,e){var n,r,i,o,u,a,s,l,c,h,f,d=1,p=t,g=p.d,m=p.constructor,D=m.rounding,v=m.precision;if(p.s<0||!g||!g[0]||!p.e&&1==g[0]&&1==g.length)return new m(g&&!g[0]?-1/0:1!=p.s?NaN:g?0:p);if(null==e?(_u=!1,c=v):c=e,m.precision=c+=10,r=(n=Vu(g)).charAt(0),!(Math.abs(o=p.e)<15e14))return l=Gu(m,c+2,v).times(o+""),p=ua(new m(r+"."+n.slice(1)),c-10).plus(l),m.precision=v,null==e?Xu(p,v,D,_u=!0):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=Vu((p=p.times(t)).d)).charAt(0),d++;for(o=p.e,r>1?(p=new m("0."+n),o++):p=new m(r+"."+n.slice(1)),h=p,s=u=p=Yu(p.minus(1),p.plus(1),c,1),f=Xu(p.times(p),c,1),i=3;;){if(u=Xu(u.times(f),c,1),Vu((l=s.plus(Yu(u,new m(i),c,1))).d).slice(0,c)===Vu(s.d).slice(0,c)){if(s=s.times(2),0!==o&&(s=s.plus(Gu(m,c+2,v).times(o+""))),s=Yu(s,new m(d),c,1),null!=e)return m.precision=v,s;if(!Uu(s.d,c-10,D,a))return Xu(s,m.precision=v,D,_u=!0);m.precision=c+=10,l=u=p=Yu(h.minus(1),h.plus(1),c,1),f=Xu(p.times(p),c,1),i=a=1}s=l,i+=2}}function aa(t){return String(t.s*t.s/0)}function sa(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%Ru,n<0&&(r+=Ru),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ru;r<i;)t.d.push(+e.slice(r,r+=Ru));e=e.slice(r),r=Ru-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),_u&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function la(t,e){var n,r,i,o,u,a,s,l,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Iu.test(e))return sa(t,e)}else if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Ou.test(e))n=16,e=e.toLowerCase();else if(zu.test(e))n=2;else{if(!qu.test(e))throw Error(Nu+e);n=8}for((o=e.search(/p/i))>0?(s=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),u=(o=e.indexOf("."))>=0,r=t.constructor,u&&(o=(a=(e=e.replace(".","")).length)-o,i=na(r,new r(n),o,2*o)),o=c=(l=Zu(e,n,ju)).length-1;0===l[o];--o)l.pop();return o<0?new r(0*t.s):(t.e=Ju(l,c),t.d=l,_u=!1,u&&(t=Yu(t,i,4*a)),s&&(t=t.times(Math.abs(s)<54?ku(2,s):es.pow(2,s))),_u=!0,t)}function ca(t,e,n,r,i){var o,u,a,s,l=t.precision,c=Math.ceil(l/Ru);for(_u=!1,s=n.times(n),a=new t(r);;){if(u=Yu(a.times(s),new t(e++*e++),l,1),a=i?r.plus(u):r.minus(u),r=Yu(u.times(s),new t(e++*e++),l,1),void 0!==(u=a.plus(r)).d[c]){for(o=c;u.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=r,r=u,u=o}return _u=!0,u.d.length=c+1,u}function ha(t,e){for(var n=t;--e;)n*=t;return n}function fa(t,e){var n,r=e.s<0,i=Ku(t,t.precision,1),o=i.times(.5);if((e=e.abs()).lte(o))return wu=r?4:1,e;if((n=e.divToInt(i)).isZero())wu=r?3:2;else{if((e=e.minus(n.times(i))).lte(o))return wu=ra(n)?r?2:3:r?4:1,e;wu=ra(n)?r?1:4:r?3:2}return e.minus(i).abs()}function da(t,e,n,r){var i,o,u,a,s,l,c,h,f,d=t.constructor,p=void 0!==n;if(p?(Hu(n,1,bu),void 0===r?r=d.rounding:Hu(r,0,8)):(n=d.precision,r=d.rounding),t.isFinite()){for(p?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,(u=(c=Qu(t)).indexOf("."))>=0&&(c=c.replace(".",""),(f=new d(1)).e=c.length-u,f.d=Zu(Qu(f),10,i),f.e=f.d.length),o=s=(h=Zu(c,10,i)).length;0==h[--s];)h.pop();if(h[0]){if(u<0?o--:((t=new d(t)).d=h,t.e=o,h=(t=Yu(t,f,n,r,0,i)).d,o=t.e,l=yu),u=h[n],a=i/2,l=l||void 0!==h[n+1],l=r<4?(void 0!==u||l)&&(0===r||r===(t.s<0?3:2)):u>a||u===a&&(4===r||l||6===r&&1&h[n-1]||r===(t.s<0?8:7)),h.length=n,l)for(;++h[--n]>i-1;)h[n]=0,n||(++o,h.unshift(1));for(s=h.length;!h[s-1];--s);for(u=0,c="";u<s;u++)c+=Au.charAt(h[u]);if(p){if(s>1)if(16==e||8==e){for(u=16==e?4:3,--s;s%u;s++)c+="0";for(s=(h=Zu(c,i,e)).length;!h[s-1];--s);for(u=1,c="1.";u<s;u++)c+=Au.charAt(h[u])}else c=c.charAt(0)+"."+c.slice(1);c=c+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)c="0"+c;c="0."+c}else if(++o>s)for(o-=s;o--;)c+="0";else o<s&&(c=c.slice(0,o)+"."+c.slice(o))}else c=p?"0p+0":"0";c=(16==e?"0x":2==e?"0b":8==e?"0o":"")+c}else c=aa(t);return t.s<0?"-"+c:c}function pa(t,e){if(t.length>e)return t.length=e,!0}function ga(t){return new this(t).abs()}function ma(t){return new this(t).acos()}function Da(t){return new this(t).acosh()}function va(t,e){return new this(t).plus(e)}function ya(t){return new this(t).asin()}function wa(t){return new this(t).asinh()}function xa(t){return new this(t).atan()}function ba(t){return new this(t).atanh()}function Aa(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?Ku(this,r,i):new this(0)).s=t.s:!t.d||e.isZero()?(n=Ku(this,o,1).times(.5)).s=t.s:e.s<0?(this.precision=o,this.rounding=1,n=this.atan(Yu(t,e,o,1)),e=Ku(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(Yu(t,e,o,1)):(n=Ku(this,o,1).times(e.s>0?.25:.75)).s=t.s:n=new this(NaN),n}function Ea(t){return new this(t).cbrt()}function Fa(t){return Xu(t=new this(t),t.e+1,2)}function Ca(t,e,n){return new this(t).clamp(e,n)}function _a(t){if(!t||"object"!=typeof t)throw Error(Mu+"Object expected");var e,n,r,i=!0===t.defaults,o=["precision",1,bu,"rounding",0,8,"toExpNeg",-xu,0,"toExpPos",0,xu,"maxE",0,xu,"minE",-xu,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],i&&(this[n]=Cu[n]),void 0!==(r=t[n])){if(!(Tu(r)===r&&r>=o[e+1]&&r<=o[e+2]))throw Error(Nu+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=Cu[n]),void 0!==(r=t[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(Nu+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error($u);this[n]=!0}else this[n]=!1}return this}function Ma(t){return new this(t).cos()}function Na(t){return new this(t).cosh()}function Ba(t,e){return new this(t).div(e)}function $a(t){return new this(t).exp()}function Sa(t){return Xu(t=new this(t),t.e+1,3)}function Ta(){var t,e,n=new this(0);for(_u=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return _u=!0,new this(1/0);n=e}return _u=!0,n.sqrt()}function ka(t){return t instanceof es||t&&t.toStringTag===Su||!1}function za(t){return new this(t).ln()}function Oa(t,e){return new this(t).log(e)}function qa(t){return new this(t).log(2)}function Ia(t){return new this(t).log(10)}function ja(){return ia(this,arguments,"lt")}function Ra(){return ia(this,arguments,"gt")}function Pa(t,e){return new this(t).mod(e)}function Wa(t,e){return new this(t).mul(e)}function La(t,e){return new this(t).pow(e)}function Va(t){var e,n,r,i,o=0,u=new this(1),a=[];if(void 0===t?t=this.precision:Hu(t,1,bu),r=Math.ceil(t/Ru),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=e[o])>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error($u);for(e=crypto.randomBytes(r*=4);o<r;)(i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,o):(a.push(i%1e7),o+=4);o=r/4}else for(;o<r;)a[o++]=1e7*Math.random()|0;for(r=a[--o],t%=Ru,r&&t&&(i=ku(10,Ru-t),a[o]=(r/i|0)*i);0===a[o];o--)a.pop();if(o<0)n=0,a=[0];else{for(n=-1;0===a[0];n-=Ru)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<Ru&&(n-=Ru-r)}return u.e=n,u.d=a,u}function Ha(t){return Xu(t=new this(t),t.e+1,this.rounding)}function Ua(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Za(t){return new this(t).sin()}function Ya(t){return new this(t).sinh()}function Xa(t){return new this(t).sqrt()}function Qa(t,e){return new this(t).sub(e)}function Ja(){var t=0,e=arguments,n=new this(e[t]);for(_u=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return _u=!0,Xu(n,this.precision,this.rounding)}function Ga(t){return new this(t).tan()}function Ka(t){return new this(t).tanh()}function ts(t){return Xu(t=new this(t),t.e+1,1)}Lu[Symbol.for("nodejs.util.inspect.custom")]=Lu.toString,Lu[Symbol.toStringTag]="Decimal";var es=Lu.constructor=function t(e){var n,r,i;function o(t){var e,n,r,i=this;if(!(i instanceof o))return new o(t);if(i.constructor=o,ka(t))return i.s=t.s,void(_u?!t.d||t.e>o.maxE?(i.e=NaN,i.d=null):t.e<o.minE?(i.e=0,i.d=[0]):(i.e=t.e,i.d=t.d.slice()):(i.e=t.e,i.d=t.d?t.d.slice():t.d));if("number"===(r=typeof t)){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(e=0,n=t;n>=10;n/=10)e++;return void(_u?e>o.maxE?(i.e=NaN,i.d=null):e<o.minE?(i.e=0,i.d=[0]):(i.e=e,i.d=[t]):(i.e=e,i.d=[t]))}return 0*t!=0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):sa(i,t.toString())}if("string"!==r)throw Error(Nu+t);return 45===(n=t.charCodeAt(0))?(t=t.slice(1),i.s=-1):(43===n&&(t=t.slice(1)),i.s=1),Iu.test(t)?sa(i,t):la(i,t)}if(o.prototype=Lu,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=_a,o.clone=t,o.isDecimal=ka,o.abs=ga,o.acos=ma,o.acosh=Da,o.add=va,o.asin=ya,o.asinh=wa,o.atan=xa,o.atanh=ba,o.atan2=Aa,o.cbrt=Ea,o.ceil=Fa,o.clamp=Ca,o.cos=Ma,o.cosh=Na,o.div=Ba,o.exp=$a,o.floor=Sa,o.hypot=Ta,o.ln=za,o.log=Oa,o.log10=Ia,o.log2=qa,o.max=ja,o.min=Ra,o.mod=Pa,o.mul=Wa,o.pow=La,o.random=Va,o.round=Ha,o.sign=Ua,o.sin=Za,o.sinh=Ya,o.sqrt=Xa,o.sub=Qa,o.sum=Ja,o.tan=Ga,o.tanh=Ka,o.trunc=ts,void 0===e&&(e={}),e&&!0!==e.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)e.hasOwnProperty(r=i[n++])||(e[r]=this[r]);return o.config(e),o}(Cu);Eu=new es(Eu),Fu=new es(Fu);var ns=ou("BigNumber",["?on","config"],(t=>{var{on:e,config:n}=t,r=es.clone({precision:n.precision,modulo:es.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(t){return new r(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&r.config({precision:t.precision})})),r}),{isClass:!0}),rs=Fo((function(t,e){!function(e){var n=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:.5*(Math.exp(t)+Math.exp(-t))},r=Math.sinh||function(t){return Math.abs(t)<1e-9?t:.5*(Math.exp(t)-Math.exp(-t))},i=function(){throw SyntaxError("Invalid Param")};function o(t,e){var n=Math.abs(t),r=Math.abs(e);return 0===t?Math.log(r):0===e?Math.log(n):n<3e3&&r<3e3?.5*Math.log(t*t+e*e):(t/=2,e/=2,.5*Math.log(t*t+e*e)+Math.LN2)}function u(t,e){if(!(this instanceof u))return new u(t,e);var n=function(t,e){var n={re:0,im:0};if(null==t)n.re=n.im=0;else if(void 0!==e)n.re=t,n.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return u.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return u.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else 2===t.length?(n.re=t[0],n.im=t[1]):i();break;case"string":n.im=n.re=0;var r=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),o=1,a=0;null===r&&i();for(var s=0;s<r.length;s++){var l=r[s];" "===l||"\t"===l||"\n"===l||("+"===l?o++:"-"===l?a++:"i"===l||"I"===l?(o+a===0&&i()," "===r[s+1]||isNaN(r[s+1])?n.im+=parseFloat((a%2?"-":"")+"1"):(n.im+=parseFloat((a%2?"-":"")+r[s+1]),s++),o=a=0):((o+a===0||isNaN(l))&&i(),"i"===r[s+1]||"I"===r[s+1]?(n.im+=parseFloat((a%2?"-":"")+l),s++):n.re+=parseFloat((a%2?"-":"")+l),o=a=0))}o+a>0&&i();break;case"number":n.im=0,n.re=t;break;default:i()}return isNaN(n.re)||isNaN(n.im),n}(t,e);this.re=n.re,this.im=n.im}u.prototype={re:0,im:0,sign:function(){var t=this.abs();return new u(this.re/t,this.im/t)},add:function(t,e){var n=new u(t,e);return this.isInfinite()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:new u(this.re+n.re,this.im+n.im)},sub:function(t,e){var n=new u(t,e);return this.isInfinite()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:new u(this.re-n.re,this.im-n.im)},mul:function(t,e){var n=new u(t,e);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:0===n.im&&0===this.im?new u(this.re*n.re,0):new u(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(t,e){var n=new u(t,e);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return u.NAN;if(this.isInfinite()||n.isZero())return u.INFINITY;if(this.isZero()||n.isInfinite())return u.ZERO;t=this.re,e=this.im;var r,i,o=n.re,a=n.im;return 0===a?new u(t/o,e/o):Math.abs(o)<Math.abs(a)?new u((t*(i=o/a)+e)/(r=o*i+a),(e*i-t)/r):new u((t+e*(i=a/o))/(r=a*i+o),(e-t*i)/r)},pow:function(t,e){var n=new u(t,e);if(t=this.re,e=this.im,n.isZero())return u.ONE;if(0===n.im){if(0===e&&t>0)return new u(Math.pow(t,n.re),0);if(0===t)switch((n.re%4+4)%4){case 0:return new u(Math.pow(e,n.re),0);case 1:return new u(0,Math.pow(e,n.re));case 2:return new u(-Math.pow(e,n.re),0);case 3:return new u(0,-Math.pow(e,n.re))}}if(0===t&&0===e&&n.re>0&&n.im>=0)return u.ZERO;var r=Math.atan2(e,t),i=o(t,e);return t=Math.exp(n.re*i-n.im*r),e=n.im*i+n.re*r,new u(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,n=this.re,r=this.im,i=this.abs();if(n>=0){if(0===r)return new u(Math.sqrt(n),0);t=.5*Math.sqrt(2*(i+n))}else t=Math.abs(r)/Math.sqrt(2*(i-n));return e=n<=0?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new u(t,r<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new u(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new u(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;var n=t*t;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new u(o(t,e),Math.atan2(e,t))},abs:function(){return function(t,e){var n=Math.abs(t),r=Math.abs(e);return n<3e3&&r<3e3?Math.sqrt(n*n+r*r):(n<r?(n=r,r=t/e):r=e/t,n*Math.sqrt(1+r*r))}(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,e=this.im;return new u(Math.sin(t)*n(e),Math.cos(t)*r(e))},cos:function(){var t=this.re,e=this.im;return new u(Math.cos(t)*n(e),-Math.sin(t)*r(e))},tan:function(){var t=2*this.re,e=2*this.im,i=Math.cos(t)+n(e);return new u(Math.sin(t)/i,r(e)/i)},cot:function(){var t=2*this.re,e=2*this.im,i=Math.cos(t)-n(e);return new u(-Math.sin(t)/i,r(e)/i)},sec:function(){var t=this.re,e=this.im,i=.5*n(2*e)+.5*Math.cos(2*t);return new u(Math.cos(t)*n(e)/i,Math.sin(t)*r(e)/i)},csc:function(){var t=this.re,e=this.im,i=.5*n(2*e)-.5*Math.cos(2*t);return new u(Math.sin(t)*n(e)/i,-Math.cos(t)*r(e)/i)},asin:function(){var t=this.re,e=this.im,n=new u(e*e-t*t+1,-2*t*e).sqrt(),r=new u(n.re-e,n.im+t).log();return new u(r.im,-r.re)},acos:function(){var t=this.re,e=this.im,n=new u(e*e-t*t+1,-2*t*e).sqrt(),r=new u(n.re-e,n.im+t).log();return new u(Math.PI/2-r.im,r.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new u(0,1/0);if(-1===e)return new u(0,-1/0)}var n=t*t+(1-e)*(1-e),r=new u((1-e*e-t*t)/n,-2*t/n).log();return new u(-.5*r.im,.5*r.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new u(Math.atan2(1,t),0);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).atan():new u(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(0,1/0);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).acos():new u(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(Math.PI/2,1/0);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).asin():new u(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,e=this.im;return new u(r(t)*Math.cos(e),n(t)*Math.sin(e))},cosh:function(){var t=this.re,e=this.im;return new u(n(t)*Math.cos(e),r(t)*Math.sin(e))},tanh:function(){var t=2*this.re,e=2*this.im,i=n(t)+Math.cos(e);return new u(r(t)/i,Math.sin(e)/i)},coth:function(){var t=2*this.re,e=2*this.im,i=n(t)-Math.cos(e);return new u(r(t)/i,-Math.sin(e)/i)},csch:function(){var t=this.re,e=this.im,i=Math.cos(2*e)-n(2*t);return new u(-2*r(t)*Math.cos(e)/i,2*n(t)*Math.sin(e)/i)},sech:function(){var t=this.re,e=this.im,i=Math.cos(2*e)+n(2*t);return new u(2*n(t)*Math.cos(e)/i,-2*r(t)*Math.sin(e)/i)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e}else{e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){var t=this.re,e=this.im,n=t>1&&0===e,r=1-t,i=1+t,a=r*r+e*e,s=0!==a?new u((i*r-e*e)/a,(e*r+i*e)/a):new u(-1!==t?t/0:0,0!==e?e/0:0),l=s.re;return s.re=o(s.re,s.im)/2,s.im=Math.atan2(s.im,l)/2,n&&(s.im=-s.im),s},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(0,Math.PI/2);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).atanh():new u(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new u(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).asinh():new u(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return u.INFINITY;var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).acosh():new u(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var t=this.re,e=this.im,n=t*t+e*e;return new u(t/n,-e/n)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new u(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new u(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new u(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var n=new u(t,e);return Math.abs(n.re-this.re)<=u.EPSILON&&Math.abs(n.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var t=this.re,e=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<u.EPSILON&&(t=0),Math.abs(e)<u.EPSILON&&(e=0),0===e?n+t:(0!==t?(n+=t,n+=" ",e<0?(e=-e,n+="-"):n+="+",n+=" "):e<0&&(e=-e,n+="-"),1!==e&&(n+=e),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-15,Object.defineProperty(u,"__esModule",{value:!0}),u.default=u,u.Complex=u,t.exports=u}()})),is=Eo(rs),os=ou("Complex",[],(()=>(Object.defineProperty(is,"name",{value:"Complex"}),is.prototype.constructor=is,is.prototype.type="Complex",is.prototype.isComplex=!0,is.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},is.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},is.prototype.format=function(t){var e=this.im,n=this.re,r=No(this.re,t),i=No(this.im,t),o=Ti(t)?t:t?t.precision:null;if(null!==o){var u=Math.pow(10,-o);Math.abs(n/e)<u&&(n=0),Math.abs(e/n)<u&&(e=0)}return 0===e?r:0===n?1===e?"i":-1===e?"-i":i+"i":e<0?-1===e?r+" - i":r+" - "+i.substring(1)+"i":1===e?r+" + i":r+" + "+i+"i"},is.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return is(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(Ti(n)){if(qi(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Ti(r))return new is({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},is.prototype.valueOf=is.prototype.toString,is.fromJSON=function(t){return new is(t)},is.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},is)),{isClass:!0}),us=Fo((function(t,e){!function(e){var n={s:1,n:0,d:1};function r(t,e){if(isNaN(t=parseInt(t,10)))throw c();return t*e}function i(t,e){if(0===e)throw l();var n=Object.create(s.prototype);n.s=t<0?-1:1;var r=a(t=t<0?-t:t,e);return n.n=t/r,n.d=e/r,n}function o(t){for(var e={},n=t,r=2,i=4;i<=n;){for(;n%r==0;)n/=r,e[r]=(e[r]||0)+1;i+=1+2*r++}return n!==t?n>1&&(e[n]=(e[n]||0)+1):e[t]=(e[t]||0)+1,e}var u=function(t,e){var i,o=0,u=1,a=1,s=0,f=0,d=0,p=1,g=1,m=0,D=1,v=1,y=1,w=1e7;if(null==t);else if(void 0!==e){if(a=(o=t)*(u=e),o%1!=0||u%1!=0)throw h()}else switch(typeof t){case"object":if("d"in t&&"n"in t)o=t.n,u=t.d,"s"in t&&(o*=t.s);else{if(!(0 in t))throw c();o=t[0],1 in t&&(u=t[1])}a=o*u;break;case"number":if(t<0&&(a=t,t=-t),t%1==0)o=t;else if(t>0){for(t>=1&&(t/=g=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));D<=w&&y<=w;){if(t===(i=(m+v)/(D+y))){D+y<=w?(o=m+v,u=D+y):y>D?(o=v,u=y):(o=m,u=D);break}t>i?(m+=v,D+=y):(v+=m,y+=D),D>w?(o=v,u=y):(o=m,u=D)}o*=g}else(isNaN(t)||isNaN(e))&&(u=o=NaN);break;case"string":if(null===(D=t.match(/\d+|./g)))throw c();if("-"===D[m]?(a=-1,m++):"+"===D[m]&&m++,D.length===m+1?f=r(D[m++],a):"."===D[m+1]||"."===D[m]?("."!==D[m]&&(s=r(D[m++],a)),(++m+1===D.length||"("===D[m+1]&&")"===D[m+3]||"'"===D[m+1]&&"'"===D[m+3])&&(f=r(D[m],a),p=Math.pow(10,D[m].length),m++),("("===D[m]&&")"===D[m+2]||"'"===D[m]&&"'"===D[m+2])&&(d=r(D[m+1],a),g=Math.pow(10,D[m+1].length)-1,m+=3)):"/"===D[m+1]||":"===D[m+1]?(f=r(D[m],a),p=r(D[m+2],1),m+=3):"/"===D[m+3]&&" "===D[m+1]&&(s=r(D[m],a),f=r(D[m+2],a),p=r(D[m+4],1),m+=5),D.length<=m){a=o=d+(u=p*g)*s+g*f;break}default:throw c()}if(0===u)throw l();n.s=a<0?-1:1,n.n=Math.abs(o),n.d=Math.abs(u)};function a(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function s(t,e){if(u(t,e),!(this instanceof s))return i(n.s*n.n,n.d);t=a(n.d,n.n),this.s=n.s,this.n=n.n/t,this.d=n.d/t}var l=function(){return new Error("Division by Zero")},c=function(){return new Error("Invalid argument")},h=function(){return new Error("Parameters must be integer")};s.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(t,e){return u(t,e),i(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(t,e){return u(t,e),i(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(t,e){return u(t,e),i(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(t,e){return u(t,e),i(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(t,e){if(isNaN(this.n)||isNaN(this.d))return new s(NaN);if(void 0===t)return i(this.s*this.n%this.d,1);if(u(t,e),0===n.n&&0===this.d)throw l();return i(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d)},gcd:function(t,e){return u(t,e),i(a(n.n,this.n)*a(n.d,this.d),n.d*this.d)},lcm:function(t,e){return u(t,e),0===n.n&&0===this.n?i(0,1):i(n.n*this.n,a(n.n,this.n)*a(n.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):i(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):i(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):i(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(t,e){if(u(t,e),1===n.d)return n.s<0?i(Math.pow(this.s*this.d,n.n),Math.pow(this.n,n.n)):i(Math.pow(this.s*this.n,n.n),Math.pow(this.d,n.n));if(this.s<0)return null;var r=o(this.n),a=o(this.d),s=1,l=1;for(var c in r)if("1"!==c){if("0"===c){s=0;break}if(r[c]*=n.n,r[c]%n.d!=0)return null;r[c]/=n.d,s*=Math.pow(c,r[c])}for(var c in a)if("1"!==c){if(a[c]*=n.n,a[c]%n.d!=0)return null;a[c]/=n.d,l*=Math.pow(c,a[c])}return n.s<0?i(l,s):i(s,l)},equals:function(t,e){return u(t,e),this.s*this.n*n.d==n.s*n.n*this.d},compare:function(t,e){u(t,e);var r=this.s*this.n*n.d-n.s*n.n*this.d;return(0<r)-(r<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var e=this.abs(),n=e.toContinued(),r=1;r<n.length;r++){for(var o=i(n[r-1],1),u=r-2;u>=0;u--)o=o.inverse().add(n[u]);if(Math.abs(o.sub(e).valueOf())<t)return o.mul(this.s)}return this},divisible:function(t,e){return u(t,e),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(e)||isNaN(n))return r;do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(t){var e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";t=t||15;var r=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>2e3)return 0;return r}(0,n),i=function(t,e,n){for(var r=1,i=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r}(10,n,e),o=0;o<300;o++){if(r===i)return o;r=10*r%e,i=10*i%e}return 0}(0,n,r),o=this.s<0?"-":"";if(o+=e/n|0,e%=n,(e*=10)&&(o+="."),r){for(var u=i;u--;)o+=e/n|0,e%=n,e*=10;o+="(";for(u=r;u--;)o+=e/n|0,e%=n,e*=10;o+=")"}else for(u=t;e&&u--;)o+=e/n|0,e%=n,e*=10;return o}},Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Fraction=s,t.exports=s}()})),as=Eo(us),ss=ou("Fraction",[],(()=>(Object.defineProperty(as,"name",{value:"Fraction"}),as.prototype.constructor=as,as.prototype.type="Fraction",as.prototype.isFraction=!0,as.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},as.fromJSON=function(t){return new as(t)},as)),{isClass:!0}),ls=ou("Matrix",[],(()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0});function cs(t){return Object.keys(t.signatures||{}).reduce((function(t,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(t,n)}),-1)}var hs=ou("DenseMatrix",["Matrix"],(t=>{var{Matrix:e}=t;function n(t,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!Ii(e))throw new Error("Invalid datatype: "+e);if(Ri(t))"DenseMatrix"===t.type?(this._data=wo(t._data),this._size=wo(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&ji(t.data)&&ji(t.size))this._data=t.data,this._size=t.size,Ho(this._data,this._size),this._datatype=e||t.datatype;else if(ji(t))this._data=a(t),this._size=Lo(this._data),Ho(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+yo(t)+")");this._data=[],this._size=[0],this._datatype=e}}function r(t,e,n,i){var o=i===n-1,u=e.dimension(i);return o?u.map((function(e){return Uo(e,t.length),t[e]})).valueOf():u.map((function(o){return Uo(o,t.length),r(t[o],e,n,i+1)})).valueOf()}function i(t,e,n,r,o){var u=o===r-1,a=e.dimension(o);u?a.forEach((function(e,r){Uo(e),t[e]=n[r[0]]})):a.forEach((function(u,a){Uo(u),i(t[u],e,n[a[0]],r,o+1)}))}function o(t,e,n){if(0===e.length){for(var r=t._data;ji(r);)r=r[0];return r}return t._size=e.slice(0),t._data=Zo(t._data,t._size,n),t}function u(t,e,n){for(var r=t._size.slice(0),i=!1;r.length<e.length;)r.push(0),i=!0;for(var u=0,a=e.length;u<a;u++)e[u]>r[u]&&(r[u]=e[u],i=!0);i&&o(t,r,n)}function a(t){return Ri(t)?a(t.valueOf()):ji(t)?t.map(a):t}return n.prototype=new e,n.prototype.createDenseMatrix=function(t,e){return new n(t,e)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return tu(this._data,yo)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(t,e){return new n(t,e)},n.prototype.subset=function(t,e,o){switch(arguments.length){case 1:return function(t,e){if(!Hi(e))throw new TypeError("Invalid index");var i=e.isScalar();if(i)return t.get(e.min());var o=e.size();if(o.length!==t._size.length)throw new Po(o.length,t._size.length);for(var u=e.min(),a=e.max(),s=0,l=t._size.length;s<l;s++)Uo(u[s],t._size[s]),Uo(a[s],t._size[s]);return new n(r(t._data,e,o.length,0),t._datatype)}(this,t);case 2:case 3:return function(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var o,a=e.size(),s=e.isScalar();Ri(n)?(o=n.size(),n=n.valueOf()):o=Lo(n);if(s){if(0!==o.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(!xo(o,a))try{o=Lo(n=0===o.length?iu([n],a):iu(n,a))}catch(t){}if(a.length<t._size.length)throw new Po(a.length,t._size.length,"<");if(o.length<a.length){for(var l=0,c=0;1===a[l]&&1===o[l];)l++;for(;1===a[l];)c++,l++;n=Go(n,a.length,c,o)}if(!xo(a,o))throw new Po(a,o,">");var h=e.max().map((function(t){return t+1}));u(t,h,r);var f=a.length,d=0;i(t._data,e,n,f,d)}return t}(this,t,e,o);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(t){if(!ji(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Po(t.length,this._size.length);for(var e=0;e<t.length;e++)Uo(t[e],this._size[e]);for(var n=this._data,r=0,i=t.length;r<i;r++){var o=t[r];Uo(o,n.length),n=n[o]}return n},n.prototype.set=function(t,e,n){if(!ji(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new Po(t.length,this._size.length,"<");var r,i,o,a=t.map((function(t){return t+1}));u(this,a,n);var s=this._data;for(r=0,i=t.length-1;r<i;r++)Uo(o=t[r],s.length),s=s[o];return Uo(o=t[t.length-1],s.length),s[o]=e,this},n.prototype.resize=function(t,e,n){if(!Pi(t))throw new TypeError("Array or Matrix expected");var r=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));return o(n?this.clone():this,r,e)},n.prototype.reshape=function(t,e){var n=e?this.clone():this;n._data=Xo(n._data,t);var r=n._size.reduce(((t,e)=>t*e));return n._size=Qo(t,r),n},n.prototype.clone=function(){return new n({data:wo(this._data),size:wo(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(t){var e=this,r=cs(t),i=function n(i,o){return ji(i)?i.map((function(t,e){return n(t,o.concat(e))})):1===r?t(i):2===r?t(i,o):t(i,o,e)}(this._data,[]);return new n(i,void 0!==this._datatype?tu(i,yo):void 0)},n.prototype.forEach=function(t){var e=this;!function n(r,i){ji(r)?r.forEach((function(t,e){n(t,i.concat(e))})):t(r,i,e)}(this._data,[])},n.prototype[Symbol.iterator]=function*(){yield*function*t(e,n){if(ji(e))for(var r=0;r<e.length;r++)yield*t(e[r],n.concat(r));else yield{value:e,index:n}}(this._data,[])},n.prototype.rows=function(){var t=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var e=this._data;for(var r of e)t.push(new n([r],this._datatype));return t},n.prototype.columns=function(){var t=this,e=[],r=this.size();if(2!==r.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var i=this._data,o=function(r){var o=i.map((t=>[t[r]]));e.push(new n(o,t._datatype))},u=0;u<r[1];u++)o(u);return e},n.prototype.toArray=function(){return wo(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(t){return jo(this._data,t)},n.prototype.toString=function(){return jo(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(t){if(t){if(ki(t)&&(t=t.toNumber()),!Ti(t)||!_o(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,r=t<0?-t:0,i=this._size[0],o=this._size[1],u=Math.min(i-r,o-e),a=[],s=0;s<u;s++)a[s]=this._data[s+r][s+e];return new n({data:a,size:[u],datatype:this._datatype})},n.diagonal=function(t,e,r,i){if(!ji(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(ki(t)&&(t=t.toNumber()),!Ti(t)||!_o(t)||t<1)throw new Error("Size values must be positive integers");return t})),r){if(ki(r)&&(r=r.toNumber()),!Ti(r)||!_o(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var o,u=r>0?r:0,a=r<0?-r:0,s=t[0],l=t[1],c=Math.min(s-a,l-u);if(ji(e)){if(e.length!==c)throw new Error("Invalid value array length");o=function(t){return e[t]}}else if(Ri(e)){var h=e.size();if(1!==h.length||h[0]!==c)throw new Error("Invalid matrix length");o=function(t){return e.get([t])}}else o=function(){return e};i||(i=ki(o(0))?o(0).mul(0):0);var f=[];if(t.length>0){f=Zo(f,t,i);for(var d=0;d<c;d++)f[d+a][d+u]=o(d)}return new n({data:f,size:[s,l]})},n.fromJSON=function(t){return new n(t)},n.prototype.swapRows=function(t,e){if(!(Ti(t)&&_o(t)&&Ti(e)&&_o(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Uo(t,this._size[0]),Uo(e,this._size[0]),n._swapRows(t,e,this._data),this},n._swapRows=function(t,e,n){var r=n[t];n[t]=n[e],n[e]=r},n}),{isClass:!0});function fs(t,e,n){return t&&"function"==typeof t.map?t.map((function(t){return fs(t,e)})):e(t)}var ds="isInteger",ps=ou(ds,["typed"],(t=>{var{typed:e}=t;return e(ds,{number:_o,BigNumber:function(t){return t.isInt()},Fraction:function(t){return 1===t.d&&isFinite(t.n)},"Array | Matrix":e.referToSelf((t=>e=>fs(e,t)))})})),gs="number, number";function ms(t,e){return t+e}function Ds(t,e){return t*e}ms.signature=gs,Ds.signature=gs;var vs=ou("compareUnits",["typed"],(t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf((t=>(n,r)=>{if(!n.equalBase(r))throw new Error("Cannot compare units with different base");return e.find(t,[n.valueType(),r.valueType()])(n.value,r.value)}))}})),ys="equalScalar",ws=ou(ys,["typed","config"],(t=>{var{typed:e,config:n}=t,r=vs({typed:e});return e(ys,{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return zo(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||function(t,e,n){if(null==n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var r=t.minus(e).abs();if(r.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return r.lte(i.times(n))}return!1}(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return function(t,e,n){return zo(t.re,e.re,n)&&zo(t.im,e.im,n)}(t,e,n.epsilon)}},r)}));ou(ys,["typed","config"],(t=>{var{typed:e,config:n}=t;return e(ys,{"number, number":function(t,e){return zo(t,e,n.epsilon)}})}));var xs=ou("SparseMatrix",["typed","equalScalar","Matrix"],(t=>{var{typed:e,equalScalar:n,Matrix:r}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!Ii(e))throw new Error("Invalid datatype: "+e);if(Ri(t))!function(t,e,n){"SparseMatrix"===e.type?(t._values=e._values?wo(e._values):void 0,t._index=wo(e._index),t._ptr=wo(e._ptr),t._size=wo(e._size),t._datatype=n||e._datatype):o(t,e.valueOf(),n||e._datatype)}(this,t,e);else if(t&&ji(t.index)&&ji(t.ptr)&&ji(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(ji(t))o(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+yo(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}function o(t,r,i){t._values=[],t._index=[],t._ptr=[],t._datatype=i;var o=r.length,u=0,a=n,s=0;if(Ii(i)&&(a=e.find(n,[i,i])||n,s=e.convert(0,i)),o>0){var l=0;do{t._ptr.push(t._index.length);for(var c=0;c<o;c++){var h=r[c];if(ji(h)){if(0===l&&u<h.length&&(u=h.length),l<h.length){var f=h[l];a(f,s)||(t._values.push(f),t._index.push(c))}}else 0===l&&u<1&&(u=1),a(h,s)||(t._values.push(h),t._index.push(c))}l++}while(l<u)}t._ptr.push(t._index.length),t._size=[o,u]}function u(t,e,n,r){if(n-e==0)return n;for(var i=e;i<n;i++)if(r[i]===t)return i;return e}function a(t,e,n,r,i,o,u){i.splice(t,0,r),o.splice(t,0,e);for(var a=n+1;a<u.length;a++)u[a]++}function s(t,r,i,o){var u=o||0,a=n,s=0;Ii(t._datatype)&&(a=e.find(n,[t._datatype,t._datatype])||n,s=e.convert(0,t._datatype),u=e.convert(u,t._datatype));var l,c,h,f=!a(u,s),d=t._size[0],p=t._size[1];if(i>p){for(c=p;c<i;c++)if(t._ptr[c]=t._values.length,f)for(l=0;l<d;l++)t._values.push(u),t._index.push(l);t._ptr[i]=t._values.length}else i<p&&(t._ptr.splice(i+1,p-i),t._values.splice(t._ptr[i],t._values.length),t._index.splice(t._ptr[i],t._index.length));if(p=i,r>d){if(f){var g=0;for(c=0;c<p;c++){t._ptr[c]=t._ptr[c]+g,h=t._ptr[c+1]+g;var m=0;for(l=d;l<r;l++,m++)t._values.splice(h+m,0,u),t._index.splice(h+m,0,l),g++}t._ptr[p]=t._values.length}}else if(r<d){var D=0;for(c=0;c<p;c++){t._ptr[c]=t._ptr[c]-D;var v=t._ptr[c],y=t._ptr[c+1]-D;for(h=v;h<y;h++)(l=t._index[h])>r-1&&(t._values.splice(h,1),t._index.splice(h,1),D++)}t._ptr[c]=t._values.length}return t._size[0]=r,t._size[1]=i,t}function l(t,e,n,r,i){var o,u,a=r[0],s=r[1],l=[];for(o=0;o<a;o++)for(l[o]=[],u=0;u<s;u++)l[o][u]=0;for(u=0;u<s;u++)for(var c=n[u],h=n[u+1],f=c;f<h;f++)l[o=e[f]][u]=t?i?wo(t[f]):t[f]:1;return l}return i.prototype=new r,i.prototype.createSparseMatrix=function(t,e){return new i(t,e)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return tu(this._values,yo)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(t,e){return new i(t,e)},i.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},i.prototype.subset=function(t,e,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(t,e){if(!Hi(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n,r,o,u,a=e.size();if(a.length!==t._size.length)throw new Po(a.length,t._size.length);var s=e.min(),l=e.max();for(n=0,r=t._size.length;n<r;n++)Uo(s[n],t._size[n]),Uo(l[n],t._size[n]);var c=t._values,h=t._index,f=t._ptr,d=e.dimension(0),p=e.dimension(1),g=[],m=[];d.forEach((function(t,e){m[t]=e[0],g[t]=!0}));var D=c?[]:void 0,v=[],y=[];return p.forEach((function(t){for(y.push(v.length),o=f[t],u=f[t+1];o<u;o++)n=h[o],!0===g[n]&&(v.push(m[n]),D&&D.push(c[o]))})),y.push(v.length),new i({values:D,index:v,ptr:y,size:a,datatype:t._datatype})}(this,t);case 2:case 3:return function(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,o=e.size(),u=e.isScalar();Ri(n)?(i=n.size(),n=n.toArray()):i=Lo(n);if(u){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(1!==o.length&&2!==o.length)throw new Po(o.length,t._size.length,"<");if(i.length<o.length){for(var a=0,s=0;1===o[a]&&1===i[a];)a++;for(;1===o[a];)s++,a++;n=Go(n,o.length,s,i)}if(!xo(o,i))throw new Po(o,i,">");if(1===o.length){e.dimension(0).forEach((function(e,i){Uo(e),t.set([e,0],n[i[0]],r)}))}else{var l=e.dimension(0),c=e.dimension(1);l.forEach((function(e,i){Uo(e),c.forEach((function(o,u){Uo(o),t.set([e,o],n[i[0]][u[0]],r)}))}))}}return t}(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(t){if(!ji(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Po(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],n=t[1];Uo(e,this._size[0]),Uo(n,this._size[1]);var r=u(e,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===e?this._values[r]:0},i.prototype.set=function(t,r,i){if(!ji(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Po(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var o=t[0],l=t[1],c=this._size[0],h=this._size[1],f=n,d=0;Ii(this._datatype)&&(f=e.find(n,[this._datatype,this._datatype])||n,d=e.convert(0,this._datatype)),(o>c-1||l>h-1)&&(s(this,Math.max(o+1,c),Math.max(l+1,h),i),c=this._size[0],h=this._size[1]),Uo(o,c),Uo(l,h);var p=u(o,this._ptr[l],this._ptr[l+1],this._index);return p<this._ptr[l+1]&&this._index[p]===o?f(r,d)?function(t,e,n,r,i){n.splice(t,1),r.splice(t,1);for(var o=e+1;o<i.length;o++)i[o]--}(p,l,this._values,this._index,this._ptr):this._values[p]=r:f(r,d)||a(p,o,l,r,this._values,this._index,this._ptr),this},i.prototype.resize=function(t,e,n){if(!Pi(t))throw new TypeError("Array or Matrix expected");var r=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));if(2!==r.length)throw new Error("Only two dimensions matrix are supported");return r.forEach((function(t){if(!Ti(t)||!_o(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+jo(r)+")")})),s(n?this.clone():this,r[0],r[1],e)},i.prototype.reshape=function(t,e){if(!ji(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");t.forEach((function(e){if(!Ti(e)||!_o(e)||e<=-2||0===e)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+jo(t)+")")}));var n=this._size[0]*this._size[1];if(n!==(t=Qo(t,n))[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var i=[],o=0;o<r._ptr.length;o++)for(var s=0;s<r._ptr[o+1]-r._ptr[o];s++)i.push(o);for(var l=r._values.slice(),c=r._index.slice(),h=0;h<r._index.length;h++){var f=c[h],d=i[h],p=f*r._size[1]+d;i[h]=p%t[1],c[h]=Math.floor(p/t[1])}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(var g=0;g<r._ptr.length;g++)r._ptr[g]=0;for(var m=0;m<l.length;m++){var D=c[m],v=i[m],y=l[m];a(u(D,r._ptr[v],r._ptr[v+1],r._index),D,v,y,r._values,r._index,r._ptr)}return r},i.prototype.clone=function(){return new i({values:this._values?wo(this._values):void 0,index:wo(this._index),ptr:wo(this._ptr),size:wo(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(t,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var o=this,u=this._size[0],a=this._size[1],s=cs(t);return function(t,r,o,u,a,s,l){var c=[],h=[],f=[],d=n,p=0;Ii(t._datatype)&&(d=e.find(n,[t._datatype,t._datatype])||n,p=e.convert(0,t._datatype));for(var g=function(t,e,n){t=s(t,e,n),d(t,p)||(c.push(t),h.push(e))},m=u;m<=a;m++){f.push(c.length);var D=t._ptr[m],v=t._ptr[m+1];if(l)for(var y=D;y<v;y++){var w=t._index[y];w>=r&&w<=o&&g(t._values[y],w-r,m-u)}else{for(var x={},b=D;b<v;b++){x[t._index[b]]=t._values[b]}for(var A=r;A<=o;A++){g(A in x?x[A]:0,A-r,m-u)}}}return f.push(c.length),new i({values:c,index:h,ptr:f,size:[o-r+1,a-u+1]})}(this,0,u-1,0,a-1,(function(e,n,r){return 1===s?t(e):2===s?t(e,[n,r]):t(e,[n,r],o)}),r)},i.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],i=0;i<r;i++){var o=this._ptr[i],u=this._ptr[i+1];if(e)for(var a=o;a<u;a++){var s=this._index[a];t(this._values[a],[s,i],this)}else{for(var l={},c=o;c<u;c++){l[this._index[c]]=this._values[c]}for(var h=0;h<n;h++){t(h in l?l[h]:0,[h,i],this)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var t=this._size[1],e=0;e<t;e++)for(var n=this._ptr[e],r=this._ptr[e+1],i=n;i<r;i++){var o=this._index[i];yield{value:this._values[i],index:[o,e]}}},i.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(t){for(var e=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+jo(e,t)+" x "+jo(n,t)+"] density: "+jo(r,t)+"\n",o=0;o<n;o++)for(var u=this._ptr[o],a=this._ptr[o+1],s=u;s<a;s++){i+="\n    ("+jo(this._index[s],t)+", "+jo(o,t)+") ==> "+(this._values?jo(this._values[s],t):"X")}return i},i.prototype.toString=function(){return jo(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(t){if(t){if(ki(t)&&(t=t.toNumber()),!Ti(t)||!_o(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],o=this._size[1],u=Math.min(r-n,o-e),a=[],s=[],l=[];l[0]=0;for(var c=e;c<o&&a.length<u;c++)for(var h=this._ptr[c],f=this._ptr[c+1],d=h;d<f;d++){var p=this._index[d];if(p===c-e+n){a.push(this._values[d]),s[a.length-1]=p-n;break}}return l.push(a.length),new i({values:a,index:s,ptr:l,size:[u,1]})},i.fromJSON=function(t){return new i(t)},i.diagonal=function(t,r,o,u,a){if(!ji(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(ki(t)&&(t=t.toNumber()),!Ti(t)||!_o(t)||t<1)throw new Error("Size values must be positive integers");return t})),o){if(ki(o)&&(o=o.toNumber()),!Ti(o)||!_o(o))throw new TypeError("The parameter k must be an integer number")}else o=0;var s=n,l=0;Ii(a)&&(s=e.find(n,[a,a])||n,l=e.convert(0,a));var c,h=o>0?o:0,f=o<0?-o:0,d=t[0],p=t[1],g=Math.min(d-f,p-h);if(ji(r)){if(r.length!==g)throw new Error("Invalid value array length");c=function(t){return r[t]}}else if(Ri(r)){var m=r.size();if(1!==m.length||m[0]!==g)throw new Error("Invalid matrix length");c=function(t){return r.get([t])}}else c=function(){return r};for(var D=[],v=[],y=[],w=0;w<p;w++){y.push(D.length);var x=w-h;if(x>=0&&x<g){var b=c(x);s(b,l)||(v.push(x+f),D.push(b))}}return y.push(D.length),new i({values:D,index:v,ptr:y,size:[d,p]})},i.prototype.swapRows=function(t,e){if(!(Ti(t)&&_o(t)&&Ti(e)&&_o(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Uo(t,this._size[0]),Uo(e,this._size[0]),i._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(t,e,n,r,i){for(var o=r[t],u=r[t+1],a=o;a<u;a++)i(n[a],e[a])},i._swapRows=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=o[a],l=o[a+1],c=u(t,s,l,i),h=u(e,s,l,i);if(c<l&&h<l&&i[c]===t&&i[h]===e){if(r){var f=r[c];r[c]=r[h],r[h]=f}}else if(c<l&&i[c]===t&&(h>=l||i[h]!==e)){var d=r?r[c]:void 0;i.splice(h,0,e),r&&r.splice(h,0,d),i.splice(h<=c?c+1:c,1),r&&r.splice(h<=c?c+1:c,1)}else if(h<l&&i[h]===e&&(c>=l||i[c]!==t)){var p=r?r[h]:void 0;i.splice(c,0,t),r&&r.splice(c,0,p),i.splice(c<=h?h+1:h,1),r&&r.splice(c<=h?h+1:h,1)}}},i}),{isClass:!0}),bs="matrix",As=ou(bs,["typed","Matrix","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,Matrix:n,DenseMatrix:r,SparseMatrix:i}=t;return e(bs,{"":function(){return o([])},string:function(t){return o([],t)},"string, string":function(t,e){return o([],t,e)},Array:function(t){return o(t)},Matrix:function(t){return o(t,t.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(t,e,n){if("dense"===e||"default"===e||void 0===e)return new r(t,n);if("sparse"===e)return new i(t,n);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),Es="addScalar",Fs=ou(Es,["typed"],(t=>{var{typed:e}=t;return e(Es,{"number, number":ms,"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":e.referToSelf((t=>(n,r)=>{if(null===n.value||void 0===n.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value||void 0===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(r))throw new Error("Units do not match");var i=n.clone();return i.value=e.find(t,[i.valueType(),r.valueType()])(i.value,r.value),i.fixPrefix=!1,i}))})})),Cs=ou("matAlgo11xS0s",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return function(t,r,i,o){var u=t._values,a=t._index,s=t._ptr,l=t._size,c=t._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,f=l[0],d=l[1],p=n,g=0,m=i;"string"==typeof c&&(h=c,p=e.find(n,[h,h]),g=e.convert(0,h),r=e.convert(r,h),m=e.find(i,[h,h]));for(var D=[],v=[],y=[],w=0;w<d;w++){y[w]=v.length;for(var x=s[w],b=s[w+1],A=x;A<b;A++){var E=a[A],F=o?m(r,u[A]):m(u[A],r);p(F,g)||(v.push(E),D.push(F))}}return y[d]=v.length,t.createSparseMatrix({values:D,index:v,ptr:y,size:[f,d],datatype:h})}})),_s=ou("matAlgo14xDs",["typed"],(t=>{var{typed:e}=t;return function(t,r,i,o){var u,a=t._data,s=t._size,l=t._datatype,c=i;"string"==typeof l&&(u=l,r=e.convert(r,u),c=e.find(i,[u,u]));var h=s.length>0?n(c,0,s,s[0],a,r,o):[];return t.createDenseMatrix({data:h,size:wo(s),datatype:u})};function n(t,e,r,i,o,u,a){var s=[];if(e===r.length-1)for(var l=0;l<i;l++)s[l]=a?t(u,o[l]):t(o[l],u);else for(var c=0;c<i;c++)s[c]=n(t,e+1,r,r[e+1],o[c],u,a);return s}})),Ms=ou("matAlgo01xDSid",["typed"],(t=>{var{typed:e}=t;return function(t,n,r,i){var o=t._data,u=t._size,a=t._datatype,s=n._values,l=n._index,c=n._ptr,h=n._size,f=n._datatype;if(u.length!==h.length)throw new Po(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,p,g=u[0],m=u[1],D="string"==typeof a&&a===f?a:void 0,v=D?e.find(r,[D,D]):r,y=[];for(d=0;d<g;d++)y[d]=[];var w=[],x=[];for(p=0;p<m;p++){for(var b=p+1,A=c[p],E=c[p+1],F=A;F<E;F++)w[d=l[F]]=i?v(s[F],o[d][p]):v(o[d][p],s[F]),x[d]=b;for(d=0;d<g;d++)x[d]===b?y[d][p]=w[d]:y[d][p]=o[d][p]}return t.createDenseMatrix({data:y,size:[g,m],datatype:D})}})),Ns=ou("matAlgo04xSidSid",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return function(t,r,i){var o=t._values,u=t._index,a=t._ptr,s=t._size,l=t._datatype,c=r._values,h=r._index,f=r._ptr,d=r._size,p=r._datatype;if(s.length!==d.length)throw new Po(s.length,d.length);if(s[0]!==d[0]||s[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+d+")");var g,m=s[0],D=s[1],v=n,y=0,w=i;"string"==typeof l&&l===p&&(g=l,v=e.find(n,[g,g]),y=e.convert(0,g),w=e.find(i,[g,g]));var x,b,A,E,F,C=o&&c?[]:void 0,_=[],M=[],N=o&&c?[]:void 0,B=o&&c?[]:void 0,$=[],S=[];for(b=0;b<D;b++){M[b]=_.length;var T=b+1;for(E=a[b],F=a[b+1],A=E;A<F;A++)x=u[A],_.push(x),$[x]=T,N&&(N[x]=o[A]);for(E=f[b],F=f[b+1],A=E;A<F;A++)if($[x=h[A]]===T){if(N){var k=w(N[x],c[A]);v(k,y)?$[x]=null:N[x]=k}}else _.push(x),S[x]=T,B&&(B[x]=c[A]);if(N&&B)for(A=M[b];A<_.length;)$[x=_[A]]===T?(C[A]=N[x],A++):S[x]===T?(C[A]=B[x],A++):_.splice(A,1)}return M[D]=_.length,t.createSparseMatrix({values:C,index:_,ptr:M,size:[m,D],datatype:g})}})),Bs=ou("matAlgo10xSids",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:n}=t;return function(t,r,i,o){var u=t._values,a=t._index,s=t._ptr,l=t._size,c=t._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,f=l[0],d=l[1],p=i;"string"==typeof c&&(h=c,r=e.convert(r,h),p=e.find(i,[h,h]));for(var g=[],m=[],D=[],v=0;v<d;v++){for(var y=v+1,w=s[v],x=s[v+1],b=w;b<x;b++){var A=a[b];m[A]=u[b],D[A]=y}for(var E=0;E<f;E++)0===v&&(g[E]=[]),D[E]===y?g[E][v]=o?p(r,m[E]):p(m[E],r):g[E][v]=r}return new n({data:g,size:[f,d],datatype:h})}})),$s=ou("matAlgo13xDD",["typed"],(t=>{var{typed:e}=t;return function(t,r,i){var o,u=t._data,a=t._size,s=t._datatype,l=r._data,c=r._size,h=r._datatype,f=[];if(a.length!==c.length)throw new Po(a.length,c.length);for(var d=0;d<a.length;d++){if(a[d]!==c[d])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+c+")");f[d]=a[d]}var p=i;"string"==typeof s&&s===h&&(o=s,p=e.find(i,[o,o]));var g=f.length>0?n(p,0,f,f[0],u,l):[];return t.createDenseMatrix({data:g,size:f,datatype:o})};function n(t,e,r,i,o,u){var a=[];if(e===r.length-1)for(var s=0;s<i;s++)a[s]=t(o[s],u[s]);else for(var l=0;l<i;l++)a[l]=n(t,e+1,r,r[e+1],o[l],u[l]);return a}})),Ss=ou("broadcast",["concat"],(t=>{var{concat:e}=t;return function(t,e){var i=Math.max(t._size.length,e._size.length);if(t._size.length===e._size.length&&t._size.every(((t,n)=>t===e._size[n])))return[t,e];for(var o=n(t._size,i,0),u=n(e._size,i,0),a=[],s=0;s<i;s++)a[s]=Math.max(o[s],u[s]);ru(o,a),ru(u,a);var l=t.clone(),c=e.clone();l._size.length<i?l.reshape(n(l._size,i,1)):c._size.length<i&&c.reshape(n(c._size,i,1));for(var h=0;h<i;h++)l._size[h]<a[h]&&(l=r(l,a[h],h)),c._size[h]<a[h]&&(c=r(c,a[h],h));return[l,c]};function n(t,e,n){return[...Array(e-t.length).fill(n),...t]}function r(t,n,r){return e(...Array(n).fill(t),r)}})),Ts=ou("matrixAlgorithmSuite",["typed","matrix","concat"],(t=>{var{typed:e,matrix:n,concat:r}=t,i=$s({typed:e}),o=_s({typed:e}),u=Ss({concat:r});return function(t){var r,a=t.elop,s=t.SD||t.DS;a?(r={"DenseMatrix, DenseMatrix":(t,e)=>i(...u(t,e),a),"Array, Array":(t,e)=>i(...u(n(t),n(e)),a).valueOf(),"Array, DenseMatrix":(t,e)=>i(...u(n(t),e),a),"DenseMatrix, Array":(t,e)=>i(...u(t,n(e)),a)},t.SS&&(r["SparseMatrix, SparseMatrix"]=(e,n)=>t.SS(...u(e,n),a,!1)),t.DS&&(r["DenseMatrix, SparseMatrix"]=(e,n)=>t.DS(...u(e,n),a,!1),r["Array, SparseMatrix"]=(e,r)=>t.DS(...u(n(e),r),a,!1)),s&&(r["SparseMatrix, DenseMatrix"]=(t,e)=>s(...u(e,t),a,!0),r["SparseMatrix, Array"]=(t,e)=>s(...u(n(e),t),a,!0))):(r={"DenseMatrix, DenseMatrix":e.referToSelf((t=>(e,n)=>i(...u(e,n),t))),"Array, Array":e.referToSelf((t=>(e,r)=>i(...u(n(e),n(r)),t).valueOf())),"Array, DenseMatrix":e.referToSelf((t=>(e,r)=>i(...u(n(e),r),t))),"DenseMatrix, Array":e.referToSelf((t=>(e,r)=>i(...u(e,n(r)),t)))},t.SS&&(r["SparseMatrix, SparseMatrix"]=e.referToSelf((e=>(n,r)=>t.SS(...u(n,r),e,!1)))),t.DS&&(r["DenseMatrix, SparseMatrix"]=e.referToSelf((e=>(n,r)=>t.DS(...u(n,r),e,!1))),r["Array, SparseMatrix"]=e.referToSelf((e=>(r,i)=>t.DS(...u(n(r),i),e,!1)))),s&&(r["SparseMatrix, DenseMatrix"]=e.referToSelf((t=>(e,n)=>s(...u(n,e),t,!0))),r["SparseMatrix, Array"]=e.referToSelf((t=>(e,r)=>s(...u(n(r),e),t,!0)))));var l=t.scalar||"any";(t.Ds||t.Ss)&&(a?(r["DenseMatrix,"+l]=(t,e)=>o(t,e,a,!1),r[l+", DenseMatrix"]=(t,e)=>o(e,t,a,!0),r["Array,"+l]=(t,e)=>o(n(t),e,a,!1).valueOf(),r[l+", Array"]=(t,e)=>o(n(e),t,a,!0).valueOf()):(r["DenseMatrix,"+l]=e.referToSelf((t=>(e,n)=>o(e,n,t,!1))),r[l+", DenseMatrix"]=e.referToSelf((t=>(e,n)=>o(n,e,t,!0))),r["Array,"+l]=e.referToSelf((t=>(e,r)=>o(n(e),r,t,!1).valueOf())),r[l+", Array"]=e.referToSelf((t=>(e,r)=>o(n(r),e,t,!0).valueOf()))));var c=void 0!==t.sS?t.sS:t.Ss;return a?(t.Ss&&(r["SparseMatrix,"+l]=(e,n)=>t.Ss(e,n,a,!1)),c&&(r[l+", SparseMatrix"]=(t,e)=>c(e,t,a,!0))):(t.Ss&&(r["SparseMatrix,"+l]=e.referToSelf((e=>(n,r)=>t.Ss(n,r,e,!1)))),c&&(r[l+", SparseMatrix"]=e.referToSelf((t=>(e,n)=>c(n,e,t,!0))))),a&&a.signatures&&function(t,e){for(var n in e)bo(e,n)&&(t[n]=e[n])}(r,a.signatures),r}})),ks=ou("multiplyScalar",["typed"],(t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":Ds,"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":(t,e)=>e.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,e)=>t.multiply(e)})})),zs="multiply",Os=ou(zs,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(t=>{var{typed:e,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:o,dot:u}=t,a=Cs({typed:e,equalScalar:o}),s=_s({typed:e});function l(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}function c(t,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,n){var o,u=t._data,a=t._size,s=t._datatype,l=n._data,c=n._size,h=n._datatype,f=a[0],d=c[1],p=r,g=i;s&&h&&s===h&&"string"==typeof s&&(o=s,p=e.find(r,[o,o]),g=e.find(i,[o,o]));for(var m=[],D=0;D<d;D++){for(var v=g(u[0],l[0][D]),y=1;y<f;y++)v=p(v,g(u[y],l[y][D]));m[D]=v}return t.createDenseMatrix({data:m,size:[d],datatype:o})}(t,n)}var h=e("_multiplyMatrixVector",{"DenseMatrix, any":function(t,n){var o,u=t._data,a=t._size,s=t._datatype,l=n._data,c=n._datatype,h=a[0],f=a[1],d=r,p=i;s&&c&&s===c&&"string"==typeof s&&(o=s,d=e.find(r,[o,o]),p=e.find(i,[o,o]));for(var g=[],m=0;m<h;m++){for(var D=u[m],v=p(D[0],l[0]),y=1;y<f;y++)v=d(v,p(D[y],l[y]));g[m]=v}return t.createDenseMatrix({data:g,size:[h],datatype:o})},"SparseMatrix, any":function(t,n){var u=t._values,a=t._index,s=t._ptr,l=t._datatype;if(!u)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,h=n._data,f=n._datatype,d=t._size[0],p=n._size[0],g=[],m=[],D=[],v=r,y=i,w=o,x=0;l&&f&&l===f&&"string"==typeof l&&(c=l,v=e.find(r,[c,c]),y=e.find(i,[c,c]),w=e.find(o,[c,c]),x=e.convert(0,c));var b=[],A=[];D[0]=0;for(var E=0;E<p;E++){var F=h[E];if(!w(F,x))for(var C=s[E],_=s[E+1],M=C;M<_;M++){var N=a[M];A[N]?b[N]=v(b[N],y(F,u[M])):(A[N]=!0,m.push(N),b[N]=y(F,u[M]))}}for(var B=m.length,$=0;$<B;$++){var S=m[$];g[$]=b[S]}return D[1]=m.length,t.createSparseMatrix({values:g,index:m,ptr:D,size:[d,1],datatype:c})}}),f=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,n){var o,u=t._data,a=t._size,s=t._datatype,l=n._data,c=n._size,h=n._datatype,f=a[0],d=a[1],p=c[1],g=r,m=i;s&&h&&s===h&&"string"==typeof s&&(o=s,g=e.find(r,[o,o]),m=e.find(i,[o,o]));for(var D=[],v=0;v<f;v++){var y=u[v];D[v]=[];for(var w=0;w<p;w++){for(var x=m(y[0],l[0][w]),b=1;b<d;b++)x=g(x,m(y[b],l[b][w]));D[v][w]=x}}return t.createDenseMatrix({data:D,size:[f,p],datatype:o})},"DenseMatrix, SparseMatrix":function(t,n){var u=t._data,a=t._size,s=t._datatype,l=n._values,c=n._index,h=n._ptr,f=n._size,d=n._datatype;if(!l)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var p,g=a[0],m=f[1],D=r,v=i,y=o,w=0;s&&d&&s===d&&"string"==typeof s&&(p=s,D=e.find(r,[p,p]),v=e.find(i,[p,p]),y=e.find(o,[p,p]),w=e.convert(0,p));for(var x=[],b=[],A=[],E=n.createSparseMatrix({values:x,index:b,ptr:A,size:[g,m],datatype:p}),F=0;F<m;F++){A[F]=b.length;var C=h[F],_=h[F+1];if(_>C)for(var M=0,N=0;N<g;N++){for(var B=N+1,$=void 0,S=C;S<_;S++){var T=c[S];M!==B?($=v(u[N][T],l[S]),M=B):$=D($,v(u[N][T],l[S]))}M!==B||y($,w)||(b.push(N),x.push($))}}return A[m]=b.length,E},"SparseMatrix, DenseMatrix":function(t,n){var u=t._values,a=t._index,s=t._ptr,l=t._datatype;if(!u)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,h=n._data,f=n._datatype,d=t._size[0],p=n._size[0],g=n._size[1],m=r,D=i,v=o,y=0;l&&f&&l===f&&"string"==typeof l&&(c=l,m=e.find(r,[c,c]),D=e.find(i,[c,c]),v=e.find(o,[c,c]),y=e.convert(0,c));for(var w=[],x=[],b=[],A=t.createSparseMatrix({values:w,index:x,ptr:b,size:[d,g],datatype:c}),E=[],F=[],C=0;C<g;C++){b[C]=x.length;for(var _=C+1,M=0;M<p;M++){var N=h[M][C];if(!v(N,y))for(var B=s[M],$=s[M+1],S=B;S<$;S++){var T=a[S];F[T]!==_?(F[T]=_,x.push(T),E[T]=D(N,u[S])):E[T]=m(E[T],D(N,u[S]))}}for(var k=b[C],z=x.length,O=k;O<z;O++){var q=x[O];w[O]=E[q]}}return b[g]=x.length,A},"SparseMatrix, SparseMatrix":function(t,n){var o,u=t._values,a=t._index,s=t._ptr,l=t._datatype,c=n._values,h=n._index,f=n._ptr,d=n._datatype,p=t._size[0],g=n._size[1],m=u&&c,D=r,v=i;l&&d&&l===d&&"string"==typeof l&&(o=l,D=e.find(r,[o,o]),v=e.find(i,[o,o]));for(var y,w,x,b,A,E,F,C,_=m?[]:void 0,M=[],N=[],B=t.createSparseMatrix({values:_,index:M,ptr:N,size:[p,g],datatype:o}),$=m?[]:void 0,S=[],T=0;T<g;T++){N[T]=M.length;var k=T+1;for(A=f[T],E=f[T+1],b=A;b<E;b++)if(C=h[b],m)for(w=s[C],x=s[C+1],y=w;y<x;y++)S[F=a[y]]!==k?(S[F]=k,M.push(F),$[F]=v(c[b],u[y])):$[F]=D($[F],v(c[b],u[y]));else for(w=s[C],x=s[C+1],y=w;y<x;y++)S[F=a[y]]!==k&&(S[F]=k,M.push(F));if(m)for(var z=N[T],O=M.length,q=z;q<O;q++){var I=M[q];_[q]=$[I]}}return N[g]=M.length,B}});return e(zs,i,{"Array, Array":e.referTo("Matrix, Matrix",(t=>(e,r)=>{l(Lo(e),Lo(r));var i=t(n(e),n(r));return Ri(i)?i.valueOf():i})),"Matrix, Matrix":function(t,e){var n=t.size(),r=e.size();return l(n,r),1===n.length?1===r.length?function(t,e,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return u(t,e)}(t,e,n[0]):c(t,e):1===r.length?h(t,e):f(t,e)},"Matrix, Array":e.referTo("Matrix,Matrix",(t=>(e,r)=>t(e,n(r)))),"Array, Matrix":e.referToSelf((t=>(e,r)=>t(n(e,r.storage()),r))),"SparseMatrix, any":function(t,e){return a(t,e,i,!1)},"DenseMatrix, any":function(t,e){return s(t,e,i,!1)},"any, SparseMatrix":function(t,e){return a(e,t,i,!0)},"any, DenseMatrix":function(t,e){return s(e,t,i,!0)},"Array, any":function(t,e){return s(n(t),e,i,!1).valueOf()},"any, Array":function(t,e){return s(n(e),t,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf((t=>(e,n,r)=>{for(var i=t(e,n),o=0;o<r.length;o++)i=t(i,r[o]);return i}))})})),qs="conj",Is=ou(qs,["typed"],(t=>{var{typed:e}=t;return e(qs,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf((t=>e=>fs(e,t)))})})),js="concat",Rs=ou(js,["typed","matrix","isInteger"],(t=>{var{typed:e,matrix:n,isInteger:r}=t;return e(js,{"...Array | Matrix | number | BigNumber":function(t){var e,i,o=t.length,u=-1,a=!1,s=[];for(e=0;e<o;e++){var l=t[e];if(Ri(l)&&(a=!0),Ti(l)||ki(l)){if(e!==o-1)throw new Error("Dimension must be specified as last argument");if(i=u,u=l.valueOf(),!r(u))throw new TypeError("Integer number expected for dimension");if(u<0||e>0&&u>i)throw new Wo(u,i+1)}else{var c=wo(l).valueOf(),h=Lo(c);if(s[e]=c,i=u,u=h.length-1,e>0&&u!==i)throw new Po(i+1,u+1)}}if(0===s.length)throw new SyntaxError("At least one matrix expected");for(var f=s.shift();s.length;)f=nu(f,s.shift(),u);return a?n(f):f},"...string":function(t){return t.join("")}})}));var Ps="reshape",Ws=ou(Ps,["typed","isInteger","matrix"],(t=>{var{typed:e,isInteger:n}=t;return e(Ps,{"Matrix, Array":function(t,e){return t.reshape(e,!0)},"Array, Array":function(t,e){return e.forEach((function(t){if(!n(t))throw new TypeError("Invalid size for dimension: "+t)})),Xo(t,e)}})})),Ls="size",Vs=ou(Ls,["typed","config","?matrix"],(t=>{var{typed:e,config:n,matrix:r}=t;return e(Ls,{Matrix:function(t){return t.create(t.size())},Array:Lo,string:function(t){return"Array"===n.matrix?[t.length]:r([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return"Array"===n.matrix?[]:r?r([]):function(){throw new Error('No "matrix" implementation available')}()}})})),Hs=ou("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],(t=>{var{typed:e,matrix:n,addScalar:r,equalScalar:i,DenseMatrix:o,SparseMatrix:u,concat:a}=t,s=Ms({typed:e}),l=Ns({typed:e,equalScalar:i}),c=Bs({typed:e,DenseMatrix:o}),h=Ts({typed:e,matrix:n,concat:a});return e("add",{"any, any":r,"any, any, ...any":e.referToSelf((t=>(e,n,r)=>{for(var i=t(e,n),o=0;o<r.length;o++)i=t(i,r[o]);return i}))},h({elop:r,DS:s,SS:l,Ss:c}))})),Us=ou("dot",["typed","addScalar","multiplyScalar","conj","size"],(t=>{var{typed:e,addScalar:n,multiplyScalar:r,conj:i,size:o}=t;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(t,o){var s=u(t,o),l=Ri(t)?t._data:t,c=Ri(t)?t._datatype:void 0,h=Ri(o)?o._data:o,f=Ri(o)?o._datatype:void 0,d=2===a(t).length,p=2===a(o).length,g=n,m=r;if(c&&f&&c===f&&"string"==typeof c){var D=c;g=e.find(n,[D,D]),m=e.find(r,[D,D])}if(!d&&!p){for(var v=m(i(l[0]),h[0]),y=1;y<s;y++)v=g(v,m(i(l[y]),h[y]));return v}if(!d&&p){for(var w=m(i(l[0]),h[0][0]),x=1;x<s;x++)w=g(w,m(i(l[x]),h[x][0]));return w}if(d&&!p){for(var b=m(i(l[0][0]),h[0]),A=1;A<s;A++)b=g(b,m(i(l[A][0]),h[A]));return b}if(d&&p){for(var E=m(i(l[0][0]),h[0][0]),F=1;F<s;F++)E=g(E,m(i(l[F][0]),h[F][0]));return E}},"SparseMatrix, SparseMatrix":function(t,e){u(t,e);var i=t._index,o=t._values,a=e._index,s=e._values,l=0,c=n,h=r,f=0,d=0;for(;f<i.length&&d<a.length;){var p=i[f],g=a[d];p<g?f++:p>g?d++:p===g&&(l=c(l,h(o[f],s[d])),f++,d++)}return l}});function u(t,e){var n,r,i=a(t),o=a(e);if(1===i.length)n=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");n=i[0]}if(1===o.length)r=o[0];else{if(2!==o.length||1!==o[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+o.join(", ")+")");r=o[0]}if(n!==r)throw new RangeError("Vectors must have equal length ("+n+" != "+r+")");if(0===n)throw new RangeError("Cannot calculate the dot product of empty vectors");return n}function a(t){return Ri(t)?t.size():o(t)}})),Zs=ns({config:Ao}),Ys=os({}),Xs=ss({}),Qs=ls({}),Js=hs({Matrix:Qs}),Gs=gu({BigNumber:Zs,Complex:Ys,DenseMatrix:Js,Fraction:Xs}),Ks=Fs({typed:Gs}),tl=Is({typed:Gs}),el=ws({config:Ao,typed:Gs}),nl=ps({typed:Gs}),rl=ks({typed:Gs}),il=xs({Matrix:Qs,equalScalar:el,typed:Gs}),ol=As({DenseMatrix:Js,Matrix:Qs,SparseMatrix:il,typed:Gs}),ul=Ws({isInteger:nl,matrix:ol,typed:Gs}),al=Vs({matrix:ol,config:Ao,typed:Gs}),sl=Hs({DenseMatrix:Js,SparseMatrix:il,addScalar:Ks,concat:Rs({isInteger:nl,matrix:ol,typed:Gs}),equalScalar:el,matrix:ol,typed:Gs}),ll=Os({addScalar:Ks,dot:Us({addScalar:Ks,conj:tl,multiplyScalar:rl,size:al,typed:Gs}),equalScalar:el,matrix:ol,multiplyScalar:rl,typed:Gs});function cl(t){return t.map(((t,e)=>[t,e])).reduce(((t,e)=>e[0]>t[0]?e:t))[1]}class hl{constructor(t=[2,5],e=[1,1],n=.2,r=.1){this.armsMeans=t,this.armsStds=e,this.epsilon=n,this.alpha=r,this.qValues=new Array(this.armsMeans);for(let t=0;t<this.armsMeans.length;t++)this.qValues[t]=0;if(this.armsMeans.length!=this.armsStds.length)throw"armsMeans and armsStd need to have the same length"}resetQValues(){this.qValues=new Array(this.armsMeans);for(let t=0;t<this.armsMeans.length;t++)this.qValues[t]=0;this.qValues[function(t){return t.map(((t,e)=>[t,e])).reduce(((t,e)=>e[0]<t[0]?e:t))[1]}(this.armsMeans)]=Math.min(...this.armsMeans)}updateQValues(t,e){this.qValues[e]+=this.alpha*(t-this.qValues[e])}pullBanditArm(t){return function(t=0,e=1){let n=1-Math.random(),r=Math.random();return Math.sqrt(-2*Math.log(n))*Math.cos(2*Math.PI*r)*e+t}(this.armsMeans[t],this.armsStds[t])}runTrial(){let t;t=Math.random()<this.epsilon?Math.floor(Math.random()*this.armsMeans.length):cl(this.qValues);let e=this.pullBanditArm(t);return this.updateQValues(e,t),this.qValues}runTrials(t=100){episodicValues=new Array(this.armsMeans).fill(new Array(t).fill(0));for(var e=0;e<t;e+=1)Math.random()<this.epsilon?bandit_index=Math.floor(Math.random()*this.armsMeans.length):bandit_index=cl(this.qValues),reward=this.pullBanditArm(bandit_index),this.updateQValues(reward,bandit_index);return episodicValues}}function fl(e){let n,r,i,u,a,s,l,c,h,f,d,p,g,m,D,y,w,A,F,C,M,$,S,T,k,z,O,q,I,j,R,P,W,L,V,H,U;return T=new Bi({}),O=new nr({}),{c(){n=E("h2"),n.textContent="Choosing Between Two Trees",r=_(),i=E("p"),i.textContent="In pursuit of finding bananas, the robot can pick either Tree A or Tree B.\n  Tree A produces on average 3 bananas, with a standard deviation of 1 banana,\n  and Tree B produces on average 6 bananas, with a standard deviation of 2\n  bananas. The goal is to maximize the number of bananas found, however, the\n  robot does not know which tree produces more bananas. Since the robot does not\n  know which action will lead to greater reward, it must make choices and\n  observe the outcomes directly.",u=_(),a=E("br"),s=E("br"),l=_(),c=E("p"),c.innerHTML='This type of reinforcement learning problem resembles that of the <span class="bold">multi-armed bandit problem</span>. The multi-armed bandit problem is named after the one-armed bandit \n  slot machine, except it has multiple levers or &#39;arms&#39;. A player must \n  decide, given limited resources, which levers to pull to have the greatest \n  chance of hitting the jackpot. Here, the trees are the &#39;arms&#39; and the \n  robot must decide how to choose between them.',h=_(),f=E("br"),d=E("br"),p=_(),g=E("p"),g.textContent="Observe how the robot makes choices between the two trees and receives the\n  reward. This reward information is stored in what is called a Q-value, which\n  reflects the expected reward for each action based on the history of\n  experienced rewards. In this case, the robot maintains two Q-values: one for\n  Tree A and one for Tree B.",m=_(),D=E("br"),y=E("br"),w=_(),A=E("p"),A.textContent="Initially, the robot prefers to select Tree A, having known it \n  yields bananas. However, upon occassionally sampling Tree B, it starts \n  reinforcing its decision to select Tree B more, as it is more fruitful. \n  This phenomenon is discussed in the next section.",F=_(),C=E("table"),C.innerHTML='<tr><th class="table-head svelte-7if1im">Agent</th> \n    <th class="table-head svelte-7if1im">Environment</th> \n    <th class="table-head svelte-7if1im">State</th> \n    <th class="table-head svelte-7if1im">Actions</th> \n    <th class="table-head svelte-7if1im">Reward</th></tr> \n  <tr><td class="svelte-7if1im">Robot</td> \n    <td class="svelte-7if1im">Two Options</td> \n    <td class="svelte-7if1im">None</td> \n    <td class="svelte-7if1im">Tree A, Tree B</td> \n    <td class="svelte-7if1im">Number of Bananas</td></tr>',M=_(),$=E("div"),S=E("div"),lt(T.$$.fragment),k=_(),z=E("div"),lt(O.$$.fragment),q=_(),I=E("div"),j=E("button"),j.textContent="Select 5 Action",R=_(),P=E("button"),P.textContent="Select 10 Actions",W=_(),L=E("button"),L.textContent="Reset",B(n,"class","body-secondary-header"),B(i,"class","body-text"),B(c,"class","body-text"),B(g,"class","body-text"),B(A,"class","body-text"),B(C,"class","svelte-7if1im"),B(S,"id","simulation-chart"),B(z,"id","scatter-chart"),B($,"id","graph-container"),B($,"class","svelte-7if1im"),B(j,"class","svelte-7if1im"),B(P,"class","svelte-7if1im"),B(L,"class","svelte-7if1im"),B(I,"id","buttons-container"),B(I,"class","svelte-7if1im")},m(t,o){x(t,n,o),x(t,r,o),x(t,i,o),x(t,u,o),x(t,a,o),x(t,s,o),x(t,l,o),x(t,c,o),x(t,h,o),x(t,f,o),x(t,d,o),x(t,p,o),x(t,g,o),x(t,m,o),x(t,D,o),x(t,y,o),x(t,w,o),x(t,A,o),x(t,F,o),x(t,C,o),x(t,M,o),x(t,$,o),v($,S),ct(T,S,null),v($,k),v($,z),ct(O,z,null),x(t,q,o),x(t,I,o),v(I,j),v(I,R),v(I,P),v(I,W),v(I,L),V=!0,H||(U=[N(j,"click",e[2]),N(P,"click",e[3]),N(L,"click",e[4])],H=!0)},p:t,i(t){V||(ot(T.$$.fragment,t),ot(O.$$.fragment,t),V=!0)},o(t){ut(T.$$.fragment,t),ut(O.$$.fragment,t),V=!1},d(t){t&&b(n),t&&b(r),t&&b(i),t&&b(u),t&&b(a),t&&b(s),t&&b(l),t&&b(c),t&&b(h),t&&b(f),t&&b(d),t&&b(p),t&&b(g),t&&b(m),t&&b(D),t&&b(y),t&&b(w),t&&b(A),t&&b(F),t&&b(C),t&&b(M),t&&b($),ht(T),ht(O),t&&b(q),t&&b(I),H=!1,o(U)}}}function dl(t,e,n){let r,i;s(t,Wn,(t=>n(6,r=t))),s(t,vn,(t=>n(7,i=t)));var o=0;const u=new hl([2,5],[1,1],i,.1);function a(t){for(let e=0;e<t&&!(o>200);e++){let t,e=u.runTrial();t=e[0]>e[1]?"left":"right";const n=Math.abs(e[0])+Math.abs(e[1]),i=r.map(((r,i)=>({episodeNumber:[...Array(r.left.length+1).keys()],left:[...r.left,e[0]],right:[...r.right,e[1]],maxDirection:[...r.maxDirection,t],leftWeight:[...r.leftWeight,e[0]/n||0],rightWeight:[...r.rightWeight,e[1]/n||0]})));c(Wn,r=[...i],r),o++}}function l(){o=0,u.resetQValues(),Wn.set([{episodeNumber:[],left:[],right:[],maxDirection:[],leftWeight:[],rightWeight:[]}]),$n.set({x:.5,y:.5})}l();return[a,l,()=>a(5),()=>a(10),()=>l()]}class pl extends pt{constructor(t){super(),dt(this,t,dl,fl,a,{})}}function gl(t,e,n){const r=t.slice();return r[15]=e[n],r}function ml(t,e,n){const r=t.slice();return r[15]=e[n],r}function Dl(t){let e,n,r,i,o=(t[15]%t[5]==0?t[9](t[15]):"")+"";return{c(){e=F("g"),n=F("text"),r=C(o),B(n,"class","axis-text svelte-6tk6ov"),B(n,"y","7"),B(n,"text-anchor","middle"),B(e,"transform",i=`translate(${t[3](t[15])+0} ${t[0]-t[4].bottom})`)},m(t,i){x(t,e,i),v(e,n),v(n,r)},p(t,n){40&n&&o!==(o=(t[15]%t[5]==0?t[9](t[15]):"")+"")&&S(r,o),25&n&&i!==(i=`translate(${t[3](t[15])+0} ${t[0]-t[4].bottom})`)&&B(e,"transform",i)},d(t){t&&b(e)}}}function vl(t){let e,n,r,i,o,u,a,s,l,c,h,f,d,p,g,m,D=(t[15]%2==0?t[9](t[15]):"")+"";return{c(){e=F("g"),n=F("text"),r=C(D),o=_(),u=F("line"),h=_(),f=F("line"),B(n,"class","axis-text svelte-6tk6ov"),B(n,"y","0"),B(n,"dx","1"),B(n,"text-anchor","end"),B(n,"dominant-baseline","middle"),B(e,"transform",i=`translate(${t[4].left-5} ${t[2](t[15])+0})`),B(u,"class","axis-line"),B(u,"x1",a=t[4].left),B(u,"x2",s=t[4].left),B(u,"y1",l=t[4].top),B(u,"y2",c=t[0]-t[4].bottom),B(u,"stroke","black"),B(f,"class","axis-line"),B(f,"x1",d=t[4].left),B(f,"x2",p=t[1]-t[4].right),B(f,"y1",g=t[0]-t[4].bottom),B(f,"y2",m=t[0]-t[4].bottom),B(f,"stroke","black")},m(t,i){x(t,e,i),v(e,n),v(n,r),x(t,o,i),x(t,u,i),x(t,h,i),x(t,f,i)},p(t,n){4&n&&D!==(D=(t[15]%2==0?t[9](t[15]):"")+"")&&S(r,D),20&n&&i!==(i=`translate(${t[4].left-5} ${t[2](t[15])+0})`)&&B(e,"transform",i),16&n&&a!==(a=t[4].left)&&B(u,"x1",a),16&n&&s!==(s=t[4].left)&&B(u,"x2",s),16&n&&l!==(l=t[4].top)&&B(u,"y1",l),17&n&&c!==(c=t[0]-t[4].bottom)&&B(u,"y2",c),16&n&&d!==(d=t[4].left)&&B(f,"x1",d),18&n&&p!==(p=t[1]-t[4].right)&&B(f,"x2",p),17&n&&g!==(g=t[0]-t[4].bottom)&&B(f,"y1",g),17&n&&m!==(m=t[0]-t[4].bottom)&&B(f,"y2",m)},d(t){t&&b(e),t&&b(o),t&&b(u),t&&b(h),t&&b(f)}}}function yl(e){let n,r,i,o,u,a,s,l=e[3].ticks(),c=[];for(let t=0;t<l.length;t+=1)c[t]=Dl(ml(e,l,t));let h=e[2].ticks(),f=[];for(let t=0;t<h.length;t+=1)f[t]=vl(gl(e,h,t));return{c(){for(let t=0;t<c.length;t+=1)c[t].c();n=_();for(let t=0;t<f.length;t+=1)f[t].c();r=_(),i=F("path"),u=_(),a=F("path"),B(i,"class","q-path pathLeft-line svelte-6tk6ov"),B(i,"d",o=e[6](e[8])),B(a,"class","q-path pathRight-line svelte-6tk6ov"),B(a,"d",s=e[6](e[7]))},m(t,e){for(let n=0;n<c.length;n+=1)c[n]&&c[n].m(t,e);x(t,n,e);for(let n=0;n<f.length;n+=1)f[n]&&f[n].m(t,e);x(t,r,e),x(t,i,e),x(t,u,e),x(t,a,e)},p(t,[e]){if(569&e){let r;for(l=t[3].ticks(),r=0;r<l.length;r+=1){const i=ml(t,l,r);c[r]?c[r].p(i,e):(c[r]=Dl(i),c[r].c(),c[r].m(n.parentNode,n))}for(;r<c.length;r+=1)c[r].d(1);c.length=l.length}if(535&e){let n;for(h=t[2].ticks(),n=0;n<h.length;n+=1){const i=gl(t,h,n);f[n]?f[n].p(i,e):(f[n]=vl(i),f[n].c(),f[n].m(r.parentNode,r))}for(;n<f.length;n+=1)f[n].d(1);f.length=h.length}320&e&&o!==(o=t[6](t[8]))&&B(i,"d",o),192&e&&s!==(s=t[6](t[7]))&&B(a,"d",s)},i:t,o:t,d(t){A(c,t),t&&b(n),A(f,t),t&&b(r),t&&b(i),t&&b(u),t&&b(a)}}}function wl(t,e,n){let r,i,o,u,a,l,c,h,f,d;s(t,Vn,(t=>n(12,h=t))),s(t,Ln,(t=>n(13,f=t))),s(t,Fn,(t=>n(4,d=t)));let{height:p=500}=e,{width:g=500}=e,{index:m=0}=e;const D=8,v=12,y=nn(".2d");return t.$$set=t=>{"height"in t&&n(0,p=t.height),"width"in t&&n(1,g=t.width),"index"in t&&n(10,m=t.index)},t.$$.update=()=>{4096&t.$$.dirty&&n(11,r=h[0].episodeNumber[h[0].episodeNumber.length-1]),2066&t.$$.dirty&&n(3,i=cn().domain([0,r+1]).range([d.left,g-d.right])),1&t.$$.dirty&&n(2,o=cn().domain([-.5,8]).range([p-v,D])),13312&t.$$.dirty&&n(8,u=h[m].left.map(((t,e)=>({x:f*e,y:t})))),13312&t.$$.dirty&&n(7,a=h[m].right.map(((t,e)=>({x:f*e,y:t})))),12&t.$$.dirty&&n(6,l=zt().x((t=>i(t.x))).y((t=>o(t.y)))),4096&t.$$.dirty&&n(5,c=h[0].episodeNumber[h[0].episodeNumber.length-1]>400?150:h[0].episodeNumber[h[0].episodeNumber.length-1]>100?50:10)},[p,g,o,i,d,c,l,a,u,y,m,r,h,f]}class xl extends pt{constructor(t){super(),dt(this,t,wl,yl,a,{height:0,width:1,index:10})}}function bl(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function Al(t){let e,n,r,i;return n=new xl({props:{index:t[12],width:t[5]-0,height:t[4]-0}}),{c(){e=F("g"),lt(n.$$.fragment),B(e,"transform",r="translate("+t[3](t[10].x)+", "+t[2](t[10].y)+")")},m(t,r){x(t,e,r),ct(n,e,null),i=!0},p(t,o){const u={};32&o&&(u.width=t[5]-0),16&o&&(u.height=t[4]-0),n.$set(u),(!i||12&o&&r!==(r="translate("+t[3](t[10].x)+", "+t[2](t[10].y)+")"))&&B(e,"transform",r)},i(t){i||(ot(n.$$.fragment,t),i=!0)},o(t){ut(n.$$.fragment,t),i=!1},d(t){t&&b(e),ht(n)}}}function El(t){let e,n,r=t[6],i=[];for(let e=0;e<r.length;e+=1)i[e]=Al(bl(t,r,e));const o=t=>ut(i[t],1,1,(()=>{i[t]=null}));return{c(){e=F("svg");for(let t=0;t<i.length;t+=1)i[t].c();B(e,"width",t[1]),B(e,"height",t[0]),B(e,"class","svelte-18h1e5r")},m(t,r){x(t,e,r);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,null);n=!0},p(t,[u]){if(124&u){let n;for(r=t[6],n=0;n<r.length;n+=1){const o=bl(t,r,n);i[n]?(i[n].p(o,u),ot(i[n],1)):(i[n]=Al(o),i[n].c(),ot(i[n],1),i[n].m(e,null))}for(rt(),n=r.length;n<i.length;n+=1)o(n);it()}(!n||2&u)&&B(e,"width",t[1]),(!n||1&u)&&B(e,"height",t[0])},i(t){if(!n){for(let t=0;t<r.length;t+=1)ot(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)ut(i[t]);n=!1},d(t){t&&b(e),A(i,t)}}}function Fl(t,e,n){let r,i,o,u,a,l,c;s(t,En,(t=>n(9,c=t)));let{numX:h=8}=e,{numY:f=1}=e,d=[];for(let t=0;t<h;t++)for(let e=0;e<f;e++)d.push({x:t,y:e});return t.$$set=t=>{"numX"in t&&n(7,h=t.numX),"numY"in t&&n(8,f=t.numY)},t.$$.update=()=>{512&t.$$.dirty&&n(1,r=8*c),512&t.$$.dirty&&n(0,i=c),130&t.$$.dirty&&n(5,o=r/h),257&t.$$.dirty&&n(4,u=i/f),130&t.$$.dirty&&n(3,a=cn().domain([0,h]).range([0,r])),257&t.$$.dirty&&n(2,l=cn().domain([0,f]).range([0,i]))},[i,r,l,a,u,o,d,h,f,c]}class Cl extends pt{constructor(t){super(),dt(this,t,Fl,El,a,{numX:7,numY:8})}}function _l(t,e,n){const r=t.slice();return r[25]=e[n],r}function Ml(t,e,n){const r=t.slice();return r[25]=e[n],r}function Nl(t,e,n){const r=t.slice();return r[30]=e[n],r[32]=n,r}function Bl(t,e,n){const r=t.slice();return r[33]=e[n],r}function $l(t,e,n){const r=t.slice();return r[36]=e[n],r}function Sl(t,e,n){const r=t.slice();return r[39]=e[n],r}function Tl(t){let e,n,r,i,o,u,a,s,l,c,h,f,d=t[39]+"",p=t[39]+"";return{c(){e=F("g"),n=F("line"),i=F("text"),o=C(d),a=F("g"),s=F("line"),c=F("text"),h=C(p),B(n,"class","grid-line svelte-12fvhy0"),B(n,"x1","0"),B(n,"x2","0"),B(n,"y1","0"),B(n,"y2",r=-t[4]+t[14].bottom+t[14].top),B(i,"class","auc-axis-text"),B(i,"y","15"),B(i,"text-anchor","middle"),B(e,"transform",u=`translate(${t[3](t[39])+0} ${t[4]-t[14].bottom})`),B(s,"class","grid-line svelte-12fvhy0"),B(s,"x1","0"),B(s,"x2",l=t[5]-t[14].right-t[14].left),B(s,"y1","0"),B(s,"y2","0"),B(c,"class","auc-axis-text"),B(c,"y","0"),B(c,"text-anchor","end"),B(c,"dominant-baseline","middle"),B(a,"transform",f=`translate(${t[14].left} ${t[2](t[39])+0})`)},m(t,r){x(t,e,r),v(e,n),v(e,i),v(i,o),x(t,a,r),v(a,s),v(a,c),v(c,h)},p(t,i){16400&i[0]&&r!==(r=-t[4]+t[14].bottom+t[14].top)&&B(n,"y2",r),1&i[0]&&d!==(d=t[39]+"")&&S(o,d),16409&i[0]&&u!==(u=`translate(${t[3](t[39])+0} ${t[4]-t[14].bottom})`)&&B(e,"transform",u),16416&i[0]&&l!==(l=t[5]-t[14].right-t[14].left)&&B(s,"x2",l),1&i[0]&&p!==(p=t[39]+"")&&S(h,p),16389&i[0]&&f!==(f=`translate(${t[14].left} ${t[2](t[39])+0})`)&&B(a,"transform",f)},d(t){t&&b(e),t&&b(a)}}}function kl(t){let e,n,r=console.log("found nothing at:",[Math.floor(t[32]/t[1]),t[32]%t[1]])+"",i=["left","right"],o=[];for(let e=0;e<2;e+=1)o[e]=ql(Bl(t,i,e));return{c(){e=C(r);for(let t=0;t<2;t+=1)o[t].c();n=M()},m(t,r){x(t,e,r);for(let e=0;e<2;e+=1)o[e]&&o[e].m(t,r);x(t,n,r)},p(t,u){if(2&u[0]&&r!==(r=console.log("found nothing at:",[Math.floor(t[32]/t[1]),t[32]%t[1]])+"")&&S(e,r),164096&u[0]){let e;for(i=["left","right"],e=0;e<2;e+=1){const r=Bl(t,i,e);o[e]?o[e].p(r,u):(o[e]=ql(r),o[e].c(),o[e].m(n.parentNode,n))}for(;e<2;e+=1)o[e].d(1)}},d(t){t&&b(e),A(o,t),t&&b(n)}}}function zl(t){let e,n=console.log("found rewards at:",[Math.floor(t[32]/t[1]),t[32]%t[1]])+"";return{c(){e=C(n)},m(t,n){x(t,e,n)},p(t,r){2&r[0]&&n!==(n=console.log("found rewards at:",[Math.floor(t[32]/t[1]),t[32]%t[1]])+"")&&S(e,n)},d(t){t&&b(e)}}}function Ol(t){let e,n;return{c(){e=F("path"),B(e,"d",t[36]),B(e,"class",l(`arrow-${t[33]} arrow`)+" svelte-12fvhy0"),B(e,"transform",`rotate(${t[17][t[33]]}) scale(0.05)`),B(e,"stroke","black"),B(e,"opacity",n=t[30].maxDirection[t[30].maxDirection.length-1]==t[33]?1:t[30][`${t[33]}Weight`][t[30].maxDirection.length-1])},m(t,n){x(t,e,n)},p(t,r){32768&r[0]&&n!==(n=t[30].maxDirection[t[30].maxDirection.length-1]==t[33]?1:t[30][`${t[33]}Weight`][t[30].maxDirection.length-1])&&B(e,"opacity",n)},d(t){t&&b(e)}}}function ql(t){let e,n,r=fi,i=[];for(let e=0;e<r.length;e+=1)i[e]=Ol($l(t,r,e));return{c(){e=F("g");for(let t=0;t<i.length;t+=1)i[t].c();B(e,"transform",n="translate("+t[8][t[33]].x+", "+t[8][t[33]].y+")")},m(t,n){x(t,e,n);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,null)},p(t,o){if(163840&o[0]){let n;for(r=fi,n=0;n<r.length;n+=1){const u=$l(t,r,n);i[n]?i[n].p(u,o):(i[n]=Ol(u),i[n].c(),i[n].m(e,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}256&o[0]&&n!==(n="translate("+t[8][t[33]].x+", "+t[8][t[33]].y+")")&&B(e,"transform",n)},d(t){t&&b(e),A(i,t)}}}function Il(t){let e,n,r;function i(...e){return t[23](t[32],...e)}function o(t,e){return 2&e[0]&&(n=null),null==n&&(n=!!t[20].some(i)),n?zl:kl}let u=o(t,[-1,-1]),a=u(t);return{c(){e=F("g"),a.c(),B(e,"transform",r="translate("+(t[3](Math.floor(t[32]/t[1]))+t[6]/2)+", "+(t[2](t[32]%t[1])+t[9]/2)+")")},m(t,n){x(t,e,n),a.m(e,null)},p(n,i){u===(u=o(t=n,i))&&a?a.p(t,i):(a.d(1),a=u(t),a&&(a.c(),a.m(e,null))),590&i[0]&&r!==(r="translate("+(t[3](Math.floor(t[32]/t[1]))+t[6]/2)+", "+(t[2](t[32]%t[1])+t[9]/2)+")")&&B(e,"transform",r)},d(t){t&&b(e),a.d()}}}function jl(e){let n;return{c(){n=F("path"),B(n,"class","bananaPath svelte-12fvhy0"),B(n,"d",e[25]),B(n,"transform","scale(0.13)")},m(t,e){x(t,n,e)},p:t,d(t){t&&b(n)}}}function Rl(e){let n;return{c(){n=F("path"),B(n,"class","bananaPath svelte-12fvhy0"),B(n,"d",e[25]),k(n,"transform","scale(0.13)")},m(t,e){x(t,n,e)},p:t,d(t){t&&b(n)}}}function Pl(e){let n,r,i,o,u,a,s,l,c,h,f,d,p,g,m=[..."".padEnd(e[0])].map(Wl),D=[];for(let t=0;t<m.length;t+=1)D[t]=Tl(Sl(e,m,t));let y=e[15],w=[];for(let t=0;t<y.length;t+=1)w[t]=Il(Nl(e,y,t));let E=pi,C=[];for(let t=0;t<E.length;t+=1)C[t]=jl(Ml(e,E,t));let _=gi,N=[];for(let t=0;t<_.length;t+=1)N[t]=Rl(_l(e,_,t));return{c(){n=F("svg");for(let t=0;t<D.length;t+=1)D[t].c();r=M();for(let t=0;t<w.length;t+=1)w[t].c();i=F("path"),u=F("path"),s=F("g");for(let t=0;t<C.length;t+=1)C[t].c();c=F("g");for(let t=0;t<N.length;t+=1)N[t].c();f=F("g"),d=F("rect"),p=F("path"),B(i,"class","agent-line-outline svelte-12fvhy0"),B(i,"d",o=e[7](e[16])),B(u,"class","agent-line svelte-12fvhy0"),B(u,"d",a=e[7](e[16])),B(s,"id","reward-1"),B(s,"transform",l="translate("+e[3](0)+", "+(e[2](0)+e[11].height/2-7.5)+")"),B(c,"id","reward-3"),B(c,"transform",h="translate("+e[3](7)+", "+(e[2](0)+e[10].height/2-7.5)+")"),B(d,"class","agent-rect svelte-12fvhy0"),B(d,"width",e[13]),B(d,"height",e[12]),B(p,"d",di),k(p,"transform","scale(0.1)"),B(p,"stroke","white"),B(p,"stroke-width","1"),B(p,"fill","black"),B(f,"id","agent-g"),B(f,"transform",g="translate("+(e[3](e[18])-e[13]/2)+", "+(e[2](e[19])-e[12]/2)+")"),B(n,"width",e[5]),B(n,"height",e[4]),B(n,"class","svelte-12fvhy0")},m(t,e){x(t,n,e);for(let t=0;t<D.length;t+=1)D[t]&&D[t].m(n,null);v(n,r);for(let t=0;t<w.length;t+=1)w[t]&&w[t].m(n,null);v(n,i),v(n,u),v(n,s);for(let t=0;t<C.length;t+=1)C[t]&&C[t].m(s,null);v(n,c);for(let t=0;t<N.length;t+=1)N[t]&&N[t].m(c,null);v(n,f),v(f,d),v(f,p)},p(t,e){if(16445&e[0]){let i;for(m=[..."".padEnd(t[0])].map(Wl),i=0;i<m.length;i+=1){const o=Sl(t,m,i);D[i]?D[i].p(o,e):(D[i]=Tl(o),D[i].c(),D[i].m(n,r))}for(;i<D.length;i+=1)D[i].d(1);D.length=m.length}if(1213262&e[0]){let r;for(y=t[15],r=0;r<y.length;r+=1){const o=Nl(t,y,r);w[r]?w[r].p(o,e):(w[r]=Il(o),w[r].c(),w[r].m(n,i))}for(;r<w.length;r+=1)w[r].d(1);w.length=y.length}if(65664&e[0]&&o!==(o=t[7](t[16]))&&B(i,"d",o),65664&e[0]&&a!==(a=t[7](t[16]))&&B(u,"d",a),0&e){let n;for(E=pi,n=0;n<E.length;n+=1){const r=Ml(t,E,n);C[n]?C[n].p(r,e):(C[n]=jl(r),C[n].c(),C[n].m(s,null))}for(;n<C.length;n+=1)C[n].d(1);C.length=E.length}if(2060&e[0]&&l!==(l="translate("+t[3](0)+", "+(t[2](0)+t[11].height/2-7.5)+")")&&B(s,"transform",l),0&e){let n;for(_=gi,n=0;n<_.length;n+=1){const r=_l(t,_,n);N[n]?N[n].p(r,e):(N[n]=Rl(r),N[n].c(),N[n].m(c,null))}for(;n<N.length;n+=1)N[n].d(1);N.length=_.length}1036&e[0]&&h!==(h="translate("+t[3](7)+", "+(t[2](0)+t[10].height/2-7.5)+")")&&B(c,"transform",h),8192&e[0]&&B(d,"width",t[13]),4096&e[0]&&B(d,"height",t[12]),12300&e[0]&&g!==(g="translate("+(t[3](t[18])-t[13]/2)+", "+(t[2](t[19])-t[12]/2)+")")&&B(f,"transform",g),32&e[0]&&B(n,"width",t[5]),16&e[0]&&B(n,"height",t[4])},i:t,o:t,d(t){t&&b(n),A(D,t),A(w,t),A(C,t),A(N,t)}}}const Wl=(t,e)=>e+1;function Ll(t,e,n){let r,i,o,u,a,l,c,h,f,d,p,g,m,D,v,y,w,x;s(t,Sn,(t=>n(24,D=t))),s(t,En,(t=>n(22,v=t))),s(t,Dn,(t=>n(14,y=t))),s(t,Vn,(t=>n(15,w=t))),s(t,Rn,(t=>n(16,x=t)));let{numX:b=7}=e,{numY:A=1}=e;P((()=>{const t=ci("#agent-g").node().getBoundingClientRect();n(13,r=t.width),n(12,i=t.height),n(11,u=ci("#reward-1").node().getBoundingClientRect()),n(10,a=ci("#reward-3").node().getBoundingClientRect()),n(21,o=ci("path.arrow-up").node().getBoundingClientRect())}));const E=D.x,F=D.y;return t.$$set=t=>{"numX"in t&&n(0,b=t.numX),"numY"in t&&n(1,A=t.numY)},t.$$.update=()=>{4194304&t.$$.dirty[0]&&n(5,l=8*v),4194304&t.$$.dirty[0]&&n(4,c=v),4194304&t.$$.dirty[0]&&console.log("lw",v),33&t.$$.dirty[0]&&n(6,h=l/b),18&t.$$.dirty[0]&&n(9,f=c/A),2097216&t.$$.dirty[0]&&n(8,d={right:{x:h/6,y:o.width/2+5},left:{x:-h/6,y:-o.width/2-5}}),33&t.$$.dirty[0]&&n(3,p=cn().domain([0,b]).range([0,l])),18&t.$$.dirty[0]&&n(2,g=cn().domain([0,A]).range([0,c])),12&t.$$.dirty[0]&&n(7,m=zt().x((t=>p(t.x))).y((t=>g(t.y))))},n(13,r=20),n(12,i=20),n(21,o={height:560,width:490,x:105,y:0}),n(11,u={height:0,width:0,x:0,y:0}),n(10,a={height:30,width:0,x:0,y:0}),[b,A,g,p,c,l,h,m,d,f,a,u,i,r,y,w,x,{left:90,right:270},E,F,[[0,0],[7,0]],o,v,(t,e)=>e.length==[t%A,Math.floor(t/A)].length&&e.every(((e,n)=>[Math.floor(t/A),t%A][n]==e))]}class Vl extends pt{constructor(t){super(),dt(this,t,Ll,Pl,a,{numX:0,numY:1},null,[-1,-1])}}class Hl{constructor(t=[1,3],e=4,n=4,r={[[3,2]]:2,[[0,0]]:3},i={[[2,2]]:-5},o={},u=!0,a=!1,s=.4){if(this.start=t,this.state=t,this.rows=e,this.columns=n,this.board=Array(this.rows).fill(0).map((t=>Array(this.columns).fill(0))),this.exploringStarts=a,this.exploringStartsProb=s,this.deterministic=u,this.wins=r,this.losses=i,this.exploringStarts){this.availableStarts=[];for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++){var l=[t,e];l in this.wins||l in this.losses||this.availableStarts.push([t,e])}}else this.availableStarts=this.start}giveReward(){return this.state in this.wins?this.wins[this.state]:this.state in this.losses?this.losses[this.state]:0}isEndFunc(){return this.state in this.wins||this.state in this.losses}reset(t=!1){return t?(this.state=this.start,[this.state,this.giveReward(),this.isEndFunc()]):this.exploringStarts&&Math.random()<this.exploringStartsProb?(this.state=this.availableStarts[Math.floor(Math.random()*this.availableStarts.length)],[this.state,this.giveReward(),this.isEndFunc()]):(this.state=this.start,[this.state,this.giveReward(),this.isEndFunc()])}step(t){var e;if(this.deterministic)return(e="up"===t?[this.state[0]-1,this.state[1]]:"down"===t?[this.state[0]+1,this.state[1]]:"left"===t?[this.state[0],this.state[1]-1]:[this.state[0],this.state[1]+1])[0]>=0&&e[0]<=this.rows-1&&e[1]>=0&&e[1]<=this.columns-1&&(this.state=e),[this.state,this.giveReward(),this.isEndFunc()]}render(){var t,e;this.board[this.state]=1;for(var n=0,r=this.rows;n<r;n+=1){console.log("-----------------"),t="| ";for(var i=0,o=this.columns;i<o;i+=1)1===this.board[[n,i]]&&(e="*"),-1===this.board[[n,i]]&&(e="z"),0===this.board[[n,i]]&&(e="0"),t+=e+" | ";console.log(t)}console.log("-----------------")}}class Ul{constructor(t,e,n,r,i="sarsa",o=.1,u=.1,a=.9,s=.7){this.actions=t>1?["up","down","left","right"]:["left","right"],this.epsilon=o,this.rows=t,this.columns=e,this.wins=n,this.losses=r,this.tdUpdate=i,this.alpha=u,this.gamma=a,this.lambda=s,this.qValues=Array(),this.resetQValues(),this.traceMatrix=Array(),this.resetTraceMatrix()}resetQValues(){if(this.qValues=new Array(this.rows).fill(new Array(this.columns).fill(new Array(this.actions.length).fill(0))),1==this.rows)for(let t=0;t<this.columns;t++)this.qValues[0][t][0]=1.5}resetTraceMatrix(){this.traceMatrix=new Array(this.rows).fill(new Array(this.columns).fill(new Array(this.actions.length).fill(0)))}chooseAction(t,e=!1){var n;return n=Math.random()<=this.epsilon&&!e?Math.floor(Math.random()*this.actions.length):function(t){return t.map(((t,e)=>[t,e])).reduce(((t,e)=>e[0]>t[0]?e:t))[1]}(this.qValues[t[0]][t[1]]),[this.actions[n],n]}runEpisodes(t,e=10,n=2e3){for(var r,i,o,u,a=Array(),s=0;s<e;s+=1){a=0==a.length?ul(this.qValues,[1,this.rows,this.columns,this.actions.length]):[...a,this.qValues],[o,i,r]=t.reset();for(var l=0;l<n;l+=1){const[e,n]=this.chooseAction(o),r=this.qValues[o[0]][o[1]][n],[i,a,s]=t.step(e);this.chooseAction(i),"q-learning"==this.tdUpdate?u=a+this.gamma*Math.max.apply(null,this.qValues[i[0]][i[1]])-r:"sarsa"==this.tdUpdate?u=a+this.gamma*this.qValues[i[0]][i[1]][n]-r:print("Please set 'tdUpdate' to either 'sarsa' or 'q-learning'."),this.traceMatrix[o[0]][o[1]][n]+=1;const l=this.alpha*u;this.qValues=sl(this.qValues,ll(l,this.traceMatrix));const c=this.gamma*this.lambda;if(this.traceMatrix=ll(c,this.traceMatrix),o=i,1==s){o=t.reset()[0];break}}if(s==e-1)o=t.reset(!0)[0]}return a}}function Zl(t){let e,n,r,i,u,a,s,l,c,h,f,d,p,g,m,D,y,w,A,F,M,$,k,z,O,q,I,j,R,P,W,L,V,H,U,Z,Y,X,Q,J,G,K,tt,et,nt,rt,it,at,st,ft,dt,pt,gt,mt,Dt,vt,yt,wt,xt,bt;return W=new Vl({props:{numX:t[2],numY:Yl}}),H=new Cl({}),{c(){e=E("h2"),e.textContent="Navigating in a Line World",n=_(),r=E("p"),r.textContent="Let’s progress to a slightly more complex environment. Now, the robot and\n  trees are located on a line. The robot has to decide which action to take:\n  move left or move right. Each action moves the robot one step in that direction. \n  The main difference from the previous scenario is that the robot’s actions affect \n  its state in the environment, reflected by its location. The robot must now learn \n  how valuable each action is depending on its state. \n  This defines a policy that the robot can follow, by learning which action \n  it should take in each state. This is reflected by the arrow in each state, \n  corresponding to the action with the greater Q-value for that particular state.",i=_(),u=E("br"),a=E("br"),s=_(),l=E("p"),l.innerHTML='The robot currently follows a policy where it moves to the tree on the left,\n  having previously discovered that the tree yields bananas. Though the\n  tree on the left is closer to the robot&#39;s initial position, \n  the right tree actually generates much higher rewards, making it\n  more fruitful. If the robot strictly follows its current policy, it will\n  always move to the left tree. This is called exploitation, as the robot\n  exploits its knowledge when deciding how to pursue rewards. The robot needs to\n  explore in order to reduce the uncertainty about the tree on the right, in\n  order to learn that it actually yields greater rewards. This introduces an\n  important concept in reinforcement learning:  <span class="bold">the explore-exploit dilemma</span>. Agents must balance exploiting \n  known rewards with exploring the environment, and potentially \n  discovering more rewarding actions.',c=_(),h=E("br"),f=E("br"),d=_(),p=E("p"),p.innerHTML='Constantly performing the action that the robot believes yields the greatest\n  reward is called being <span class="bold">greedy</span>. This does not allow the robot to explore at\n  all, and the robot will never discover that the other tree yields greater\n  rewards. To allow for some exploration, the robot can select actions according\n  to <span class="bold">epsilon-greedy policy</span>. This is a simple\n  way to balance exploration and exploitation, by exploring (i.e. choosing action\n  randomly) with probability epsilon and exploiting by greedily following the\n  policy with probability 1-epsilon. Increasing epsilon increases exploration.',g=_(),m=E("br"),D=E("br"),y=_(),w=E("p"),w.textContent="See for yourself how increasing epsilon can change the robot's behavior,\n  leading to updating the Q-values and policy. Setting epsilon to zero \n  will result in a greedy polcy.",A=_(),F=E("section"),M=E("div"),$=E("div"),$.innerHTML='<div class="step-lineworld svelte-1aqu2db" data-index="0"><div class="step-content svelte-1aqu2db"><p class="svelte-1aqu2db">Let&#39;s observe the explore-exploit dilemma in the following\n            simulation. The robot&#39;s initial policy suggests perpetually \n            going left towards the tree that has already been\n            discovered.</p></div></div> \n      <div class="step-lineworld svelte-1aqu2db" data-index="1"><div class="step-content svelte-1aqu2db"><p class="svelte-1aqu2db">The robot has sampled 15 episodes or trials following the\n            epsilon-greedy policy discussed before. You can see the robot still\n            prefers stepping towards the tree on the left for all the states\n            despite the one on the right producing higher rewards. Let&#39;s allow \n            the robot to explore the environment further...</p></div></div> \n      <div class="step-lineworld svelte-1aqu2db" data-index="2"><div class="step-content svelte-1aqu2db"><p class="svelte-1aqu2db">The robot has now sampled 2500 episodes following the epsilon-greedy\n            policy. You can observe how the robot has updated its policy to\n            prefer stepping towards the tree on the right instead. The plots\n            indicate moving towards the right is more fruitful in each state.</p></div></div> \n      <div class="spacer svelte-1aqu2db"></div>',k=_(),z=E("div"),O=E("div"),q=E("div"),I=E("table"),I.innerHTML='<tr><th class="table-head svelte-1aqu2db">Agent</th> \n              <th class="table-head svelte-1aqu2db">Environment</th> \n              <th class="table-head svelte-1aqu2db">State</th> \n              <th class="table-head svelte-1aqu2db">Actions</th> \n              <th class="table-head svelte-1aqu2db">Reward</th></tr> \n            <tr><td class="svelte-1aqu2db">Robot</td> \n              <td class="svelte-1aqu2db">Line World</td> \n              <td class="svelte-1aqu2db">X-Position</td> \n              <td class="svelte-1aqu2db">Move Left, Move Right</td> \n              <td class="svelte-1aqu2db">Number of Bananas</td></tr>',j=_(),R=E("div"),P=E("div"),lt(W.$$.fragment),L=_(),V=E("div"),lt(H.$$.fragment),U=_(),Z=E("div"),Y=E("p"),X=C("Epsilon: "),Q=C(t[1]),J=_(),G=E("input"),K=_(),tt=E("div"),et=E("button"),et.textContent="Simulate Episode",nt=_(),rt=E("button"),rt.textContent="Run 15 Episodes",it=_(),at=E("button"),at.textContent="Run 50 Episodes",st=_(),ft=E("button"),ft.textContent="Optimal Policy",dt=_(),pt=E("button"),pt.textContent="Reset",gt=_(),mt=E("br"),Dt=E("br"),vt=_(),yt=E("p"),yt.innerHTML='Humans often balance short-term gratification and long-term consequences in their decision-making. \n    We are predisposed to value rewards received now more than those received in the future. This makes\n    sense as the distant future is more uncertain than the present. \n    Similarly, the agent needs to find a balance between acquiring immediate rewards and considering \n    long-term gain. The Q-values for the Line World and the upcoming Grid World environments are estimated to be\n    the expected <span class="bold">discounted</span> cummulative rewards. This simply means rewards \n    received later are worth less than those recieved immediately. For more information, refer this \n    <a href="http://incompleteideas.net/book/the-book.html">book.</a>',B(e,"class","body-secondary-header"),B(r,"class","body-text"),B(l,"class","body-text"),B(p,"class","body-text"),B(w,"class","body-text"),B($,"class","steps-container svelte-1aqu2db"),B(I,"class","svelte-1aqu2db"),B(P,"id","simulation-chart"),B(P,"class","svelte-1aqu2db"),B(V,"id","scatter-chart"),B(V,"class","svelte-1aqu2db"),B(R,"id","graph-container"),B(R,"class","svelte-1aqu2db"),B(G,"type","range"),B(G,"min","0.0"),B(G,"max","1.0"),B(G,"step","0.1"),B(G,"maxlength","20"),B(G,"class","slider"),B(G,"id","epsilonslider"),B(Z,"id","input-container"),B(Z,"class","svelte-1aqu2db"),B(et,"class","svelte-1aqu2db"),B(rt,"class","svelte-1aqu2db"),B(at,"class","svelte-1aqu2db"),B(ft,"class","svelte-1aqu2db"),B(pt,"class","svelte-1aqu2db"),B(tt,"id","buttons-container"),B(tt,"class","svelte-1aqu2db"),B(O,"class","chart-one svelte-1aqu2db"),B(z,"class","charts-container svelte-1aqu2db"),B(M,"class","scrolly-container svelte-1aqu2db"),B(yt,"class","body-text"),B(F,"id","scrolly"),B(F,"class","svelte-1aqu2db")},m(o,b){x(o,e,b),x(o,n,b),x(o,r,b),x(o,i,b),x(o,u,b),x(o,a,b),x(o,s,b),x(o,l,b),x(o,c,b),x(o,h,b),x(o,f,b),x(o,d,b),x(o,p,b),x(o,g,b),x(o,m,b),x(o,D,b),x(o,y,b),x(o,w,b),x(o,A,b),x(o,F,b),v(F,M),v(M,$),v(M,k),v(M,z),v(z,O),v(O,q),v(q,I),v(q,j),v(q,R),v(R,P),ct(W,P,null),v(R,L),v(R,V),ct(H,V,null),v(q,U),v(q,Z),v(Z,Y),v(Y,X),v(Y,Q),v(Z,J),v(Z,G),T(G,t[1]),v(q,K),v(q,tt),v(tt,et),v(tt,nt),v(tt,rt),v(tt,it),v(tt,at),v(tt,st),v(tt,ft),v(tt,dt),v(tt,pt),v(F,gt),v(F,mt),v(F,Dt),v(F,vt),v(F,yt),wt=!0,xt||(bt=[N(G,"change",t[7]),N(G,"input",t[7]),N(G,"input",t[8]),N(et,"click",t[9]),N(rt,"click",t[10]),N(at,"click",t[11]),N(ft,"click",t[12]),N(pt,"click",t[13])],xt=!0)},p(t,[e]){(!wt||2&e)&&S(Q,t[1]),2&e&&T(G,t[1])},i(t){wt||(ot(W.$$.fragment,t),ot(H.$$.fragment,t),wt=!0)},o(t){ut(W.$$.fragment,t),ut(H.$$.fragment,t),wt=!1},d(t){t&&b(e),t&&b(n),t&&b(r),t&&b(i),t&&b(u),t&&b(a),t&&b(s),t&&b(l),t&&b(c),t&&b(h),t&&b(f),t&&b(d),t&&b(p),t&&b(g),t&&b(m),t&&b(D),t&&b(y),t&&b(w),t&&b(A),t&&b(F),ht(W),ht(H),xt=!1,o(bt)}}}const Yl=1,Xl=3.5,Ql=.5;function Jl(t){return t.map(((t,e)=>[t,e])).reduce(((t,e)=>e[0]>t[0]?e:t))[1]}function Gl(t,e,n){let r,i,o,u;s(t,Vn,(t=>n(19,r=t))),s(t,yn,(t=>n(1,i=t))),s(t,Rn,(t=>n(20,o=t))),s(t,Ln,(t=>n(21,u=t)));o[0].x,o[0].y;const a=new Hl([0,3],Yl,8,{[[0,0]]:1,[[0,7]]:7},{},!0,!0,0);var l=new Ul(a.rows,a.columns,a.wins,a.losses,"q-learning",i,.1,.8,.5),h=Array(),f=0,d=[];function p(t,e){if(f>2500)return;let n=l.runEpisodes(a,t);for(let r=0;r<t;r++)++f%u==u-1&&(console.log(f,r),e.push(n[r]),d.push(f+1));v(),Sn.set({x:Xl,y:Ql}),Rn.set([{x:Xl,y:Ql}]),e=Array()}function g(t=15){Sn.set({x:Xl,y:Ql}),Rn.set([{x:Xl,y:Ql}]);let e,n,i=3,u=0;for(let l=0;l<t&&(!([u,i]in a.wins)&&!([u,i]in a.losses));l++){let t=r[i];var s="left";t.maxDirection.length&&(s=t.maxDirection[t.maxDirection.length-1]),"left"==s?(e=i-1,n=u):"right"==s&&(e=i+1,n=u),e>=0&&e<=a.columns-1&&(i=e,u=n),Sn.set({x:i+.5,y:u+.5});const l=[...o,{x:i+.5,y:u+.5}];Rn.set(l)}}function m(){D(!0),p(2500,h)}function D(t=!1){f=0,d=[];var e=t?.5:i;l=new Ul(a.rows,a.columns,a.wins,a.losses,"q-learning",e,.1,.8,.5),Sn.set({x:Xl,y:Ql}),l.resetQValues(),l.resetTraceMatrix(),Rn.set([{x:Xl,y:Ql}]),Vn.set([{episodeNumber:[0],left:[0],right:[0],maxDirection:[],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],left:[0],right:[0],maxDirection:[],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],left:[0],right:[0],maxDirection:[],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],left:[0],right:[0],maxDirection:[],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],left:[0],right:[0],maxDirection:[],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],left:[0],right:[0],maxDirection:[],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],left:[0],right:[0],maxDirection:[],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],left:[0],right:[0],maxDirection:[],leftWeight:[0],rightWeight:[0]}]),n(0,h=Array()),v()}function v(){if(0!=h.length){var t=d.length-h.length;for(let e=0;e<h.length;e++){const n=r.map(((n,r)=>{const i=h[e][0][r][0],o=h[e][0][r][1],u=Jl([i,o]);let a;0==u?a="left":1==u&&(a="right");const s=Math.abs(i)+Math.abs(o);return{episodeNumber:[...n.episodeNumber,d[t+e]],left:[...n.left,h[e][0][r][0]],right:[...n.right,h[e][0][r][1]],maxDirection:[...n.maxDirection,a],leftWeight:[...n.leftWeight,i/s||0],rightWeight:[...n.rightWeight,o/s||0]}}));c(Vn,r=[...n],r)}n(0,h=Array()),console.log(r)}}D();const y={0:()=>{D(!0),console.log("step 0")},1:()=>{D(!0),p(15,h),console.log("step 1")},2:()=>{D(!0),console.log("step 2"),p(2500,h)},3:()=>{console.log("step")},4:()=>{console.log("step")},5:()=>{}};P((()=>{hi(".step-lineworld").nodes().forEach((t=>{w.observe(t)}))}));let w=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const e=t.target.getAttribute("data-index");e in y&&function(t){t in y&&y[t]()}(e)}}))}),{threshold:.7});return[h,i,8,p,g,m,D,function(){i=$(this.value),yn.set(i)},()=>D(),()=>g(),()=>p(15,h),()=>p(50,h),()=>m(),()=>D()]}class Kl extends pt{constructor(t){super(),dt(this,t,Gl,Zl,a,{})}}function tc(t,{delay:e=0,speed:n,duration:r,easing:i=dn}={}){let o=t.getTotalLength();const u=getComputedStyle(t);return"butt"!==u.strokeLinecap&&(o+=parseInt(u.strokeWidth)),void 0===r?r=void 0===n?800:o/n:"function"==typeof r&&(r=r(o)),{delay:e,duration:r,easing:i,css:(t,e)=>`\n\t\t\tstroke-dasharray: ${o};\n\t\t\tstroke-dashoffset: ${e*o};\n\t\t`}}function ec(t,e,n){const r=t.slice();return r[16]=e[n],r}function nc(t,e,n){const r=t.slice();return r[16]=e[n],r}function rc(t){let e,n,r,i,o=(t[16]%t[5]==0?t[11](t[16]):"")+"";return{c(){e=F("g"),n=F("text"),r=C(o),B(n,"class","axis-text svelte-tk1l0e"),B(n,"y","7"),B(n,"text-anchor","middle"),B(e,"transform",i=`translate(${t[3](t[16])+0} ${t[0]-t[4].bottom})`)},m(t,i){x(t,e,i),v(e,n),v(n,r)},p(t,n){40&n&&o!==(o=(t[16]%t[5]==0?t[11](t[16]):"")+"")&&S(r,o),25&n&&i!==(i=`translate(${t[3](t[16])+0} ${t[0]-t[4].bottom})`)&&B(e,"transform",i)},d(t){t&&b(e)}}}function ic(t){let e,n,r,i,o,u,a,s,l,c,h,f,d,p,g,m,D=(t[16]%2==0?t[11](t[16]):"")+"";return{c(){e=F("g"),n=F("text"),r=C(D),o=_(),u=F("line"),h=_(),f=F("line"),B(n,"class","axis-text svelte-tk1l0e"),B(n,"y","0"),B(n,"dx","1"),B(n,"text-anchor","end"),B(n,"dominant-baseline","middle"),B(e,"transform",i=`translate(${t[4].left-5} ${t[2](t[16])+0})`),B(u,"class","axis-line"),B(u,"x1",a=t[4].left),B(u,"x2",s=t[4].left),B(u,"y1",l=t[4].top),B(u,"y2",c=t[0]-t[4].bottom),B(u,"stroke","black"),B(f,"class","axis-line"),B(f,"x1",d=t[4].left),B(f,"x2",p=t[1]-t[4].right),B(f,"y1",g=t[0]-t[4].bottom),B(f,"y2",m=t[0]-t[4].bottom),B(f,"stroke","black")},m(t,i){x(t,e,i),v(e,n),v(n,r),x(t,o,i),x(t,u,i),x(t,h,i),x(t,f,i)},p(t,n){4&n&&D!==(D=(t[16]%2==0?t[11](t[16]):"")+"")&&S(r,D),20&n&&i!==(i=`translate(${t[4].left-5} ${t[2](t[16])+0})`)&&B(e,"transform",i),16&n&&a!==(a=t[4].left)&&B(u,"x1",a),16&n&&s!==(s=t[4].left)&&B(u,"x2",s),16&n&&l!==(l=t[4].top)&&B(u,"y1",l),17&n&&c!==(c=t[0]-t[4].bottom)&&B(u,"y2",c),16&n&&d!==(d=t[4].left)&&B(f,"x1",d),18&n&&p!==(p=t[1]-t[4].right)&&B(f,"x2",p),17&n&&g!==(g=t[0]-t[4].bottom)&&B(f,"y1",g),17&n&&m!==(m=t[0]-t[4].bottom)&&B(f,"y2",m)},d(t){t&&b(e),t&&b(o),t&&b(u),t&&b(h),t&&b(f)}}}function oc(t){let e,n,r,i,o,u,a,s,l,c,h,f,d,p,g,m,D,v,y,w=t[3].ticks(),E=[];for(let e=0;e<w.length;e+=1)E[e]=rc(nc(t,w,e));let C=t[2].ticks(),N=[];for(let e=0;e<C.length;e+=1)N[e]=ic(ec(t,C,e));return{c(){e=F("path"),i=_(),o=F("path"),s=_(),l=F("path"),f=_(),d=F("path"),m=_();for(let t=0;t<E.length;t+=1)E[t].c();D=_();for(let t=0;t<N.length;t+=1)N[t].c();v=M(),B(e,"class","q-path pathUp-line svelte-tk1l0e"),B(e,"d",n=t[6](t[10])),B(o,"class","q-path pathDown-line svelte-tk1l0e"),B(o,"d",u=t[6](t[9])),B(l,"class","q-path pathLeft-line svelte-tk1l0e"),B(l,"d",c=t[6](t[8])),B(d,"class","q-path pathRight-line svelte-tk1l0e"),B(d,"d",p=t[6](t[7]))},m(t,n){x(t,e,n),x(t,i,n),x(t,o,n),x(t,s,n),x(t,l,n),x(t,f,n),x(t,d,n),x(t,m,n);for(let e=0;e<E.length;e+=1)E[e]&&E[e].m(t,n);x(t,D,n);for(let e=0;e<N.length;e+=1)N[e]&&N[e].m(t,n);x(t,v,n),y=!0},p(t,[r]){if((!y||1088&r&&n!==(n=t[6](t[10])))&&B(e,"d",n),(!y||576&r&&u!==(u=t[6](t[9])))&&B(o,"d",u),(!y||320&r&&c!==(c=t[6](t[8])))&&B(l,"d",c),(!y||192&r&&p!==(p=t[6](t[7])))&&B(d,"d",p),2105&r){let e;for(w=t[3].ticks(),e=0;e<w.length;e+=1){const n=nc(t,w,e);E[e]?E[e].p(n,r):(E[e]=rc(n),E[e].c(),E[e].m(D.parentNode,D))}for(;e<E.length;e+=1)E[e].d(1);E.length=w.length}if(2071&r){let e;for(C=t[2].ticks(),e=0;e<C.length;e+=1){const n=ec(t,C,e);N[e]?N[e].p(n,r):(N[e]=ic(n),N[e].c(),N[e].m(v.parentNode,v))}for(;e<N.length;e+=1)N[e].d(1);N.length=C.length}},i(t){y||(Y((()=>{y&&(r||(r=st(e,tc,{duration:2e3},!0)),r.run(1))})),Y((()=>{y&&(a||(a=st(o,tc,{duration:2e3},!0)),a.run(1))})),Y((()=>{y&&(h||(h=st(l,tc,{duration:2e3},!0)),h.run(1))})),Y((()=>{y&&(g||(g=st(d,tc,{duration:2e3},!0)),g.run(1))})),y=!0)},o(t){r||(r=st(e,tc,{duration:2e3},!1)),r.run(0),a||(a=st(o,tc,{duration:2e3},!1)),a.run(0),h||(h=st(l,tc,{duration:2e3},!1)),h.run(0),g||(g=st(d,tc,{duration:2e3},!1)),g.run(0),y=!1},d(t){t&&b(e),t&&r&&r.end(),t&&b(i),t&&b(o),t&&a&&a.end(),t&&b(s),t&&b(l),t&&h&&h.end(),t&&b(f),t&&b(d),t&&g&&g.end(),t&&b(m),A(E,t),t&&b(D),A(N,t),t&&b(v)}}}function uc(t,e,n){let r,i,o,u,a,l,c,h,f,d,p,g;s(t,Hn,(t=>n(14,d=t))),s(t,An,(t=>n(4,p=t))),s(t,zn,(t=>n(15,g=t)));let{height:m=500}=e,{width:D=500}=e,{index:v=0}=e;const y=nn(".2d");return t.$$set=t=>{"height"in t&&n(0,m=t.height),"width"in t&&n(1,D=t.width),"index"in t&&n(12,v=t.index)},t.$$.update=()=>{16384&t.$$.dirty&&n(13,r=d[0].episodeNumber[d[0].episodeNumber.length-1]),8210&t.$$.dirty&&n(3,i=cn().domain([0,r+1]).range([p.left,D-p.right])),17&t.$$.dirty&&n(2,o=cn().domain([-5.1,8]).range([m-p.bottom,p.top])),53248&t.$$.dirty&&n(10,u=d[v].up.map(((t,e)=>({x:g*e,y:t})))),53248&t.$$.dirty&&n(9,a=d[v].down.map(((t,e)=>({x:g*e,y:t})))),53248&t.$$.dirty&&n(8,l=d[v].left.map(((t,e)=>({x:g*e,y:t})))),53248&t.$$.dirty&&n(7,c=d[v].right.map(((t,e)=>({x:g*e,y:t})))),16&t.$$.dirty&&console.log("gm",p.top),12&t.$$.dirty&&n(6,h=zt().x((t=>i(t.x))).y((t=>o(t.y)))),16384&t.$$.dirty&&n(5,f=d[0].episodeNumber[d[0].episodeNumber.length-1]>400?150:d[0].episodeNumber[d[0].episodeNumber.length-1]>100?50:10)},[m,D,o,i,p,f,h,c,l,a,u,y,v,r,d,g]}class ac extends pt{constructor(t){super(),dt(this,t,uc,oc,a,{height:0,width:1,index:12})}}function sc(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function lc(t){let e,n,r,i;return n=new ac({props:{index:t[11],width:t[5],height:t[4]}}),{c(){e=F("g"),lt(n.$$.fragment),B(e,"transform",r="translate("+t[3](t[9].x)+", "+t[2](t[9].y)+")")},m(t,r){x(t,e,r),ct(n,e,null),i=!0},p(t,o){const u={};32&o&&(u.width=t[5]),16&o&&(u.height=t[4]),n.$set(u),(!i||12&o&&r!==(r="translate("+t[3](t[9].x)+", "+t[2](t[9].y)+")"))&&B(e,"transform",r)},i(t){i||(ot(n.$$.fragment,t),i=!0)},o(t){ut(n.$$.fragment,t),i=!1},d(t){t&&b(e),ht(n)}}}function cc(t){let e,n,r=t[6],i=[];for(let e=0;e<r.length;e+=1)i[e]=lc(sc(t,r,e));const o=t=>ut(i[t],1,1,(()=>{i[t]=null}));return{c(){e=F("svg");for(let t=0;t<i.length;t+=1)i[t].c();B(e,"width",t[1]),B(e,"height",t[0]),B(e,"class","svelte-1w0xqs8")},m(t,r){x(t,e,r);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,null);n=!0},p(t,[u]){if(124&u){let n;for(r=t[6],n=0;n<r.length;n+=1){const o=sc(t,r,n);i[n]?(i[n].p(o,u),ot(i[n],1)):(i[n]=lc(o),i[n].c(),ot(i[n],1),i[n].m(e,null))}for(rt(),n=r.length;n<i.length;n+=1)o(n);it()}(!n||2&u)&&B(e,"width",t[1]),(!n||1&u)&&B(e,"height",t[0])},i(t){if(!n){for(let t=0;t<r.length;t+=1)ot(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)ut(i[t]);n=!1},d(t){t&&b(e),A(i,t)}}}function hc(t,e,n){let r,i,o,u,a,l;s(t,bn,(t=>n(0,a=t))),s(t,xn,(t=>n(1,l=t)));let{numX:c=4}=e,{numY:h=4}=e,f=[];for(let t=0;t<c;t++)for(let e=0;e<h;e++)f.push({x:t,y:e});return t.$$set=t=>{"numX"in t&&n(7,c=t.numX),"numY"in t&&n(8,h=t.numY)},t.$$.update=()=>{130&t.$$.dirty&&n(5,r=l/c),257&t.$$.dirty&&n(4,i=a/h),130&t.$$.dirty&&n(3,o=cn().domain([0,c]).range([0,l])),257&t.$$.dirty&&n(2,u=cn().domain([0,h]).range([0,a]))},[a,l,u,o,i,r,f,c,h]}class fc extends pt{constructor(t){super(),dt(this,t,hc,cc,a,{numX:7,numY:8})}}function dc(t,e,n){const r=t.slice();return r[26]=e[n],r}function pc(t,e,n){const r=t.slice();return r[29]=e[n],r}function gc(t,e,n){const r=t.slice();return r[29]=e[n],r}function mc(t,e,n){const r=t.slice();return r[34]=e[n],r[36]=n,r}function Dc(t,e,n){const r=t.slice();return r[37]=e[n],r}function vc(t,e,n){const r=t.slice();return r[40]=e[n],r}function yc(t,e,n){const r=t.slice();return r[43]=e[n],r}function wc(t){let e,n,r,i,o,u,a,s,l,c,h,f,d=t[43]+"",p=t[43]+"";return{c(){e=F("g"),n=F("line"),i=F("text"),o=C(d),a=F("g"),s=F("line"),c=F("text"),h=C(p),B(n,"class","grid-line svelte-md1ugn"),B(n,"x1","0"),B(n,"x2","0"),B(n,"y1","0"),B(n,"y2",r=-t[7]+t[18].bottom+t[18].top),B(i,"class","auc-axis-text"),B(i,"y","15"),B(i,"text-anchor","middle"),B(e,"transform",u=`translate(${t[1](t[43])+0} ${t[7]-t[18].bottom})`),B(s,"class","grid-line svelte-md1ugn"),B(s,"x1","0"),B(s,"x2",l=t[8]-t[18].right-t[18].left),B(s,"y1","0"),B(s,"y2","0"),B(c,"class","auc-axis-text"),B(c,"y","0"),B(c,"text-anchor","end"),B(c,"dominant-baseline","middle"),B(a,"transform",f=`translate(${t[18].left} ${t[0](t[43])+0})`)},m(t,r){x(t,e,r),v(e,n),v(e,i),v(i,o),x(t,a,r),v(a,s),v(a,c),v(c,h)},p(t,i){262272&i[0]&&r!==(r=-t[7]+t[18].bottom+t[18].top)&&B(n,"y2",r),262274&i[0]&&u!==(u=`translate(${t[1](t[43])+0} ${t[7]-t[18].bottom})`)&&B(e,"transform",u),262400&i[0]&&l!==(l=t[8]-t[18].right-t[18].left)&&B(s,"x2",l),262145&i[0]&&f!==(f=`translate(${t[18].left} ${t[0](t[43])+0})`)&&B(a,"transform",f)},d(t){t&&b(e),t&&b(a)}}}function xc(t){let e,n=["up","down","left","right"],r=[];for(let e=0;e<4;e+=1)r[e]=Ec(Dc(t,n,e));return{c(){for(let t=0;t<4;t+=1)r[t].c();e=M()},m(t,n){for(let e=0;e<4;e+=1)r[e]&&r[e].m(t,n);x(t,e,n)},p(t,i){if(4720640&i[0]){let o;for(n=["up","down","left","right"],o=0;o<4;o+=1){const u=Dc(t,n,o);r[o]?r[o].p(u,i):(r[o]=Ec(u),r[o].c(),r[o].m(e.parentNode,e))}for(;o<4;o+=1)r[o].d(1)}},d(t){A(r,t),t&&b(e)}}}function bc(e){let n,r=console.log("skip")+"";return{c(){n=C(r)},m(t,e){x(t,n,e)},p:t,d(t){t&&b(n)}}}function Ac(t){let e,n;return{c(){e=F("path"),B(e,"d",t[40]),B(e,"class",l(`arrow-${t[37]} arrow`)+" svelte-md1ugn"),B(e,"stroke-width",0),B(e,"transform",`rotate(${t[22][t[37]]}) scale(0.05)`),B(e,"opacity",n=t[34].maxDirection[t[34].maxDirection.length-1]==t[37]?1:t[34][`${t[37]}Weight`][t[34].maxDirection.length-1])},m(t,n){x(t,e,n)},p(t,r){524288&r[0]&&n!==(n=t[34].maxDirection[t[34].maxDirection.length-1]==t[37]?1:t[34][`${t[37]}Weight`][t[34].maxDirection.length-1])&&B(e,"opacity",n)},d(t){t&&b(e)}}}function Ec(t){let e,n,r=fi,i=[];for(let e=0;e<r.length;e+=1)i[e]=Ac(vc(t,r,e));return{c(){e=F("g");for(let t=0;t<i.length;t+=1)i[t].c();B(e,"transform",n="translate("+t[11][t[37]].x+", "+t[11][t[37]].y+")")},m(t,n){x(t,e,n);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,null)},p(t,o){if(4718592&o[0]){let n;for(r=fi,n=0;n<r.length;n+=1){const u=vc(t,r,n);i[n]?i[n].p(u,o):(i[n]=Ac(u),i[n].c(),i[n].m(e,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}2048&o[0]&&n!==(n="translate("+t[11][t[37]].x+", "+t[11][t[37]].y+")")&&B(e,"transform",n)},d(t){t&&b(e),A(i,t)}}}function Fc(t){let e,n,r;function i(...e){return t[24](t[36],...e)}function o(t,e){return 512&e[0]&&(n=null),null==n&&(n=!!t[9].some(i)),n?bc:xc}let u=o(t,[-1,-1]),a=u(t);return{c(){e=F("g"),a.c(),B(e,"transform",r="translate("+(t[1](Math.floor(t[36]/$c))+t[2]/2)+", "+(t[0](t[36]%$c)+t[12]/2)+")")},m(t,n){x(t,e,n),a.m(e,null)},p(n,i){u===(u=o(t=n,i))&&a?a.p(t,i):(a.d(1),a=u(t),a&&(a.c(),a.m(e,null))),4103&i[0]&&r!==(r="translate("+(t[1](Math.floor(t[36]/$c))+t[2]/2)+", "+(t[0](t[36]%$c)+t[12]/2)+")")&&B(e,"transform",r)},d(t){t&&b(e),a.d()}}}function Cc(e){let n;return{c(){n=F("path"),B(n,"class","bananaPath svelte-md1ugn"),B(n,"d",e[29]),B(n,"transform","scale(0.13)")},m(t,e){x(t,n,e)},p:t,d(t){t&&b(n)}}}function _c(e){let n;return{c(){n=F("path"),B(n,"class","bananaPath svelte-md1ugn"),B(n,"d",e[29]),k(n,"transform","scale(0.13)")},m(t,e){x(t,n,e)},p:t,d(t){t&&b(n)}}}function Mc(e){let n;return{c(){n=F("path"),B(n,"class","cactusPath svelte-md1ugn"),B(n,"d",e[26]),k(n,"transform","scale(0.13)")},m(t,e){x(t,n,e)},p:t,d(t){t&&b(n)}}}function Nc(e){let n,r,i,o,u,a,s,l,c,h,f,d,p,g,m,D,y=[..."".padEnd(Bc)].map(Sc),w=[];for(let t=0;t<y.length;t+=1)w[t]=wc(yc(e,y,t));let E=e[19],C=[];for(let t=0;t<E.length;t+=1)C[t]=Fc(mc(e,E,t));let _=pi,N=[];for(let t=0;t<_.length;t+=1)N[t]=Cc(gc(e,_,t));let $=gi,S=[];for(let t=0;t<$.length;t+=1)S[t]=_c(pc(e,$,t));let T=mi,z=[];for(let t=0;t<T.length;t+=1)z[t]=Mc(dc(e,T,t));return{c(){n=F("svg");for(let t=0;t<w.length;t+=1)w[t].c();r=M();for(let t=0;t<C.length;t+=1)C[t].c();i=F("path"),u=F("path"),s=F("g");for(let t=0;t<N.length;t+=1)N[t].c();c=F("g");for(let t=0;t<S.length;t+=1)S[t].c();f=F("g");for(let t=0;t<z.length;t+=1)z[t].c();p=F("g"),g=F("rect"),m=F("path"),B(i,"class","agent-line-outline svelte-md1ugn"),B(i,"d",o=e[10](e[20])),B(u,"class","agent-line svelte-md1ugn"),B(u,"d",a=e[10](e[20])),B(s,"id","reward-1"),B(s,"transform",l="translate("+e[1](e[6][e[3]][0])+", "+(e[0](e[6][e[3]][1])+e[15].height/2-7.5)+")"),B(c,"id","reward-3"),B(c,"transform",h="translate("+e[1](e[5][e[3]][0])+", "+(e[0](e[5][e[3]][1])+e[14].height/2-7.5)+")"),B(f,"id","cactus"),B(f,"transform",d="translate("+(e[1](e[4][e[3]][0])+10)+", "+(e[0](e[4][e[3]][1])+e[13].height/2-12.5)+")"),B(g,"class","agent-rect svelte-md1ugn"),B(g,"width",e[17]),B(g,"height",e[16]),B(m,"d",di),k(m,"transform","scale(0.1)"),B(m,"stroke","white"),B(m,"stroke-width","1"),B(m,"fill","black"),B(p,"id","agent-g"),B(p,"transform",D="translate("+(e[1](e[21].x)-e[17]/2)+", "+(e[0](e[21].y)-e[16]/2)+")"),B(n,"width",e[8]),B(n,"height",e[7]),B(n,"class","svelte-md1ugn")},m(t,e){x(t,n,e);for(let t=0;t<w.length;t+=1)w[t]&&w[t].m(n,null);v(n,r);for(let t=0;t<C.length;t+=1)C[t]&&C[t].m(n,null);v(n,i),v(n,u),v(n,s);for(let t=0;t<N.length;t+=1)N[t]&&N[t].m(s,null);v(n,c);for(let t=0;t<S.length;t+=1)S[t]&&S[t].m(c,null);v(n,f);for(let t=0;t<z.length;t+=1)z[t]&&z[t].m(f,null);v(n,p),v(p,g),v(p,m)},p(t,e){if(262531&e[0]){let i;for(y=[..."".padEnd(Bc)].map(Sc),i=0;i<y.length;i+=1){const o=yc(t,y,i);w[i]?w[i].p(o,e):(w[i]=wc(o),w[i].c(),w[i].m(n,r))}for(;i<w.length;i+=1)w[i].d(1);w.length=y.length}if(4725255&e[0]){let r;for(E=t[19],r=0;r<E.length;r+=1){const o=mc(t,E,r);C[r]?C[r].p(o,e):(C[r]=Fc(o),C[r].c(),C[r].m(n,i))}for(;r<C.length;r+=1)C[r].d(1);C.length=E.length}if(1049600&e[0]&&o!==(o=t[10](t[20]))&&B(i,"d",o),1049600&e[0]&&a!==(a=t[10](t[20]))&&B(u,"d",a),0&e){let n;for(_=pi,n=0;n<_.length;n+=1){const r=gc(t,_,n);N[n]?N[n].p(r,e):(N[n]=Cc(r),N[n].c(),N[n].m(s,null))}for(;n<N.length;n+=1)N[n].d(1);N.length=_.length}if(32843&e[0]&&l!==(l="translate("+t[1](t[6][t[3]][0])+", "+(t[0](t[6][t[3]][1])+t[15].height/2-7.5)+")")&&B(s,"transform",l),0&e){let n;for($=gi,n=0;n<$.length;n+=1){const r=pc(t,$,n);S[n]?S[n].p(r,e):(S[n]=_c(r),S[n].c(),S[n].m(c,null))}for(;n<S.length;n+=1)S[n].d(1);S.length=$.length}if(16427&e[0]&&h!==(h="translate("+t[1](t[5][t[3]][0])+", "+(t[0](t[5][t[3]][1])+t[14].height/2-7.5)+")")&&B(c,"transform",h),0&e){let n;for(T=mi,n=0;n<T.length;n+=1){const r=dc(t,T,n);z[n]?z[n].p(r,e):(z[n]=Mc(r),z[n].c(),z[n].m(f,null))}for(;n<z.length;n+=1)z[n].d(1);z.length=T.length}8219&e[0]&&d!==(d="translate("+(t[1](t[4][t[3]][0])+10)+", "+(t[0](t[4][t[3]][1])+t[13].height/2-12.5)+")")&&B(f,"transform",d),131072&e[0]&&B(g,"width",t[17]),65536&e[0]&&B(g,"height",t[16]),2293763&e[0]&&D!==(D="translate("+(t[1](t[21].x)-t[17]/2)+", "+(t[0](t[21].y)-t[16]/2)+")")&&B(p,"transform",D),256&e[0]&&B(n,"width",t[8]),128&e[0]&&B(n,"height",t[7])},i:t,o:t,d(t){t&&b(n),A(w,t),A(C,t),A(N,t),A(S,t),A(z,t)}}}let Bc=4,$c=4;const Sc=(t,e)=>e+1;function Tc(t,e,n){let r,i,o,u,a,l,c,h,f,d,p,g,m,D,v,y,w,x,b,A,E,F,C;s(t,kn,(t=>n(3,D=t))),s(t,In,(t=>n(4,v=t))),s(t,qn,(t=>n(5,y=t))),s(t,On,(t=>n(6,w=t))),s(t,bn,(t=>n(7,x=t))),s(t,xn,(t=>n(8,b=t))),s(t,Dn,(t=>n(18,A=t))),s(t,Hn,(t=>n(19,E=t))),s(t,Pn,(t=>n(20,F=t))),s(t,Tn,(t=>n(21,C=t))),P((()=>{const t=ci("#agent-g").node().getBoundingClientRect();n(17,r=t.width),n(16,i=t.height),n(15,u=ci("#reward-1").node().getBoundingClientRect()),n(14,a=ci("#reward-3").node().getBoundingClientRect()),n(13,l=ci("#cactus").node().getBoundingClientRect()),n(23,o=ci("path.arrow-up").node().getBoundingClientRect())}));return t.$$.update=()=>{256&t.$$.dirty[0]&&n(2,c=b/Bc),128&t.$$.dirty[0]&&n(12,h=x/$c),8388612&t.$$.dirty[0]&&n(11,f={up:{x:o.width/2+5,y:-c/6},down:{x:-o.width/2-5,y:c/6},right:{x:c/6,y:o.width/2+5},left:{x:-c/6,y:-o.width/2-5}}),256&t.$$.dirty[0]&&n(1,d=cn().domain([0,Bc]).range([0,b])),128&t.$$.dirty[0]&&n(0,p=cn().domain([0,$c]).range([0,x])),3&t.$$.dirty[0]&&n(10,g=zt().x((t=>d(t.x))).y((t=>p(t.y)))),120&t.$$.dirty[0]&&n(9,m=[w[D],y[D],v[D]])},n(17,r=20),n(16,i=20),n(23,o={height:0,width:0,x:105,y:0}),n(15,u={height:0,width:0,x:0,y:0}),n(14,a={height:30,width:0,x:0,y:0}),n(13,l={height:0,width:0,x:0,y:0}),[p,d,c,D,v,y,w,x,b,m,g,f,h,l,a,u,i,r,A,E,F,C,{up:180,down:0,left:90,right:270},o,(t,e)=>e.length==[Math.floor(t/$c),t%$c].length&&e.every(((e,n)=>[Math.floor(t/$c),t%$c][n]==e))]}class kc extends pt{constructor(t){super(),dt(this,t,Tc,Nc,a,{},null,[-1,-1])}}function zc(t){let e,n,r,i,u,a,s,l,c,h,f,d,p,g,m,D,y,w,A,F,M,$,k,z,O,q,I,j,R,P,W,L,V,H,U,Z,Y,X,Q,J,G,K,tt,et,nt,rt;return k=new kc({}),O=new fc({}),{c(){e=E("h2"),e.textContent="Navigating in a Grid World",n=_(),r=E("p"),r.textContent="Now the robot is in a commonly used environment in reinforcement learning: the\n  gridworld. The robot can now move left, right, up, and down. Again, the\n  robot’s actions affect the environment by changing its state in the grid.",i=_(),u=E("br"),a=E("br"),s=_(),l=E("p"),l.innerHTML='There is an obstacle in the gridworld: a <span class="bold">cactus</span>. If\n  the robot steps onto the cactus, it will receive a\n  <span class="bold">negative reward</span> and will result in the termination of\n  the episode. Therefore, the robot should learn to avoid the cactus. Instead of\n  learning to move left or right as in the line world, now the robot must learn the\n  path to take.',c=_(),h=E("br"),f=E("br"),d=_(),p=E("p"),p.textContent="See for yourself how increasing epsilon can change the robot's behavior in\n  this 2-dimensional environment.",g=_(),m=E("section"),D=E("div"),y=E("div"),w=E("div"),A=E("div"),F=E("table"),F.innerHTML='<tr><th class="table-head svelte-oc1shd">Agent</th> \n              <th class="table-head svelte-oc1shd">Environment</th> \n              <th class="table-head svelte-oc1shd">State</th> \n              <th class="table-head svelte-oc1shd">Actions</th> \n              <th class="table-head svelte-oc1shd">Reward</th></tr> \n            <tr><td class="svelte-oc1shd">Robot</td> \n              <td class="svelte-oc1shd">Grid World</td> \n              <td class="svelte-oc1shd">X,Y-Position</td> \n              <td class="svelte-oc1shd">Move Left, Move Right, Move Up, Move Down</td> \n              <td class="svelte-oc1shd">Number of Bananas, Cactus</td></tr>',M=_(),$=E("div"),lt(k.$$.fragment),z=_(),lt(O.$$.fragment),q=_(),I=E("div"),j=E("p"),R=C("Epsilon: "),P=C(t[1]),W=_(),L=E("input"),V=_(),H=E("div"),U=E("button"),U.textContent="Current Route",Z=_(),Y=E("button"),Y.textContent="Run 25 Episodes",X=_(),Q=E("button"),Q.textContent="Run 150 Episodes",J=_(),G=E("button"),G.textContent="Optimal Solution",K=_(),tt=E("button"),tt.textContent="Reset",B(e,"class","body-secondary-header"),B(r,"class","body-text"),B(l,"class","body-text"),B(p,"class","body-text"),B(F,"class","svelte-oc1shd"),B($,"id","graph-container"),B($,"class","svelte-oc1shd"),B(L,"type","range"),B(L,"min","0.0"),B(L,"max","1.0"),B(L,"step","0.1"),B(L,"maxlength","20"),B(L,"class","slider"),B(L,"id","epsilonslider"),B(I,"id","input-container"),B(U,"class","svelte-oc1shd"),B(Y,"class","svelte-oc1shd"),B(Q,"class","svelte-oc1shd"),B(G,"class","svelte-oc1shd"),B(tt,"class","svelte-oc1shd"),B(H,"id","buttons-container"),B(H,"class","svelte-oc1shd"),B(w,"class","chart-one svelte-oc1shd"),B(y,"class","charts-container svelte-oc1shd"),B(D,"class","scrolly-container svelte-oc1shd"),B(m,"id","scrolly"),B(m,"class","svelte-oc1shd")},m(o,b){x(o,e,b),x(o,n,b),x(o,r,b),x(o,i,b),x(o,u,b),x(o,a,b),x(o,s,b),x(o,l,b),x(o,c,b),x(o,h,b),x(o,f,b),x(o,d,b),x(o,p,b),x(o,g,b),x(o,m,b),v(m,D),v(D,y),v(y,w),v(w,A),v(A,F),v(A,M),v(A,$),ct(k,$,null),v($,z),ct(O,$,null),v(A,q),v(A,I),v(I,j),v(j,R),v(j,P),v(I,W),v(I,L),T(L,t[1]),v(A,V),v(A,H),v(H,U),v(H,Z),v(H,Y),v(H,X),v(H,Q),v(H,J),v(H,G),v(H,K),v(H,tt),et=!0,nt||(rt=[N(L,"change",t[6]),N(L,"input",t[6]),N(L,"input",t[7]),N(U,"click",t[8]),N(Y,"click",t[9]),N(Q,"click",t[10]),N(G,"click",t[11]),N(tt,"click",t[12])],nt=!0)},p(t,e){(!et||2&e[0])&&S(P,t[1]),2&e[0]&&T(L,t[1])},i(t){et||(ot(k.$$.fragment,t),ot(O.$$.fragment,t),et=!0)},o(t){ut(k.$$.fragment,t),ut(O.$$.fragment,t),et=!1},d(t){t&&b(e),t&&b(n),t&&b(r),t&&b(i),t&&b(u),t&&b(a),t&&b(s),t&&b(l),t&&b(c),t&&b(h),t&&b(f),t&&b(d),t&&b(p),t&&b(g),t&&b(m),ht(k),ht(O),nt=!1,o(rt)}}}function Oc(t){return t.map(((t,e)=>[t,e])).reduce(((t,e)=>e[0]>t[0]?e:t))[1]}function qc(t,e,n){let r,i,o,u,a,l,h,f;s(t,Hn,(t=>n(20,r=t))),s(t,In,(t=>n(21,i=t))),s(t,On,(t=>n(22,o=t))),s(t,qn,(t=>n(23,u=t))),s(t,jn,(t=>n(24,a=t))),s(t,wn,(t=>n(1,l=t))),s(t,Pn,(t=>n(25,h=t))),s(t,zn,(t=>n(26,f=t)));const d=4;var p=Array(),g=0,m=[],D=.5,v=.5,y=new Hl,w=new Ul(y.rows,y.columns,y.wins,y.losses),x=0;function b(t,e){if(g>3e3)return;let n=w.runEpisodes(y,t);for(let r=0;r<t;r++)g%f==f-1&&(e.push(n[r]),m.push(g+1)),g++;C(),Tn.set({x:D,y:v}),Pn.set([{x:D,y:v}]),e=Array()}function A(t=15){Tn.set({x:D,y:v}),Pn.set([{x:D,y:v}]);let e,n,i=D-.5,o=v-.5;for(let a=0;a<t&&(!([o,i]in y.wins)&&!([o,i]in y.losses));a++){let t=r[o+d*i];var u="up";t.maxDirection.length&&(u=t.maxDirection[t.maxDirection.length-1]),"up"==u?(e=i,n=o-1):"down"==u?(e=i,n=o+1):"left"==u?(e=i-1,n=o):(e=i+1,n=o),e>=0&&e<=y.rows-1&&n>=0&&n<=y.columns-1&&(i=e,o=n),Tn.set({x:i+.5,y:o+.5});const a=[...h,{x:i+.5,y:o+.5}];Pn.set(a)}}function E(){F(!0,!1),b(3e3,p)}function F(t=!1,e=!0){g=0,m=[];var r=t?.7:l;e&&(x=Math.floor(Math.random()*a.length)),kn.set(x),D=a[x][0]+.5,v=a[x][1]+.5,Tn.set({x:D,y:v});var s={};s[[u[x][1],u[x][0]]]=10,s[[o[x][1],o[x][0]]]=2;var c={};c[[i[x][1],i[x][0]]]=-5,y=new Hl([v-.5,D-.5],4,d,s,c,{},!0,!0,0),w=new Ul(y.rows,y.columns,y.wins,y.losses,"q-learning",r,.1,.8,.5),Tn.set({x:D,y:v}),w.resetQValues(),w.resetTraceMatrix(),Pn.set([{x:D,y:v}]),Hn.set([{episodeNumber:[0],up:[0],down:[0],left:[0],right:[0],maxDirection:[],upWeight:[0],downWeight:[0],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],up:[0],down:[0],left:[0],right:[0],maxDirection:[],upWeight:[0],downWeight:[0],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],up:[0],down:[0],left:[0],right:[0],maxDirection:[],upWeight:[0],downWeight:[0],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],up:[0],down:[0],left:[0],right:[0],maxDirection:[],upWeight:[0],downWeight:[0],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],up:[0],down:[0],left:[0],right:[0],maxDirection:[],upWeight:[0],downWeight:[0],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],up:[0],down:[0],left:[0],right:[0],maxDirection:[],upWeight:[0],downWeight:[0],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],up:[0],down:[0],left:[0],right:[0],maxDirection:[],upWeight:[0],downWeight:[0],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],up:[0],down:[0],left:[0],right:[0],maxDirection:[],upWeight:[0],downWeight:[0],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],up:[0],down:[0],left:[0],right:[0],maxDirection:[],upWeight:[0],downWeight:[0],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],up:[0],down:[0],left:[0],right:[0],maxDirection:[],upWeight:[0],downWeight:[0],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],up:[0],down:[0],left:[0],right:[0],maxDirection:[],upWeight:[0],downWeight:[0],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],up:[0],down:[0],left:[0],right:[0],maxDirection:[],upWeight:[0],downWeight:[0],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],up:[0],down:[0],left:[0],right:[0],maxDirection:[],upWeight:[0],downWeight:[0],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],up:[0],down:[0],left:[0],right:[0],maxDirection:[],upWeight:[0],downWeight:[0],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],up:[0],down:[0],left:[0],right:[0],maxDirection:[],upWeight:[0],downWeight:[0],leftWeight:[0],rightWeight:[0]},{episodeNumber:[0],up:[0],down:[0],left:[0],right:[0],maxDirection:[],upWeight:[0],downWeight:[0],leftWeight:[0],rightWeight:[0]}]),n(0,p=Array()),C()}function C(){if(0!=p.length){var t=m.length-p.length;for(let e=0;e<p.length;e++){const n=r.map(((n,r)=>{const i=r%4,o=Math.floor(r/4),u=p[e][i][o][0],a=p[e][i][o][1],s=p[e][i][o][2],l=p[e][i][o][3],c=Oc([u,a,s,l]);let h;0==c?h="up":1==c?h="down":2==c?h="left":3==c&&(h="right");const f=Math.abs(u)+Math.abs(a)+Math.abs(s)+Math.abs(l);return{episodeNumber:[...n.episodeNumber,m[t+e]],up:[...n.up,u],down:[...n.down,a],left:[...n.left,s],right:[...n.right,l],maxDirection:[...n.maxDirection,h],upWeight:[...n.upWeight,u/f||0],downWeight:[...n.downWeight,a/f||0],leftWeight:[...n.leftWeight,s/f||0],rightWeight:[...n.rightWeight,l/f||0]}}));c(Hn,r=[...n],r)}n(0,p=Array()),console.log(r)}}F();const _={0:()=>{console.log("step")},1:()=>{console.log("step")},2:()=>{console.log("step")},3:()=>{console.log("step")},4:()=>{console.log("step")},5:()=>{}};P((()=>{hi(".step-gridworld").nodes().forEach((t=>{M.observe(t)}))}));let M=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const e=t.target.getAttribute("data-index");e in _&&function(t){t in _&&_[t]()}(e)}}))}),{threshold:.7});return[p,l,b,A,E,F,function(){l=$(this.value),wn.set(l)},()=>F(!1,!1),()=>A(),()=>b(25,p),()=>b(150,p),()=>E(),()=>F()]}class Ic extends pt{constructor(t){super(),dt(this,t,qc,zc,a,{},null,[-1,-1])}}function jc(e){let n,r,i,o,u,a,s,l,c,h;return u=new pl({}),s=new Kl({}),c=new Ic({}),{c(){n=E("h1"),n.textContent="Simulation",r=_(),i=E("p"),i.textContent="Let’s see reinforcement learning in action! We’ll walk through a scenario with\n  a robot learning to find bananas.",o=_(),lt(u.$$.fragment),a=_(),lt(s.$$.fragment),l=_(),lt(c.$$.fragment),B(n,"class","body-header"),B(i,"class","body-text")},m(t,e){x(t,n,e),x(t,r,e),x(t,i,e),x(t,o,e),ct(u,t,e),x(t,a,e),ct(s,t,e),x(t,l,e),ct(c,t,e),h=!0},p:t,i(t){h||(ot(u.$$.fragment,t),ot(s.$$.fragment,t),ot(c.$$.fragment,t),h=!0)},o(t){ut(u.$$.fragment,t),ut(s.$$.fragment,t),ut(c.$$.fragment,t),h=!1},d(t){t&&b(n),t&&b(r),t&&b(i),t&&b(o),ht(u,t),t&&b(a),ht(s,t),t&&b(l),ht(c,t)}}}class Rc extends pt{constructor(t){super(),dt(this,t,null,jc,a,{})}}function Pc(e){let n,r,i,o,u,a,s;return{c(){n=E("h1"),n.textContent="Conclusion",r=_(),i=E("p"),i.textContent="In this article, we introduced some of the major concepts in reinforcement\n  learning. We demonstrated how an agent learns from taking actions and\n  observing rewards in a multi-armed bandit problem, as well as when navigating\n  in multi-dimensional environments.",o=_(),u=E("br"),a=_(),s=E("p"),s.innerHTML='Thanks for reading. We hope that the article is insightful no matter where you\n  are along your Machine Learning journey, and that you came away with a better\n  understanding of some of the difficulties of evaluating classification models.\n  <br/><br/>\n  To learn more about Machine Learning, check out our\n  <a class="on-end" href="https://www.youtube.com/channel/UC12LqyqTQYbXatYS9AA7Nuw">YouTube videos</a>, and the\n  <a class="on-end" href="https://d2l.ai/">Dive into Deep Learning</a>\n  textbook. If you have any comments or ideas related to\n  <a class="on-end" href="https://house-of-wisdom-edu.github.io/Machine-learning/">MLU-Explain articles</a>, feel free to reach out\n  <a class="on-end" href="https://twitter.com/jdwlbr">directly</a>.  Banana icons provided by leo-graph.com from\n  <a href="https://thenounproject.com/browse/icons/term/bananas/" target="_blank" title="Bananas Icons">Noun Project</a>. Cactus icon provided by anam from \n  <a href="https://thenounproject.com/icon/cactus-1466024/" target="_blank" title="Cactus Icon">Noun Project</a>.',B(n,"class","body-header"),B(i,"class","body-text"),B(s,"class","body-text")},m(t,e){x(t,n,e),x(t,r,e),x(t,i,e),x(t,o,e),x(t,u,e),x(t,a,e),x(t,s,e)},p:t,i:t,o:t,d(t){t&&b(n),t&&b(r),t&&b(i),t&&b(o),t&&b(u),t&&b(a),t&&b(s)}}}class Wc extends pt{constructor(t){super(),dt(this,t,null,Pc,a,{})}}function Lc(e){let n,r,i,o,u,a,s;return{c(){n=E("br"),r=_(),i=E("br"),o=_(),u=E("br"),a=_(),s=E("section"),s.innerHTML='<br/> \n  <h3 class="body-header">References + Open Source</h3> \n  <p class="body-text svelte-geidpz">This article is a product of the following resources + the awesome people\n    who made (and contributed to) them:</p> \n  <br/> \n  <p class="resource-item svelte-geidpz"><a class="on-end svelte-geidpz" href="http://incompleteideas.net/book/the-book.html">Reinforcement Learning: An Introduction</a><br/>(Richard Sutton &amp; Andrew Barto, 2018)</p> \n  <p class="resource-item svelte-geidpz"><a class="on-end svelte-geidpz" href="https://d3js.org/">D3.js</a><br/>(Mike Bostock &amp;\n    Philippe Rivière)</p> \n  <p class="resource-item svelte-geidpz"><a class="on-end svelte-geidpz" href="https://katex.org/">KaTeX</a>  <br/>(Emily Eisenberg\n    &amp; Sophie Alpert)</p> \n  <p class="resource-item svelte-geidpz"><a class="on-end svelte-geidpz" href="https://svelte.dev/">Svelte</a><br/>(Rich Harris)</p> \n  <br/> \n  <br/> \n  <br/>',B(s,"id","resources"),B(s,"class","svelte-geidpz")},m(t,e){x(t,n,e),x(t,r,e),x(t,i,e),x(t,o,e),x(t,u,e),x(t,a,e),x(t,s,e)},p:t,i:t,o:t,d(t){t&&b(n),t&&b(r),t&&b(i),t&&b(o),t&&b(u),t&&b(a),t&&b(s)}}}class Vc extends pt{constructor(t){super(),dt(this,t,null,Lc,a,{})}}const{window:Hc}=D;function Uc(e){let n,r,i,o,u,a,s,l,c,h,f,d,p,g,m,D;return n=new Dt({}),i=new yt({}),u=new xt({}),s=new At({}),c=new Rc({}),f=new Wc({}),p=new Vc({}),{c(){lt(n.$$.fragment),r=_(),lt(i.$$.fragment),o=_(),lt(u.$$.fragment),a=_(),lt(s.$$.fragment),l=_(),lt(c.$$.fragment),h=_(),lt(f.$$.fragment),d=_(),lt(p.$$.fragment)},m(t,v){ct(n,t,v),x(t,r,v),ct(i,t,v),x(t,o,v),ct(u,t,v),x(t,a,v),ct(s,t,v),x(t,l,v),ct(c,t,v),x(t,h,v),ct(f,t,v),x(t,d,v),ct(p,t,v),g=!0,m||(D=N(Hc,"resize",e[0]),m=!0)},p:t,i(t){g||(ot(n.$$.fragment,t),ot(i.$$.fragment,t),ot(u.$$.fragment,t),ot(s.$$.fragment,t),ot(c.$$.fragment,t),ot(f.$$.fragment,t),ot(p.$$.fragment,t),g=!0)},o(t){ut(n.$$.fragment,t),ut(i.$$.fragment,t),ut(u.$$.fragment,t),ut(s.$$.fragment,t),ut(c.$$.fragment,t),ut(f.$$.fragment,t),ut(p.$$.fragment,t),g=!1},d(t){ht(n,t),t&&b(r),ht(i,t),t&&b(o),ht(u,t),t&&b(a),ht(s,t),t&&b(l),ht(c,t),t&&b(h),ht(f,t),t&&b(d),ht(p,t),m=!1,D()}}}function Zc(t,e,n){let r,i,o,u,a,l,h,f,d;function p(){const t=window.innerWidth;t>900&&t<1200?(c(bn,d=400,d),c(xn,f=400,f),c(An,h={top:8,bottom:20,left:16,right:14},h),c(En,l=100,l),c(Cn,a=430,a),c(_n,u=200,u),c(Nn,o=.13,o),c(Bn,i=.09,i),c(Mn,r=.22,r)):t<900?(console.log("k"),c(bn,d=300,d),c(xn,f=300,f),c(An,h={top:8,bottom:20,left:16,right:14},h),c(En,l=70,l),c(Cn,a=330,a),c(_n,u=150,u),c(Nn,o=.1,o),c(Bn,i=.07,i),c(Mn,r=.2,r)):(c(bn,d=500,d),c(xn,f=500,f),c(An,h={top:8,bottom:20,left:16,right:15},h),c(En,l=125,l),c(Cn,a=430,a),c(_n,u=200,u),c(Nn,o=.13,o),c(Bn,i=.09,i),c(Mn,r=.22,r))}return s(t,Mn,(t=>n(1,r=t))),s(t,Bn,(t=>n(2,i=t))),s(t,Nn,(t=>n(3,o=t))),s(t,_n,(t=>n(4,u=t))),s(t,Cn,(t=>n(5,a=t))),s(t,En,(t=>n(6,l=t))),s(t,An,(t=>n(7,h=t))),s(t,xn,(t=>n(8,f=t))),s(t,bn,(t=>n(9,d=t))),p(),[p]}return new class extends pt{constructor(t){super(),dt(this,t,Zc,Uc,a,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
